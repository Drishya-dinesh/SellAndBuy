"use strict";(self.webpackChunksell_and_buy=self.webpackChunksell_and_buy||[]).push([[285],{4285:(y,u,g)=>{g.r(u),g.d(u,{AuthModule:()=>A});var d=g(9808),l=g(1402),e=g(5e3);let f=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),n})();var p=g(9071),M=g(4375),h=g(9727),c=g(2382),_=g(6042),O=g(2643),C=g(2683),m=g(6695);const a=function(n){return{error:n}};function v(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.TgZ(4,"span"),e._uU(5,"Sell and Buy"),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e._uU(7," Sign in to your account "),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().validateLogin()})("ngModelChange",function(o){return e.CHM(t),e.oxw().loginObject.email=o}),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().validateLogin()})("ngModelChange",function(o){return e.CHM(t),e.oxw().loginObject.password=o}),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().login()}),e._uU(12,"Sign In"),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"span",11),e._uU(15,"Don't have an account?"),e.qZA(),e.TgZ(16,"span",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().gotoRegister()}),e.TgZ(17,"a",13),e._uU(18,"Register"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",14),e._uU(20),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.loginObject.email)("ngClass",e.VKq(6,a,t.loginErrorMessage&&!t.loginObject.email)),e.xp6(1),e.Q6J("ngModel",t.loginObject.password)("ngClass",e.VKq(8,a,t.loginErrorMessage&&!t.loginObject.password)),e.xp6(1),e.Q6J("nzLoading",t.loginLoading),e.xp6(9),e.Oqu(t.loginErrorMessage)}}function b(n,i){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Q6J("nzTooltipTitle",t.registerObject.fullName.errorMessage)}}function x(n,i){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Q6J("nzTooltipTitle",t.registerObject.email.errorMessage)}}function j(n,i){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Q6J("nzTooltipTitle",t.registerObject.phone.errorMessage)}}function P(n,i){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Q6J("nzTooltipTitle",t.registerObject.password.errorMessage)}}function T(n,i){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Q6J("nzTooltipTitle",t.registerObject.confirmPassword.errorMessage)}}function Z(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",15),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.TgZ(4,"span"),e._uU(5,"Sell and Buy"),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e._uU(7," Register your account "),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",16),e.TgZ(10,"input",17),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().registerObject.fullName.value=o}),e.qZA(),e.YNc(11,b,1,1,"img",18),e.qZA(),e.TgZ(12,"div",16),e.TgZ(13,"input",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().registerObject.email.value=o}),e.qZA(),e.YNc(14,x,1,1,"img",18),e.qZA(),e.TgZ(15,"div",16),e.TgZ(16,"input",20),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().registerObject.phone.value=o}),e.qZA(),e.YNc(17,j,1,1,"img",18),e.qZA(),e.TgZ(18,"div",16),e.TgZ(19,"input",8),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().registerObject.password.value=o}),e.qZA(),e.YNc(20,P,1,1,"img",18),e.qZA(),e.TgZ(21,"div",16),e.TgZ(22,"input",21),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().registerObject.confirmPassword.value=o}),e.qZA(),e.YNc(23,T,1,1,"img",18),e.qZA(),e.TgZ(24,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().register()}),e._uU(25,"Register"),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"span",11),e._uU(28,"Already have an account?"),e.qZA(),e.TgZ(29,"span",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().backToLogin()}),e.TgZ(30,"a",13),e._uU(31,"Login"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.registerObject.fullName.value)("ngClass",e.VKq(16,a,t.registerObject.fullName.errorMessage)),e.xp6(1),e.Q6J("ngIf",t.registerObject.fullName.errorMessage),e.xp6(2),e.Q6J("ngModel",t.registerObject.email.value)("ngClass",e.VKq(18,a,t.registerObject.email.errorMessage)),e.xp6(1),e.Q6J("ngIf",t.registerObject.email.errorMessage),e.xp6(2),e.Q6J("ngModel",t.registerObject.phone.value)("ngClass",e.VKq(20,a,t.registerObject.phone.errorMessage)),e.xp6(1),e.Q6J("ngIf",t.registerObject.phone.errorMessage),e.xp6(2),e.Q6J("ngModel",t.registerObject.password.value)("ngClass",e.VKq(22,a,t.registerObject.password.errorMessage)),e.xp6(1),e.Q6J("ngIf",t.registerObject.password.errorMessage),e.xp6(2),e.Q6J("ngModel",t.registerObject.confirmPassword.value)("ngClass",e.VKq(24,a,t.registerObject.confirmPassword.errorMessage)),e.xp6(1),e.Q6J("ngIf",t.registerObject.confirmPassword.errorMessage),e.xp6(1),e.Q6J("nzLoading",t.registerLoading)}}const w=[{path:"",component:f,children:[{path:"",component:(()=>{class n{constructor(t,r,o){this.router=t,this.fireBaseService=r,this.message=o,this.staticCreds=[],this.pageType="login",this.loginObject={email:"",password:""},this.loginErrorMessage="",this.registerObject={fullName:{value:"",errorMessage:""},email:{value:"",errorMessage:""},phone:{value:"",errorMessage:""},password:{value:"",errorMessage:""},confirmPassword:{value:"",errorMessage:""},errorFlag:!1},this.registerLoading=!1,this.loginLoading=!1}ngOnInit(){const t=sessionStorage.getItem("isLoggedIn");t&&JSON.parse(t||"")&&this.router.navigate(["home"])}login(){this.loginErrorMessage=this.validateLogin().message,this.loginErrorMessage||(this.loginLoading=!0,this.fireBaseService.checkUserExists(p.U.USERS,this.loginObject).subscribe(t=>{if(this.loginLoading=!1,t.length>0){const r=t[0];sessionStorage.setItem("userName",r.fullName),sessionStorage.setItem("userId",r.email),sessionStorage.setItem("isLoggedIn","true"),this.router.navigate(["home"])}else this.loginErrorMessage="Login failed, Please check your Email and password."}))}register(){this.validateRegister();let t=!1;if(Object.keys(this.registerObject).forEach(r=>{this.registerObject[r].errorMessage&&(t=!0)}),!t){let r={};r.fullName=this.registerObject.fullName.value,r.email=this.registerObject.email.value,r.password=this.registerObject.password.value,r.phone=this.registerObject.phone.value,this.registerLoading=!0,this.fireBaseService.checkEmailExists(p.U.USERS,this.registerObject.email.value).subscribe(o=>{o.length>0?(this.message.create("error","User already exists, Please try login."),this.registerLoading=!1):this.fireBaseService.addUsers(p.U.USERS,r).then(s=>{this.message.create("success","Registration Successful, Please Login to continue."),this.backToLogin()}).catch(()=>{this.message.create("error","Registration Failed, Please Try again later.")}).finally(()=>{this.registerLoading=!1})})}}gotoRegister(){this.pageType="register"}backToLogin(){this.pageType="login"}validateLogin(){const t={validFlag:!0,message:""};return 0===this.loginObject.email.length&&0===this.loginObject.password.length?(t.validFlag=!1,t.message="Please enter username and password",t):0===this.loginObject.email.length?(t.validFlag=!1,t.message="Please enter username",t):(0===this.loginObject.password.length&&(t.validFlag=!1,t.message="Please enter password"),t)}validateRegister(){this.registerObject.fullName.value.trim().split(/\s+/).length<2?(this.registerObject.fullName.errorMessage="Please enter your full name.",this.registerObject.errorFlag=!0):this.registerObject.fullName.errorMessage="",/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.registerObject.email.value.toLocaleLowerCase())?(this.registerObject.email.errorMessage="",this.registerObject.errorFlag=!1):(this.registerObject.email.errorMessage="Please enter valid email ID",this.registerObject.errorFlag=!0),10!==this.registerObject.phone.value.length?(this.registerObject.phone.errorMessage="Please enter valid phone number",this.registerObject.errorFlag=!0):(this.registerObject.phone.errorMessage="",this.registerObject.errorFlag=!1),this.registerObject.password.value.length<8?(this.registerObject.password.errorMessage="Password should be at least 8 characters",this.registerObject.errorFlag=!0):0===this.registerObject.password.value.length?(this.registerObject.password.errorMessage="Please enter password",this.registerObject.errorFlag=!0):(this.registerObject.password.errorMessage="",this.registerObject.errorFlag=!1),0===this.registerObject.confirmPassword.value.length?(this.registerObject.confirmPassword.errorMessage="Please enter password",this.registerObject.errorFlag=!0):this.registerObject.password.errorMessage||this.registerObject.password.value===this.registerObject.confirmPassword.value?(this.registerObject.confirmPassword.errorMessage="",this.registerObject.errorFlag=!1):(this.registerObject.confirmPassword.errorMessage="Password mismatch",this.registerObject.errorFlag=!0),this.registerObject.password.value.length<8&&(this.registerObject.password.errorMessage="Password should be at least 8 characters",this.registerObject.errorFlag=!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.F0),e.Y36(M.D),e.Y36(h.dD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","login-container d-flex align-items-center justify-content-center",4,"ngIf"],[1,"login-container","d-flex","align-items-center","justify-content-center"],[1,"login-card","rounded-3","p-5"],[1,"logo-section","d-flex","align-items-center"],["src","assets/images/logo.png"],[1,"login-label",2,"color","#fff"],[1,"input-filed"],["placeholder","Username",1,"form-control","username",3,"ngModel","ngClass","ngModelChange"],["placeholder","Password","type","password",1,"form-control","password",3,"ngModel","ngClass","ngModelChange"],["nz-button","","nzType","primary",1,"btn","btn-primary","w-100",3,"nzLoading","click"],[1,"d-flex","justify-content-between","mt-2","px-1"],[2,"color","#fff"],[3,"click"],["href","javascript:void(0)"],[1,"login-error","d-flex","justify-content-center","text-danger"],[1,"register-card","rounded-3","p-5"],[1,"reg-input-group"],["placeholder","Full Name",1,"form-control","username",3,"ngModel","ngClass","ngModelChange"],["nz-tooltip","","src","assets/images/info.svg",3,"nzTooltipTitle",4,"ngIf"],["placeholder","Email",1,"form-control","username",3,"ngModel","ngClass","ngModelChange"],["placeholder","Phone Number","type","text",1,"form-control","username",3,"ngModel","ngClass","ngModelChange"],["placeholder","Confirm Password","type","password",1,"form-control","password",3,"ngModel","ngClass","ngModelChange"],["nz-tooltip","","src","assets/images/info.svg",3,"nzTooltipTitle"]],template:function(t,r){1&t&&(e.YNc(0,v,21,10,"div",0),e.YNc(1,Z,32,26,"div",0)),2&t&&(e.Q6J("ngIf","login"===r.pageType),e.xp6(1),e.Q6J("ngIf","register"===r.pageType))},directives:[d.O5,c.Fj,c.JJ,c.On,d.mk,_.ix,O.dQ,C.w,m.SY],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh;background:#fff;padding:30px;overflow:auto}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{height:450px;width:450px;background-color:#2f2c3c}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;margin-right:10px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#fff}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-label[_ngcontent-%COMP%]{font-size:20px;margin-top:30px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]{margin-top:15px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;background:#ec7200}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{height:640px;width:450px;background-color:#2f2c3c}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;margin-right:10px}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:18px}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .login-label[_ngcontent-%COMP%]{font-size:20px;margin-top:30px}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]{margin-top:15px}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .input-filed[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;background:#ec7200}input.error[_ngcontent-%COMP%]{border-color:#f33;outline:0;box-shadow:0 0 0 .2rem #fda7a7}.reg-input-group[_ngcontent-%COMP%]{position:relative}.reg-input-group[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:14px;right:10px;height:20px;cursor:pointer}"]}),n})()}]}];let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,L,c.u5,m.cg,_.sL,h.gR]]}),n})()}}]);