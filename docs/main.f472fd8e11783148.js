"use strict";(self.webpackChunksell_and_buy=self.webpackChunksell_and_buy||[]).push([[179],{3546:(Nt,He,L)=>{L.d(He,{ST:()=>qv,yb:()=>tD});var Le,p=L(5e3),Z=L(4986),G=L(8306),De=L(8996),he=L(9646),Te=L(5813),ke=L(8675),Ie=L(1520),me=L(4004),te=L(5026),ae=L(1884),Oe=L(9300),lt=L(2011),Je=L(9808),pt=(L(4087),L(3942)),fe=L(5861),Fe=L(9681),ct=L(4859),Ze=L(1877),Ne=L(2090),Ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ge={},Ct=Ct||{},Ce=Ye||self;function ne(){}function le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ve(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var je="closure_uid_"+(1e9*Math.random()>>>0),_e=0;function xt(i,e,t){return i.call.apply(i.bind,arguments)}function en(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Jt(i,e,t){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xt:en).apply(null,arguments)}function Dt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Bt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,d){for(var g=Array(arguments.length-2),S=2;S<arguments.length;S++)g[S-2]=arguments[S];return e.prototype[l].apply(o,g)}}function Vt(){this.s=this.s,this.o=this.o}var gr={};Vt.prototype.s=!1,Vt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Se(i){return Object.prototype.hasOwnProperty.call(i,je)&&i[je]||(i[je]=++_e)}(this);delete gr[i]}},Vt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Jn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in l&&e.call(t,l[d],d,i)};function Dn(i){return Array.prototype.concat.apply([],arguments)}function Wn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function dr(i){return/^[\s\xa0]*$/.test(i)}var Pn,Fr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function wn(i,e){return-1!=i.indexOf(e)}function br(i,e){return i<e?-1:i>e?1:0}e:{var Lr=Ce.navigator;if(Lr){var Ur=Lr.userAgent;if(Ur){Pn=Ur;break e}}Pn=""}function ln(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function tn(i){const e={};for(const t in i)e[t]=i[t];return e}var Rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let d=0;d<Rn.length;d++)t=Rn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function sr(i){return sr[" "](i),i}sr[" "]=ne;var Kt,i,Pe=wn(Pn,"Opera"),Ae=wn(Pn,"Trident")||wn(Pn,"MSIE"),et=wn(Pn,"Edge"),ft=et||Ae,Lt=wn(Pn,"Gecko")&&!(wn(Pn.toLowerCase(),"webkit")&&!wn(Pn,"Edge"))&&!(wn(Pn,"Trident")||wn(Pn,"MSIE"))&&!wn(Pn,"Edge"),bt=wn(Pn.toLowerCase(),"webkit")&&!wn(Pn,"Edge");function zt(){var i=Ce.document;return i?i.documentMode:void 0}e:{var An="",hr=(i=Pn,Lt?/rv:([^\);]+)(\)|;)/.exec(i):et?/Edge\/([\d\.]+)/.exec(i):Ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):bt?/WebKit\/(\S+)/.exec(i):Pe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(hr&&(An=hr?hr[1]:""),Ae){var Yn=zt();if(null!=Yn&&Yn>parseFloat(An)){Kt=String(Yn);break e}}Kt=An}var fr={};var gn=Ce.document&&Ae&&(zt()||parseInt(Kt,10))||void 0,kt=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ce.addEventListener("test",ne,e),Ce.removeEventListener("test",ne,e)}catch(t){}return i}();function tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Wt(i,e){if(tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Lt){e:{try{sr(e.nodeName);var l=!0;break e}catch(d){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Zt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Wt.Z.h.call(this)}}tt.prototype.h=function(){this.defaultPrevented=!0},Bt(Wt,tt);var Zt={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),En=0;function de(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++En,this.ca=this.fa=!1}function ee(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ue(i){this.src=i,this.g={},this.h=0}function We(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],l=pr(o,e);(d=0<=l)&&Array.prototype.splice.call(o,l,1),d&&(ee(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ue(i,e,t,o){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return l}return-1}ue.prototype.add=function(i,e,t,o,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=Ue(i,e,o,l);return-1<g?(e=i[g],t||(e.fa=!1)):((e=new de(e,this.src,d,!!o,l)).fa=t,i.push(e)),e};var At="closure_lm_"+(1e6*Math.random()|0),xe={};function ge(i,e,t,o,l){if(o&&o.once)return rt(i,e,t,o,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ge(i,e[d],t,o,l);return null}return t=Ui(t),i&&i[Mt]?i.N(e,t,ve(o)?!!o.capture:!!o,l):oe(i,e,t,!1,o,l)}function oe(i,e,t,o,l,d){if(!e)throw Error("Invalid event type");var g=ve(l)?!!l.capture:!!l,S=Vi(i);if(S||(i[At]=S=new ue(i)),(t=S.add(e,t,o,g,d)).proxy)return t;if(o=function Ve(){var e=yr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)kt||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Sn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function rt(i,e,t,o,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)rt(i,e[d],t,o,l);return null}return t=Ui(t),i&&i[Mt]?i.O(e,t,ve(o)?!!o.capture:!!o,l):oe(i,e,t,!0,o,l)}function It(i,e,t,o,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)It(i,e[d],t,o,l);else o=ve(o)?!!o.capture:!!o,t=Ui(t),i&&i[Mt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ue(d=i.g[e],t,o,l))&&(ee(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Vi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ue(e,t,o,l)),(t=-1<i?e[i]:null)&&Xt(t))}function Xt(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Mt])We(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Sn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Vi(e))?(We(t,i),0==t.h&&(t.src=null,e[At]=null)):ee(i)}}}function Sn(i){return i in xe?xe[i]:xe[i]="on"+i}function yr(i,e){if(i.ca)i=!0;else{e=new Wt(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Xt(i),i=t.call(o,e)}return i}function Vi(i){return(i=i[At])instanceof ue?i:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(i){return"function"==typeof i?i:(i[Ei]||(i[Ei]=function(e){return i.handleEvent(e)}),i[Ei])}function er(){Vt.call(this),this.i=new ue(this),this.P=this,this.I=null}function Un(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new tt(e,i);else if(e instanceof tt)e.target=e.target||i;else{var l=e;Xn(e=new tt(o,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];l=ns(g,o,!0,e)&&l}if(l=ns(g=e.g=i,o,!0,e)&&l,l=ns(g,o,!1,e)&&l,t)for(d=0;d<t.length;d++)l=ns(g=e.g=t[d],o,!1,e)&&l}function ns(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ca&&g.capture==t){var S=g.listener,F=g.ia||g.src;g.fa&&We(i.i,g),l=!1!==S.call(F,o)&&l}}return l&&!o.defaultPrevented}Bt(er,Vt),er.prototype[Mt]=!0,er.prototype.removeEventListener=function(i,e,t,o){It(this,i,e,t,o)},er.prototype.M=function(){if(er.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ee(t[o]);delete i.g[e],i.h--}}this.I=null},er.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},er.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var qn=Ce.JSON.stringify;function Ht(){var i=io;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ir,Zn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new kr,i=>i.reset());class kr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pi(i){Ce.setTimeout(()=>{throw i},0)}function tr(i,e){Ir||function kn(){var i=Ce.Promise.resolve(void 0);Ir=function(){i.then(yn)}}(),Ai||(Ir(),Ai=!0),io.add(i,e)}var Ai=!1,io=new class Cn{constructor(){this.h=this.g=null}add(e,t){const o=Zn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function yn(){for(var i;i=Ht();){try{i.h.call(i.g)}catch(t){Pi(t)}var e=Zn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ai=!1}function co(i,e){er.call(this),this.h=i||1,this.g=e||Ce,this.j=Jt(this.kb,this),this.l=Date.now()}function oo(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function uo(i,e,t){if("function"==typeof i)t&&(i=Jt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Jt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ce.setTimeout(i,e||0)}function ji(i){i.g=uo(()=>{i.g=null,i.i&&(i.i=!1,ji(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Bt(co,er),(Le=co.prototype).da=!1,Le.S=null,Le.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Un(this,"tick"),this.da&&(oo(this),this.start()))}},Le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.M=function(){co.Z.M.call(this),oo(this),delete this.g};class Pr extends Vt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ji(this)}M(){super.M(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(i){Vt.call(this),this.h=i,this.g={}}Bt(hi,Vt);var Bi=[];function jr(i,e,t,o){Array.isArray(t)||(t&&(Bi[0]=t.toString()),t=Bi);for(var l=0;l<t.length;l++){var d=ge(e,t[l],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function nr(i){ln(i.g,function(e,t){this.g.hasOwnProperty(t)&&Xt(e)},i),i.g={}}function Hi(){this.g=!0}function Yr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function So(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return qn(t)}catch(S){return e}}(i,t)+(o?" "+o:"")})}hi.prototype.M=function(){hi.Z.M.call(this),nr(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hi.prototype.Aa=function(){this.g=!1},Hi.prototype.info=function(){};var oi={},Qr=null;function ho(){return Qr=Qr||new er}function rs(i){tt.call(this,oi.Ma,i)}function cr(i){const e=ho();Un(e,new rs(e,i))}function is(i,e){tt.call(this,oi.STAT_EVENT,i),this.stat=e}function si(i){const e=ho();Un(e,new is(e,i))}function Ti(i,e){tt.call(this,oi.Na,i),this.size=e}function zo(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){i()},e)}oi.Ma="serverreachability",Bt(rs,tt),oi.STAT_EVENT="statevent",Bt(is,tt),oi.Na="timingevent",Bt(Ti,tt);var wi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vr(){}function ps(){}vr.prototype.h=null;var fo,$o={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bs(){tt.call(this,"d")}function os(){tt.call(this,"c")}function po(){}function pi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new hi(this),this.P=Si,this.W=new co(i=ft?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new No}function No(){this.i=null,this.g="",this.h=!1}Bt(bs,tt),Bt(os,tt),Bt(po,vr),po.prototype.g=function(){return new XMLHttpRequest},po.prototype.i=function(){return{}},fo=new po;var Si=45e3,ss={},zi={};function $i(i,e,t){i.K=1,i.v=Q(Qn(e)),i.s=t,i.U=!0,mi(i,null)}function mi(i,e){i.F=Date.now(),Co(i),i.A=Qn(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),ai(t.h,"t",o),i.C=0,t=i.l.H,i.h=new No,i.g=xs(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Pr(Jt(i.Ia,i,i.g),i.O)),jr(i.V,i.g,"readystatechange",i.gb),e=i.H?tn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),cr(1),function Zr(i,e,t,o,l,d){i.info(function(){if(i.g)if(d)for(var g="",S=d.split("&"),F=0;F<S.length;F++){var z=S[F].split("=");if(1<z.length){var se=z[0];z=z[1];var we=se.split("_");g=2<=we.length&&"type"==we[1]?g+(se+"=")+z+"&":g+(se+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Gi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function xi(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Ro(i,t),l==zi){4==e&&(i.o=4,si(14),o=!1),Yr(i.j,i.m,null,"[Incomplete Response]");break}if(l==ss){i.o=4,si(15),Yr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Yr(i.j,i.m,l,null),Ki(i,l)}Gi(i)&&l!=zi&&l!=ss&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,si(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bo(e),e.L=!0,si(11))):(Yr(i.j,i.m,t,"[Invalid Chunked Response]"),so(i),xr(i))}function Ro(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?zi:(t=Number(e.substring(t,o)),isNaN(t)?ss:(o+=1)+t>e.length?zi:(e=e.substr(o,t),i.C=o+t,e))}function Co(i){i.Y=Date.now()+i.P,mo(i,i.P)}function mo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=zo(Jt(i.eb,i),e)}function ki(i){i.B&&(Ce.clearTimeout(i.B),i.B=null)}function xr(i){0==i.l.G||i.I||Hr(i.l,i)}function so(i){ki(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,oo(i.W),nr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ki(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Mr(t.i,i)))if(t.I=i.N,!i.J&&Mr(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(z){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=zo(Jt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Zo(t),Wi(t)}_r(t),si(18)}if(1>=Ps(t.i)&&t.ka){try{t.ka()}catch(z){}t.ka=void 0}}else Zi(t,11)}else if((i.J||t.g==i)&&Zo(t),!dr(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let z=l[e];if(t.U=z[0],z=z[1],2==t.G)if("c"==z[0]){t.J=z[1],t.la=z[2];const se=z[3];null!=se&&(t.ma=se,t.h.info("VER="+t.ma));const we=z[4];null!=we&&(t.za=we,t.h.info("SVER="+t.za));const Qe=z[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.K=o=1.5*Qe,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const _t=i.g;if(_t){const St=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var d=o.i;!d.g&&(wn(St,"spdy")||wn(St,"quic")||wn(St,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Fs(d,d.h),d.h=null))}if(o.D){const nn=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;nn&&(o.sa=nn,M(o.F,o.D,nn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var g=i;if((o=t).oa=gs(o,o.H?o.la:null,o.W),g.J){As(o.i,g);var S=g,F=o.K;F&&S.setTimeout(F),S.B&&(ki(S),Co(S)),o.g=g}else Ri(o);0<t.l.length&&cn(t)}else"stop"!=z[0]&&"close"!=z[0]||Zi(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Zi(t,7):vi(t):"noop"!=z[0]&&t.j&&t.j.wa(z),t.A=0)}cr(4)}catch(z){}}function ar(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(le(i)||"string"==typeof i)Jn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(le(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function Fo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(le(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var d=0;d<l;d++)e.call(void 0,o[d],t&&t[d],i)}}function Br(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Br)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Lo(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Mi(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)Mi(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function Mi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Le=pi.prototype).setTimeout=function(i){this.P=i},Le.gb=function(i){i=i.target;const e=this.L;e&&3==Kr(i)?e.l():this.Ia(i)},Le.Ia=function(i){try{if(i==this.g)e:{const se=Kr(this.g);var e=this.g.Da();const we=this.g.ba();if(!(3>se)&&(3!=se||ft||this.g&&(this.h.h||this.g.ga()||vo(this.g)))){this.I||4!=se||7==e||cr(8==e||0>=we?3:2),ki(this);var t=this.g.ba();this.N=t;t:if(Gi(this)){var o=vo(this.g);i="";var l=o.length,d=4==Kr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){so(this),xr(this);var g="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==t,function fi(i,e,t,o,l,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,se,t),this.i){if(this.$&&!this.J){t:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(S)){var z=S;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,si(12),so(this),xr(this);break e}Yr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ki(this,t)}this.U?(xi(this,se,g),ft&&this.i&&3==se&&(jr(this.V,this.W,"tick",this.fb),this.W.start())):(Yr(this.j,this.m,g,null),Ki(this,g)),4==se&&so(this),this.i&&!this.I&&(4==se?Hr(this.l,this):(this.i=!1,Co(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,si(12)):(this.o=0,si(13)),so(this),xr(this)}}}catch(se){}},Le.fb=function(){if(this.g){var i=Kr(this.g),e=this.g.ga();this.C<e.length&&(ki(this),xi(this,i,e),this.i&&4!=i&&Co(this))}},Le.cancel=function(){this.I=!0,so(this)},Le.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Di(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cr(3),si(17)),so(this),this.o=2,xr(this)):mo(this,this.Y-i)},(Le=Br.prototype).R=function(){Lo(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Le.T=function(){return Lo(this),this.g.concat()},Le.get=function(i,e){return Mi(this.h,i)?this.h[i]:e},Le.set=function(i,e){Mi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Le.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],d=this.get(l);i.call(e,d,l,this)}};var go=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jr(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Jr){this.g=void 0!==e?e:i.g,yo(this,i.j),this.s=i.s,Go(this,i.i),k(this,i.m),this.l=i.l,e=i.h;var t=new vn;t.i=e.i,e.g&&(t.g=new Br(e.g),t.h=e.h),K(this,t),this.o=i.o}else i&&(t=String(i).match(go))?(this.g=!!e,yo(this,t[1]||"",!0),this.s=yt(t[2]||""),Go(this,t[3]||"",!0),k(this,t[4]),this.l=yt(t[5]||"",!0),K(this,t[6]||"",!0),this.o=yt(t[7]||"")):(this.g=!!e,this.h=new vn(null,this.g))}function Qn(i){return new Jr(i)}function yo(i,e,t){i.j=t?yt(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Go(i,e,t){i.i=t?yt(e,!0):e}function k(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function K(i,e,t){e instanceof vn?(i.h=e,function ao(i,e){e&&!i.j&&($t(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Gr(this,o),ai(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Ot(e,qe)),i.h=new vn(e,i.g))}function M(i,e,t){i.h.set(e,t)}function Q(i){return M(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function yt(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ot(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,R),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function R(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Jr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ot(e,x,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ot(e,x,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ot(t,"/"==t.charAt(0)?W:I,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ot(t,Rt)),i.join("")};var x=/[#\/\?@]/g,I=/[#\?:]/g,W=/[#\?]/g,qe=/[#\?@]/g,Rt=/#/g;function vn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function $t(i){i.g||(i.g=new Br,i.h=0,i.i&&function Yo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var d=i[t].substring(0,o);l=i[t].substring(o+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gr(i,e){$t(i),e=Oi(i,e),Mi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Mi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Lo(i)))}function gi(i,e){return $t(i),e=Oi(i,e),Mi(i.g.h,e)}function ai(i,e,t){Gr(i,e),0<t.length&&(i.i=null,i.g.set(Oi(i,e),Wn(t)),i.h+=t.length)}function Oi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ua(i){this.l=i||vt,i=Ce.PerformanceNavigationTiming?0<(i=Ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Le=vn.prototype).add=function(i,e){$t(this),this.i=null,i=Oi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Le.forEach=function(i,e){$t(this),this.g.forEach(function(t,o){Jn(t,function(l){i.call(e,l,o,this)},this)},this)},Le.T=function(){$t(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],d=0;d<l.length;d++)t.push(e[o]);return t},Le.R=function(i){$t(this);var e=[];if("string"==typeof i)gi(this,i)&&(e=Dn(e,this.g.get(Oi(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Dn(e,i[t])}return e},Le.set=function(i,e){return $t(this),this.i=null,gi(this,i=Oi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Le.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var g=l;""!==o[d]&&(g+="="+encodeURIComponent(String(o[d]))),i.push(g)}}return this.i=i.join("&")};var vt=10;function Gn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ps(i){return i.h?1:i.g?i.g.size:0}function Mr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Fs(i,e){i.g?i.g.add(e):i.h=e}function As(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function B(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Wn(i.i)}function m(){}function v(){this.g=new m}function P(i,e,t){const o=t||"";try{ar(i,function(l,d){let g=l;ve(l)&&(g=qn(l)),e.push(o+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function J(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(d){}}function pe(i){this.l=i.$b||null,this.j=i.ib||!1}function ye(i,e){er.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Be,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ua.prototype.cancel=function(){if(this.i=B(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},m.prototype.stringify=function(i){return Ce.JSON.stringify(i,void 0)},m.prototype.parse=function(i){return Ce.JSON.parse(i,void 0)},Bt(pe,vr),pe.prototype.g=function(){return new ye(this.l,this.j)},pe.prototype.i=function(i){return function(){return i}}({}),Bt(ye,er);var Be=0;function ut(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Pt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,qt(i)}function qt(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Le=ye.prototype).open=function(i,e){if(this.readyState!=Be)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,qt(this)},Le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=Be},Le.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ce.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ut(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Le.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Pt(this):qt(this),3==this.readyState&&ut(this)}},Le.Ua=function(i){this.g&&(this.response=this.responseText=i,Pt(this))},Le.Ta=function(i){this.g&&(this.response=i,Pt(this))},Le.ha=function(){this.g&&Pt(this)},Le.setRequestHeader=function(i,e){this.v.append(i,e)},Le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ye.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var bn=Ce.JSON.parse;function un(i){er.call(this),this.headers=new Br,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dn,this.K=this.L=!1}Bt(un,er);var dn="",In=/^https?$/i,Bn=["POST","PUT"];function Or(i){return"content-type"==i.toLowerCase()}function Xr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ei(i),yi(i)}function ei(i){i.D||(i.D=!0,Un(i,"complete"),Un(i,"error"))}function Ko(i){if(i.h&&void 0!==Ct&&(!i.C[1]||4!=Kr(i)||2!=i.ba()))if(i.v&&4==Kr(i))uo(i.Fa,0,i);else if(Un(i,"readystatechange"),4==Kr(i)){i.h=!1;try{const S=i.ba();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var l=String(i.H).match(go)[1]||null;if(!l&&Ce.self&&Ce.self.location){var d=Ce.self.location.protocol;l=d.substr(0,d.length-1)}o=!In.test(l?l.toLowerCase():"")}t=o}if(t)Un(i,"complete"),Un(i,"success");else{i.m=6;try{var g=2<Kr(i)?i.g.statusText:""}catch(F){g=""}i.j=g+" ["+i.ba()+"]",ei(i)}}finally{yi(i)}}}function yi(i,e){if(i.g){li(i);const t=i.g,o=i.C[0]?ne:null;i.g=null,i.C=null,e||Un(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function li(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ce.clearTimeout(i.A),i.A=null)}function Kr(i){return i.g?i.g.readyState:0}function vo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case dn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ms(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Ni(i){let e="";return ln(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):M(i,e,t))}function Wo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function qo(i){this.za=0,this.l=[],this.h=new Hi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wo("baseRetryDelayMs",5e3,i),this.$a=Wo("retryDelaySeedMs",1e4,i),this.Ya=Wo("forwardChannelMaxRetries",2,i),this.ra=Wo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new ua(i&&i.concurrentRequestLimit),this.Ca=new v,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function vi(i){if(Yt(i),3==i.G){var e=i.V++,t=Qn(i.F);M(t,"SID",i.J),M(t,"RID",e),M(t,"TYPE","terminate"),qi(i,t),(e=new pi(i,i.h,e,void 0)).K=2,e.v=Q(Qn(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(t=Ce.navigator.sendBeacon(e.v.toString(),"")),!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=xs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Co(e)}ol(i)}function Wi(i){i.g&&(bo(i),i.g.cancel(),i.g=null)}function Yt(i){Wi(i),i.u&&(Ce.clearTimeout(i.u),i.u=null),Zo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ce.clearTimeout(i.m),i.m=null)}function mn(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&cn(i)}function cn(i){Gn(i.i)||i.m||(i.m=!0,tr(i.Ha,i),i.C=0)}function ti(i,e){var t;t=e?e.m:i.V++;const o=Qn(i.F);M(o,"SID",i.J),M(o,"RID",t),M(o,"AID",i.U),qi(i,o),i.o&&i.s&&ms(o,i.o,i.s),t=new pi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=ci(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Fs(i.i,t),$i(t,o,e)}function qi(i,e){i.j&&ar({},function(t,o){M(e,o,t)})}function ci(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Jt(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=l[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let S=!0;for(let F=0;F<t;F++){let z=l[F].h;const se=l[F].g;if(z-=d,0>z)d=Math.max(0,l[F].h-100),S=!1;else try{P(se,g,"req"+z+"_")}catch(we){o&&o(se)}}if(S){o=g.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Ri(i){i.g||i.u||(i.Y=1,tr(i.Ga,i),i.A=0)}function _r(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=zo(Jt(i.Ga,i),Ci(i,i.A)),i.A++,0))}function bo(i){null!=i.B&&(Ce.clearTimeout(i.B),i.B=null)}function Fi(i){i.g=new pi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Qn(i.oa);M(e,"RID","rpc"),M(e,"SID",i.J),M(e,"CI",i.N?"0":"1"),M(e,"AID",i.U),qi(i,e),M(e,"TYPE","xmlhttp"),i.o&&i.s&&ms(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Q(Qn(e)),t.s=null,t.U=!0,mi(t,i)}function Zo(i){null!=i.v&&(Ce.clearTimeout(i.v),i.v=null)}function Hr(i,e){var t=null;if(i.g==e){Zo(i),bo(i),i.g=null;var o=2}else{if(!Mr(i.i,e))return;t=e.D,As(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Un(o=ho(),new Ti(o,t,e,l)),cn(i)}else Ri(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function or(i,e){return!(Ps(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=zo(Jt(i.Ha,i,e),Ci(i,i.C)),i.C++,0)))}(i,e)||2==o&&_r(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:Zi(i,5);break;case 4:Zi(i,10);break;case 3:Zi(i,6);break;default:Zi(i,2)}}function Ci(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Zi(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Jt(i.jb,i);t||(t=new Jr("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||yo(t,"https"),Q(t)),function H(i,e){const t=new Hi;if(Ce.Image){const o=new Image;o.onload=Dt(J,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Dt(J,t,o,"TestLoadImage: error",!1,e),o.onabort=Dt(J,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Dt(J,t,o,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else si(2);i.G=0,i.j&&i.j.va(e),ol(i),Yt(i)}function ol(i){i.G=0,i.I=-1,i.j&&((0!=B(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Wn(i.l),i.l.length=0),i.j.ua())}function gs(i,e,t){let o=function Ee(i){return i instanceof Jr?Qn(i):new Jr(i,void 0)}(t);if(""!=o.i)e&&Go(o,e+"."+o.i),k(o,o.m);else{const l=Ce.location;o=function nt(i,e,t,o){var l=new Jr(null,void 0);return i&&yo(l,i),e&&Go(l,e),t&&k(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&ln(i.aa,function(l,d){M(o,d,l)}),t=i.sa,(e=i.D)&&t&&M(o,e,t),M(o,"VER",i.ma),qi(i,o),o}function xs(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new un(t&&i.Ba&&!i.qa?new pe({ib:!0}):i.qa)).L=i.H,e}function $s(){}function Gs(){if(Ae&&!(10<=Number(gn)))throw Error("Environmental error: no available transport.")}function Vo(i,e){er.call(this),this.g=new qo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!dr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ls(this)}function yc(i){bs.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function vc(){os.call(this),this.status=1}function Ls(i){this.g=i}(Le=un.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fo.g(),this.C=function Oo(i){return i.h||(i.h=i.i())}(this.u?this.u:fo),this.g.onreadystatechange=Jt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Xr(this,d)}i=t||"";const l=new Br(this.headers);o&&ar(o,function(d,g){l.set(g,d)}),o=function Vn(i){e:{var e=Or;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=Ce.FormData&&i instanceof Ce.FormData,!(0<=pr(Bn,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{li(this),0<this.B&&((this.K=function Ar(i){return Ae&&function Tn(){return function dt(i){var e=fr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Fr(String(Kt)).split("."),t=Fr("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var l=e[g]||"",d=t[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=br(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||br(0==l[2].length,0==d[2].length)||br(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.pa,this)):this.A=uo(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Xr(this,d)}},Le.pa=function(){void 0!==Ct&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},Le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Un(this,"complete"),Un(this,"abort"),yi(this))},Le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yi(this,!0)),un.Z.M.call(this)},Le.Fa=function(){this.s||(this.F||this.v||this.l?Ko(this):this.cb())},Le.cb=function(){Ko(this)},Le.ba=function(){try{return 2<Kr(this)?this.g.status:-1}catch(i){return-1}},Le.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Le.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),bn(e)}},Le.Da=function(){return this.m},Le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=qo.prototype).ma=8,Le.G=1,Le.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Le.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new pi(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=tn(d),Xn(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ci(this,l,e),M(t=Qn(this.F),"RID",i),M(t,"CVER",22),this.D&&M(t,"X-HTTP-Session-Id",this.D),qi(this,t),this.o&&d&&ms(t,this.o,d),Fs(this.i,l),this.Ra&&M(t,"TYPE","init"),this.ja?(M(t,"$req",e),M(t,"SID","null"),l.$=!0,$i(l,t,null)):$i(l,t,e),this.G=2}}else 3==this.G&&(i?ti(this,i):0==this.l.length||Gn(this.i)||ti(this))},Le.Ga=function(){if(this.u=null,Fi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=zo(Jt(this.bb,this),i)}},Le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,si(10),Wi(this),Fi(this))},Le.ab=function(){null!=this.v&&(this.v=null,Wi(this),_r(this),si(19))},Le.jb=function(i){i?(this.h.info("Successfully pinged google.com"),si(2)):(this.h.info("Failed to ping google.com"),si(1))},(Le=$s.prototype).xa=function(){},Le.wa=function(){},Le.va=function(){},Le.ua=function(){},Le.Oa=function(){},Gs.prototype.g=function(i,e){return new Vo(i,e)},Bt(Vo,er),Vo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),tr(Jt(i.hb,i,e))),si(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=gs(i,null,i.W),cn(i)},Vo.prototype.close=function(){vi(this.g)},Vo.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,mn(this.g,e)}else this.v?((e={}).__data__=qn(i),mn(this.g,e)):mn(this.g,i)},Vo.prototype.M=function(){this.g.j=null,delete this.j,vi(this.g),delete this.g,Vo.Z.M.call(this)},Bt(yc,bs),Bt(vc,os),Bt(Ls,$s),Ls.prototype.xa=function(){Un(this.g,"a")},Ls.prototype.wa=function(i){Un(this.g,new yc(i))},Ls.prototype.va=function(i){Un(this.g,new vc(i))},Ls.prototype.ua=function(){Un(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,Cs.COMPLETE="complete",ps.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",er.prototype.listen=er.prototype.N,un.prototype.listenOnce=un.prototype.O,un.prototype.getLastError=un.prototype.La,un.prototype.getLastErrorCode=un.prototype.Da,un.prototype.getStatus=un.prototype.ba,un.prototype.getResponseJson=un.prototype.Qa,un.prototype.getResponseText=un.prototype.ga,un.prototype.send=un.prototype.ea;var Li=Ge.createWebChannelTransport=function(){return new Gs},Fl=Ge.getStatEventTarget=function(){return ho()},Uo=Ge.ErrorCode=wi,Ll=Ge.EventType=Cs,wa=Ge.Event=oi,as=Ge.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_c=Ge.FetchXmlHttpFactory=pe,Dr=Ge.WebChannel=ps,sl=Ge.XhrIo=un;const Ys="@firebase/firestore";class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");let T="9.6.10";const E=new Ze.Yd("@firebase/firestore");function O(){return E.logLevel}function j(i,...e){if(E.logLevel<=Ze.in.DEBUG){const t=e.map(ot);E.debug(`Firestore (${T}): ${i}`,...t)}}function re(i,...e){if(E.logLevel<=Ze.in.ERROR){const t=e.map(ot);E.error(`Firestore (${T}): ${i}`,...t)}}function be(i,...e){if(E.logLevel<=Ze.in.WARN){const t=e.map(ot);E.warn(`Firestore (${T}): ${i}`,...t)}}function ot(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function st(i="Unexpected state"){const e=`FIRESTORE (${T}) INTERNAL ASSERTION FAILED: `+i;throw re(e),new Error(e)}function Ft(i,e){i||st()}function Tt(i,e){return i}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Ne.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(C.UNAUTHENTICATED))}shutdown(){}}class Ks{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vs{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const d=z=>this.i!==l?(l=this.i,t(z)):Promise.resolve();let g=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Sr,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const z=g;e.enqueueRetryable((0,fe.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},F=z=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(z=>F(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?F(z):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Sr)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ft("string"==typeof o.accessToken),new _o(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new C(e)}}class Qo{constructor(e,t,o){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Yl{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Qo(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ws{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=d=>{null!=d.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.p;return this.p=d.token,j("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const l=d=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?l(d):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new Ws(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Bo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function qs(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Bo.A=-1;class da{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=qs(40);for(let d=0;d<l.length;++d)o.length<20&&l[d]<t&&(o+=e.charAt(l[d]%e.length))}return o}}function jn(i,e){return i<e?-1:i>e?1:0}function Sa(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Zs(i){return i+"\0"}class Wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Et($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Wr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Wr(0,0))}static max(){return new Mn(new Wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Tr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ec{constructor(e,t,o){void 0===t?t=0:t>e.length&&st(),void 0===o?o=e.length-t:o>e.length-t&&st(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ec.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const d=e.get(l),g=t.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wr extends Ec{construct(e,t,o){return new wr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Et($e.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new wr(t)}static emptyPath(){return new wr([])}}const Zf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eo extends Ec{construct(e,t,o){return new Eo(e,t,o)}static isValidIdentifier(e){return Zf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Eo(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const d=()=>{if(0===o.length)throw new Et($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new Et($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Et($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,l+=2}else"`"===S?(g=!g,l++):"."!==S||g?(o+=S,l++):(d(),l++)}if(d(),g)throw new Et($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eo(t)}static emptyPath(){return new Eo([])}}class Ca{constructor(e){this.fields=e,e.sort(Eo.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ui(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const ph=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(i){if(Ft(!!i),"string"==typeof i){let e=0;const t=ph.exec(i);if(Ft(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qr(i.seconds),nanos:qr(i.nanos)}}function qr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ls(i){return"string"==typeof i?ui.fromBase64String(i):ui.fromUint8Array(i)}function uu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dc(i){const e=i.mapValue.fields.__previous_value__;return uu(e)?Dc(e):e}function Io(i){const e=Nr(i.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}class ys{constructor(e,t,o,l,d,g,S,F){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=S,this.useFetchStreams=F}}class cs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cs&&e.projectId===this.projectId&&e.database===this.database}}function vs(i){return null==i}function Qs(i){return 0===i&&1/i==-1/0}function ba(i){return"number"==typeof i&&Number.isInteger(i)&&!Qs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(wr.fromString(e))}static fromName(e){return new Ut(wr.fromString(e).popFirst(5))}static empty(){return new Ut(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new wr(e.slice()))}}const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},al={nullValue:"NULL_VALUE"};function ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?uu(i)?4:Jo(i)?9:10:st()}function us(i,e){if(i===e)return!0;const t=ha(i);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Io(i).isEqual(Io(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Nr(o.timestampValue),g=Nr(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ls(i.bytesValue).isEqual(ls(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return qr(o.geoPointValue.latitude)===qr(l.geoPointValue.latitude)&&qr(o.geoPointValue.longitude)===qr(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return qr(o.integerValue)===qr(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=qr(o.doubleValue),g=qr(l.doubleValue);return d===g?Qs(d)===Qs(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return Sa(i.arrayValue.values||[],e.arrayValue.values||[],us);case 10:return function(o,l){const d=o.mapValue.fields||{},g=l.mapValue.fields||{};if(cu(d)!==cu(g))return!1;for(const S in d)if(d.hasOwnProperty(S)&&(void 0===g[S]||!us(d[S],g[S])))return!1;return!0}(i,e);default:return st()}var l}function Qi(i,e){return void 0!==(i.values||[]).find(t=>us(t,e))}function ks(i,e){if(i===e)return 0;const t=ha(i),o=ha(e);if(t!==o)return jn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return jn(i.booleanValue,e.booleanValue);case 2:return function(l,d){const g=qr(l.integerValue||l.doubleValue),S=qr(d.integerValue||d.doubleValue);return g<S?-1:g>S?1:g===S?0:isNaN(g)?isNaN(S)?0:-1:1}(i,e);case 3:return Ia(i.timestampValue,e.timestampValue);case 4:return Ia(Io(i),Io(e));case 5:return jn(i.stringValue,e.stringValue);case 6:return function(l,d){const g=ls(l),S=ls(d);return g.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const g=l.split("/"),S=d.split("/");for(let F=0;F<g.length&&F<S.length;F++){const z=jn(g[F],S[F]);if(0!==z)return z}return jn(g.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const g=jn(qr(l.latitude),qr(d.latitude));return 0!==g?g:jn(qr(l.longitude),qr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const g=l.values||[],S=d.values||[];for(let F=0;F<g.length&&F<S.length;++F){const z=ks(g[F],S[F]);if(z)return z}return jn(g.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){const g=l.fields||{},S=Object.keys(g),F=d.fields||{},z=Object.keys(F);S.sort(),z.sort();for(let se=0;se<S.length&&se<z.length;++se){const we=jn(S[se],z[se]);if(0!==we)return we;const Qe=ks(g[S[se]],F[z[se]]);if(0!==Qe)return Qe}return jn(S.length,z.length)}(i.mapValue,e.mapValue);default:throw st()}}function Ia(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jn(i,e);const t=Nr(i),o=Nr(e),l=jn(t.seconds,o.seconds);return 0!==l?l:jn(t.nanos,o.nanos)}function Vl(i){return Ul(i)}function Ul(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Nr(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ls(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",d=!0;for(const g of o.values||[])d?d=!1:l+=",",l+=Ul(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const S of l)g?g=!1:d+=",",d+=`${S}:${Ul(o.fields[S])}`;return d+"}"}(i.mapValue):st();var e}function fa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pa(i){return!!i&&"integerValue"in i}function ma(i){return!!i&&"arrayValue"in i}function du(i){return!!i&&"nullValue"in i}function jl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ds(i){return!!i&&"mapValue"in i}function Pa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Tr(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Pa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Jo(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function mh(i,e){return void 0===i?e:void 0===e||ks(i,e)>0?i:e}function ll(i,e){return void 0===i?e:void 0===e||ks(i,e)<0?i:e}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!ds(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(t)}setAll(e){let t=Eo.emptyPath(),o={},l=[];e.forEach((g,S)=>{if(!t.isImmediateParentOf(S)){const F=this.getFieldsMap(t);this.applyChanges(F,o,l),o={},l=[],t=S.popLast()}g?o[S.lastSegment()]=Pa(g):l.push(S.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,l)}delete(e){const t=this.field(e.popLast());ds(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];ds(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Tr(t,(l,d)=>e[l]=d);for(const l of o)delete e[l]}clone(){return new bi(Pa(this.value))}}function Aa(i){const e=[];return Tr(i.fields,(t,o)=>{const l=new Eo([t]);if(ds(o)){const d=Aa(o.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new Ca(e)}class Vr{constructor(e,t,o,l,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Vr(e,0,Mn.min(),Mn.min(),bi.empty(),0)}static newFoundDocument(e,t,o){return new Vr(e,1,t,Mn.min(),o,0)}static newNoDocument(e,t){return new Vr(e,2,t,Mn.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Vr(e,3,t,Mn.min(),bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tc{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function A(i){return i.fields.find(e=>2===e.kind)}function N(i){return i.fields.filter(e=>2!==e.kind)}Tc.UNKNOWN_ID=-1;class q{constructor(e,t){this.fieldPath=e,this.kind=t}}class ce{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ce(0,gt.min())}}function ze(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Mn.fromTimestamp(1e9===o?new Wr(t+1,0):new Wr(t,o));return new gt(l,Ut.empty(),e)}function Xe(i){return new gt(i.readTime,i.key,-1)}class gt{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new gt(Mn.min(),Ut.empty(),-1)}static max(){return new gt(Mn.max(),Ut.empty(),-1)}}function rn(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ut.comparator(i.documentKey,e.documentKey),0!==t?t:jn(i.largestBatchId,e.largestBatchId))}class Hn{constructor(e,t=null,o=[],l=[],d=null,g=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=d,this.startAt=g,this.endAt=S,this.P=null}}function Fn(i,e=null,t=[],o=[],l=null,d=null,g=null){return new Hn(i,e,t,o,l,d,g)}function zn(i){const e=Tt(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Vl(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),vs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Vl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Vl(o)).join(",")),e.P=t}return e.P}function lo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!wc(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!us(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Qf(i.startAt,e.startAt)&&Qf(i.endAt,e.endAt)}function di(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function hs(i,e){return i.filters.filter(t=>t instanceof zr&&t.field.isEqual(e))}class zr extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new ga(e,t,o):"array-contains"===t?new hu(e,o):"in"===t?new fu(e,o):"not-in"===t?new od(e,o):"array-contains-any"===t?new sd(e,o):new zr(e,t,o)}static V(e,t,o){return"in"===t?new _s(e,o):new xa(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ks(t,this.value)):null!==t&&ha(this.value)===ha(t)&&this.v(ks(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ga extends zr{constructor(e,t,o){super(e,t,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.v(t)}}class _s extends zr{constructor(e,t){super(e,"in",t),this.keys=cl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xa extends zr{constructor(e,t){super(e,"not-in",t),this.keys=cl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class hu extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ma(t)&&Qi(t.arrayValue,this.value)}}class fu extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qi(this.value.arrayValue,t)}}class od extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qi(this.value.arrayValue,t)}}class sd extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ma(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Qi(this.value.arrayValue,o))}}class qa{constructor(e,t){this.position=e,this.inclusive=t}}class Js{constructor(e,t="asc"){this.field=e,this.dir=t}}function wc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function pu(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(o=d.field.isKeyField()?Ut.comparator(Ut.fromName(g.referenceValue),t.key):ks(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Qf(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!us(i.position[t],e.position[t]))return!1;return!0}class ya{constructor(e,t=null,o=[],l=[],d=null,g="F",S=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=d,this.limitType=g,this.startAt=S,this.endAt=F,this.D=null,this.C=null}}function ad(i,e,t,o,l,d,g,S){return new ya(i,e,t,o,l,d,g,S)}function Sc(i){return new ya(i)}function ul(i){return!vs(i.limit)&&"F"===i.limitType}function mu(i){return!vs(i.limit)&&"L"===i.limitType}function ld(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Bl(i){for(const e of i.filters)if(e.S())return e.field;return null}function Cc(i){return null!==i.collectionGroup}function Xs(i){const e=Tt(i);if(null===e.D){e.D=[];const t=Bl(e),o=ld(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Js(t)),e.D.push(new Js(Eo.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Js(Eo.keyField(),d))}}}return e.D}function js(i){const e=Tt(i);if(!e.C)if("F"===e.limitType)e.C=Fn(e.path,e.collectionGroup,Xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Xs(e))t.push(new Js(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new qa(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new qa(e.startAt.position,!e.startAt.inclusive):null;e.C=Fn(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function gh(i,e,t){return new ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gu(i,e){return lo(js(i),js(e))&&i.limitType===e.limitType}function dl(i){return`${zn(js(i))}|lt:${i.limitType}`}function bc(i){return`Query(target=${function Kn(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Vl(o.value)}`;var o}).join(", ")}]`),vs(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Vl(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Vl(t)).join(",")),`Target(${e})`}(js(i))}; limitType=${i.limitType})`}function yu(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Ut.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,d,g){const S=pu(l,d,g);return l.inclusive?S<=0:S<0}(t.startAt,Xs(t),o)||t.endAt&&!function(l,d,g){const S=pu(l,d,g);return l.inclusive?S>=0:S>0}(t.endAt,Xs(t),o)));var t,o}function cd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ud(i){return(e,t)=>{let o=!1;for(const l of Xs(i)){const d=hl(l,e,t);if(0!==d)return d;o=o||l.field.isKeyField()}return 0}}function hl(i,e,t){const o=i.field.isKeyField()?Ut.comparator(e.key,t.key):function(l,d,g){const S=d.data.field(l),F=g.data.field(l);return null!==S&&null!==F?ks(S,F):st()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return st()}}function dd(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qs(e)?"-0":e}}function yh(i){return{integerValue:""+i}}function vh(i,e){return ba(e)?yh(e):dd(i,e)}class vu{constructor(){this._=void 0}}function Jf(i,e,t){return i instanceof ka?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof pl?hd(i,e):i instanceof ml?_u(i,e):function(o,l){const d=fl(o,l),g=Eu(d)+Eu(o.k);return pa(d)&&pa(o.k)?yh(g):dd(o.M,g)}(i,e)}function ea(i,e,t){return i instanceof pl?hd(i,e):i instanceof ml?_u(i,e):t}function fl(i,e){return i instanceof Hl?pa(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ka extends vu{}class pl extends vu{constructor(e){super(),this.elements=e}}function hd(i,e){const t=fd(e);for(const o of i.elements)t.some(l=>us(l,o))||t.push(o);return{arrayValue:{values:t}}}class ml extends vu{constructor(e){super(),this.elements=e}}function _u(i,e){let t=fd(e);for(const o of i.elements)t=t.filter(l=>!us(l,o));return{arrayValue:{values:t}}}class Hl extends vu{constructor(e,t){super(),this.M=e,this.k=t}}function Eu(i){return qr(i.integerValue||i.doubleValue)}function fd(i){return ma(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ic{constructor(e,t){this.field=e,this.transform=t}}class ep{constructor(e,t){this.version=e,this.transformResults=t}}class Po{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Po}static exists(e){return new Po(void 0,e)}static updateTime(e){return new Po(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function va(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Za{}function _h(i,e,t){i instanceof zl?function(o,l,d){const g=o.value.clone(),S=np(o.fieldTransforms,l,d.transformResults);g.setAll(S),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Qa?function(o,l,d){if(!va(o.precondition,l))return void l.convertToUnknownDocument(d.version);const g=np(o.fieldTransforms,l,d.transformResults),S=l.data;S.setAll(tp(o)),S.setAll(g),l.convertToFoundDocument(d.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Es(i,e,t){var l;i instanceof zl?function(o,l,d){if(!va(o.precondition,l))return;const g=o.value.clone(),S=$l(o.fieldTransforms,d,l);g.setAll(S),l.convertToFoundDocument(pd(l),g).setHasLocalMutations()}(i,e,t):i instanceof Qa?function(o,l,d){if(!va(o.precondition,l))return;const g=$l(o.fieldTransforms,d,l),S=l.data;S.setAll(tp(o)),S.setAll(g),l.convertToFoundDocument(pd(l),S).setHasLocalMutations()}(i,e,t):va(i.precondition,l=e)&&l.convertToNoDocument(Mn.min())}function Pc(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),d=fl(o.transform,l||null);null!=d&&(null==t&&(t=bi.empty()),t.set(o.field,d))}return t||null}function Ac(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Sa(t,o,(l,d)=>function Xf(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof pl&&o instanceof pl||t instanceof ml&&o instanceof ml?Sa(t.elements,o.elements,us):t instanceof Hl&&o instanceof Hl?us(t.k,o.k):t instanceof ka&&o instanceof ka);var t,o}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function pd(i){return i.isFoundDocument()?i.version:Mn.min()}class zl extends Za{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class Qa extends Za{constructor(e,t,o,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=d,this.type=1}}function tp(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function np(i,e,t){const o=new Map;Ft(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],g=d.transform,S=e.data.field(d.field);o.set(d.field,ea(g,S,t[l]))}return o}function $l(i,e,t){const o=new Map;for(const l of i){const d=l.transform,g=t.data.field(l.field);o.set(l.field,Jf(d,g,e))}return o}class gl extends Za{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class xc extends Za{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mg{constructor(e){this.count=e}}var Do,Er;function md(i){switch(i){default:return st();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function Du(i){if(void 0===i)return re("GRPC error has no .code"),$e.UNKNOWN;switch(i){case Do.OK:return $e.OK;case Do.CANCELLED:return $e.CANCELLED;case Do.UNKNOWN:return $e.UNKNOWN;case Do.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Do.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Do.INTERNAL:return $e.INTERNAL;case Do.UNAVAILABLE:return $e.UNAVAILABLE;case Do.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Do.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Do.NOT_FOUND:return $e.NOT_FOUND;case Do.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Do.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Do.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Do.ABORTED:return $e.ABORTED;case Do.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Do.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Do.DATA_LOSS:return $e.DATA_LOSS;default:return st()}}(Er=Do||(Do={}))[Er.OK=0]="OK",Er[Er.CANCELLED=1]="CANCELLED",Er[Er.UNKNOWN=2]="UNKNOWN",Er[Er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Er[Er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Er[Er.NOT_FOUND=5]="NOT_FOUND",Er[Er.ALREADY_EXISTS=6]="ALREADY_EXISTS",Er[Er.PERMISSION_DENIED=7]="PERMISSION_DENIED",Er[Er.UNAUTHENTICATED=16]="UNAUTHENTICATED",Er[Er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Er[Er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Er[Er.ABORTED=10]="ABORTED",Er[Er.OUT_OF_RANGE=11]="OUT_OF_RANGE",Er[Er.UNIMPLEMENTED=12]="UNIMPLEMENTED",Er[Er.INTERNAL=13]="INTERNAL",Er[Er.UNAVAILABLE=14]="UNAVAILABLE",Er[Er.DATA_LOSS=15]="DATA_LOSS";class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,d]of o)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(t,o)=>{for(const[l,d]of o)e(l,d)})}isEmpty(){return rd(this.inner)}size(){return this.innerSize}}class Ji{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Ji(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Ji(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}}class yl{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,o,l,d){this.key=e,this.value=t,this.color=null!=o?o:Yi.RED,this.left=null!=l?l:Yi.EMPTY,this.right=null!=d?d:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,d){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const d=o(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Yi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Yi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ni{constructor(e){this.comparator=e,this.data=new Ji(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tu(this.data.getIterator())}getIteratorFrom(e){return new Tu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class Tu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ma(i){return i.hasNext()?i.getNext():void 0}const Xi=new Ji(Ut.comparator);function Ms(){return Xi}const rp=new Ji(Ut.comparator);function Gl(){return rp}function Kl(){return new Ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const ip=new Ji(Ut.comparator),op=new ni(Ut.comparator);function Rr(...i){let e=op;for(const t of i)e=e.add(t);return e}const wu=new ni(jn);function Su(){return wu}class kc{constructor(e,t,o,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t)),new kc(Mn.min(),o,Su(),Ms(),Rr())}}class Cu{constructor(e,t,o,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Cu(ui.EMPTY_BYTE_STRING,t,Rr(),Rr(),Rr())}}class Xa{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class Xo{constructor(e,t){this.targetId=e,this.$=t}}class bu{constructor(e,t,o=ui.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Iu{constructor(){this.B=0,this.L=vl(),this.U=ui.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Rr(),t=Rr(),o=Rr();return this.L.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:st()}}),new Cu(this.U,this.q,e,t,o)}J(){this.G=!1,this.L=vl()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Pu{constructor(e){this.nt=e,this.st=new Map,this.it=Ms(),this.rt=To(),this.ot=new ni(jn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const d=l.target;if(di(d))if(0===o){const g=new Ut(d.path);this.ct(t,g,Vr.newNoDocument(g,Mn.min()))}else Ft(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,g)=>{const S=this.wt(g);if(S){if(d.current&&di(S.target)){const F=new Ut(S.target.path);null!==this.it.get(F)||this.It(g,F)||this.ct(g,F,Vr.newNoDocument(F,e))}d.j&&(t.set(g,d.H()),d.J())}});let o=Rr();this.rt.forEach((d,g)=>{let S=!0;g.forEachWhile(F=>{const z=this.wt(F);return!z||2===z.purpose||(S=!1,!1)}),S&&(o=o.add(d))}),this.it.forEach((d,g)=>g.setReadTime(e));const l=new kc(e,t,this.ot,this.it,o);return this.it=Ms(),this.rt=To(),this.ot=new ni(jn),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Iu,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ni(jn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||j("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Iu),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function To(){return new Ji(Ut.comparator)}function vl(){return new Ji(Ut.comparator)}const gd={asc:"ASCENDING",desc:"DESCENDING"},yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sp{constructor(e,t){this.databaseId=e,this.N=t}}function Ao(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wl(i,e){return i.N?e.toBase64():e.toUint8Array()}function vd(i,e){return Ao(i,e.toTimestamp())}function xo(i){return Ft(!!i),Mn.fromTimestamp(function(e){const t=Nr(e);return new Wr(t.seconds,t.nanos)}(i))}function ql(i,e){return(t=i,new wr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Au(i){const e=wr.fromString(i);return Ft(f(e)),e}function Mc(i,e){return ql(i.databaseId,e.path)}function ta(i,e){const t=Au(e);if(t.get(1)!==i.databaseId.projectId)throw new Et($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Et($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ut(ap(t))}function Oc(i,e){return ql(i.databaseId,e)}function Oa(i){const e=Au(i);return 4===e.length?wr.emptyPath():ap(e)}function Zl(i){return new wr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ap(i){return Ft(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function xu(i,e,t){return{name:Mc(i,e),fields:t.value.mapValue.fields}}function Eh(i,e,t){const o=ta(i,e.name),l=xo(e.updateTime),d=new bi({mapValue:{fields:e.fields}}),g=Vr.newFoundDocument(o,l,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function _l(i,e){let t;if(e instanceof zl)t={update:xu(i,e.key,e.value)};else if(e instanceof gl)t={delete:Mc(i,e.key)};else if(e instanceof Qa)t={update:xu(i,e.key,e.data),updateMask:u(e.fieldMask)};else{if(!(e instanceof xc))return st();t={verify:Mc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,d){const g=d.transform;if(g instanceof ka)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),increment:g.k};throw st()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:vd(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:st()),t;var l}function Nc(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Po.updateTime(xo(l.updateTime)):void 0!==l.exists?Po.exists(l.exists):Po.none():Po.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(d,g){let S=null;"setToServerValue"in g?(Ft("REQUEST_TIME"===g.setToServerValue),S=new ka):"appendMissingElements"in g?S=new pl(g.appendMissingElements.values||[]):"removeAllFromArray"in g?S=new ml(g.removeAllFromArray.values||[]):"increment"in g?S=new Hl(d,g.increment):st();const F=Eo.fromServerFormat(g.fieldPath);return new Ic(F,S)}(i,l)):[];var l;if(e.update){const l=ta(i,e.update.name),d=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Ca((e.updateMask.fieldPaths||[]).map(z=>Eo.fromServerFormat(z)));return new Qa(l,d,g,t,o)}return new zl(l,d,t,o)}if(e.delete){const l=ta(i,e.delete);return new gl(l,t)}if(e.verify){const l=ta(i,e.verify);return new xc(l,t)}return st()}function _a(i,e){return{documents:[Oc(i,e.path)]}}function Ql(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Oc(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Oc(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(F){if(0===F.length)return;const z=F.map(se=>function(we){if("=="===we.op){if(jl(we.value))return{unaryFilter:{field:El(we.field),op:"IS_NAN"}};if(du(we.value))return{unaryFilter:{field:El(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(jl(we.value))return{unaryFilter:{field:El(we.field),op:"IS_NOT_NAN"}};if(du(we.value))return{unaryFilter:{field:El(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(we.field),op:cp(we.op),value:we.value}}}(se));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);l&&(t.structuredQuery.where=l);const d=function(F){if(0!==F.length)return F.map(z=>{return{field:El((se=z).field),direction:_d(se.dir)};var se})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(z=e.limit,i.N||vs(z)?z:{value:z});var z,S,F;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function ku(i){let e=Oa(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Ft(1===o);const se=t.from[0];se.allDescendants?l=se.collectionId:e=e.child(se.collectionId)}let d=[];t.where&&(d=wh(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(se=>{return new Js(Jl((we=se).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let S=null;t.limit&&(S=function(se){let we;return we="object"==typeof se?se.value:se,vs(we)?null:we}(t.limit));let F=null;var se;t.startAt&&(F=new qa((se=t.startAt).values||[],!!se.before));let z=null;return t.endAt&&(z=function(se){return new qa(se.values||[],!se.before)}(t.endAt)),ad(e,l,g,d,S,"F",F,z)}function wh(i){return i?void 0!==i.unaryFilter?[y(i)]:void 0!==i.fieldFilter?[up(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>wh(e)).reduce((e,t)=>e.concat(t)):st():[]}function _d(i){return gd[i]}function cp(i){return yd[i]}function El(i){return{fieldPath:i.canonicalString()}}function Jl(i){return Eo.fromServerFormat(i.fieldPath)}function up(i){return zr.create(Jl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(i.fieldFilter.op),i.fieldFilter.value)}function y(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Jl(i.unaryFilter.field);return zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jl(i.unaryFilter.field);return zr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jl(i.unaryFilter.field);return zr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Jl(i.unaryFilter.field);return zr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function u(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function D(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=X(e)),e=V(i.get(t),e);return X(e)}function V(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function X(i){return i+"\x01\x01"}function Re(i){const e=i.length;if(Ft(e>=2),2===e)return Ft("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),wr.emptyPath();const t=e-2,o=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&st(),i.charAt(g+1)){case"\x01":const S=i.substring(d,g);let F;0===l.length?F=S:(l+=S,F=l,l=""),o.push(F);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:st()}d=g+2}return new wr(o)}const it=["userId","batchId"];function Gt(i,e){return[i,D(e)]}function an(i,e,t){return[i,D(e),t]}const On={},_n=["prefixPath","collectionGroup","readTime","documentId"],Ii=["prefixPath","collectionGroup","documentId"],Bs=["collectionGroup","readTime","prefixPath","documentId"],Rc=["canonicalId","targetId"],Mu=["targetId","path"],Fc=["path","targetId"],Ed=["collectionId","parent"],dp=["indexId","uid"],el=["uid","sequenceNumber"],Ou=["indexId","uid","arrayValue","directionalValue","documentKey"],Dd=["indexId","uid","documentKey"],Td=["userId","collectionPath","documentId"],Nu=["userId","collectionPath","largestBatchId"],hp=["userId","collectionGroup","largestBatchId"],Ru=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fp=[...Ru,"documentOverlays"],gg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r_=[...gg,"indexConfiguration","indexState","indexEntries"],yg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((o,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,o)=>{t(e)})}static reject(e){return new at((t,o)=>{o(e)})}static waitFor(e){return new at((t,o)=>{let l=0,d=0,g=!1;e.forEach(S=>{++l,S.next(()=>{++d,g&&d===l&&t()},F=>o(F))}),g=!0,d===l&&t()})}static or(e){let t=at.resolve(!1);for(const o of e)t=t.next(l=>l?at.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,d)=>{o.push(t.call(this,l,d))}),this.waitFor(o)}}class wd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Sr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Sd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=Sh(o.target.error);this.At.reject(new Sd(e,l))}}static open(e,t,o,l){try{return new wd(t,e.transaction(l,o))}catch(d){throw new Sd(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new vg(t)}}class na{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===na.Vt((0,Ne.z$)())&&re("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),ra(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ne.hl)())return!1;if(na.St())return!0;const e=(0,Ne.z$)(),t=na.Vt(e),o=0<t&&t<10,l=na.Dt(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,fe.Z)(function*(){return t.db||(j("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{l(new Sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const S=g.target.error;l("VersionError"===S.name?new Et($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Et($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Sd(e,S))},d.onupgradeneeded=g=>{j("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.Pt.kt(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{j("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var d=this;return(0,fe.Z)(function*(){const g="readonly"===t;let S=0;for(;;){++S;try{d.db=yield d.Nt(e);const F=wd.open(d.db,e,g?"readonly":"readwrite",o),z=l(F).next(se=>(F.bt(),se)).catch(se=>(F.abort(se),at.reject(se))).toPromise();return z.catch(()=>{}),yield F.Rt,z}catch(F){const z="FirebaseError"!==F.name&&S<3;if(j("SimpleDb","Transaction failed with error:",F.message,"Retrying:",z),d.close(),!z)return Promise.reject(F)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class i_{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ra(this.Ft.delete())}}class Sd extends Et{constructor(e,t){super($e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xl(i){return"IndexedDbTransactionError"===i.name}class vg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(j("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ra(o)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),ra(this.store.add(e))}get(e){return ra(this.store.get(e)).next(t=>(void 0===t&&(t=null),j("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),ra(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),ra(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),d=[];return this.Gt(l,(g,S)=>{d.push(S)}).next(()=>d)}{const l=this.store.getAll(o.range);return new at((d,g)=>{l.onerror=S=>{g(S.target.error)},l.onsuccess=S=>{d(S.target.result)}})}}Kt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new at((l,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}Qt(e,t){j("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Gt(l,(d,g,S)=>S.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Gt(l,t)}zt(e){const t=this.cursor({});return new at((o,l)=>{t.onerror=d=>{const g=Sh(d.target.error);l(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(S=>{S?g.continue():o()}):o()}})}Gt(e,t){const o=[];return new at((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const S=g.target.result;if(!S)return void l();const F=new i_(S),z=t(S.primaryKey,S.value,F);if(z instanceof at){const se=z.catch(we=>(F.done(),at.reject(we)));o.push(se)}F.isDone?l():null===F.Lt?S.continue():S.continue(F.Lt)}}).next(()=>at.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ra(i){return new at((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Sh(o.target.error);t(l)}})}let mp=!1;function Sh(i){const e=na.Vt((0,Ne.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mp||(mp=!0,setTimeout(()=>{throw o},0)),o}}return i}class _g extends pp{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wo(i,e){const t=Tt(i);return na.xt(t.Ht,e)}class gp{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&_h(d,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Es(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Es(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Mn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rr())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(t,o)=>Ac(t,o))&&Sa(this.baseMutations,e.baseMutations,(t,o)=>Ac(t,o))}}class Ch{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Ft(e.mutations.length===o.length);let l=ip;const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,o[g].version);return new Ch(e,t,o,l)}}class bh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dl{constructor(e,t,o,l,d=Mn.min(),g=Mn.min(),S=ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=S}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ih{constructor(e){this.Jt=e}}function Cd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Mc(l=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ao(l,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ec(e.version)};else{if(!e.isUnknownDocument())return st();o.unknownDocument={path:t.path.toArray(),version:ec(e.version)}}var l,d;return o}function Lc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ec(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(i){const e=new Wr(i.seconds,i.nanoseconds);return Mn.fromTimestamp(e)}function Yc(i,e){const t=(e.baseMutations||[]).map(d=>Nc(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>Nc(i.Jt,d)),l=Wr.fromMillis(e.localWriteTimeMs);return new gp(e.batchId,l,t,o)}function Vc(i){const e=Tl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Tl(i.lastLimboFreeSnapshotVersion):Mn.min();let o;var l;return void 0!==i.query.documents?(Ft(1===(l=i.query).documents.length),o=js(Sc(Oa(l.documents[0])))):o=js(ku(i.query)),new Dl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,ui.fromBase64String(i.resumeToken))}function Fu(i,e){const t=ec(e.snapshotVersion),o=ec(e.lastLimboFreeSnapshotVersion);let l;l=di(e.target)?_a(i.Jt,e.target):Ql(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zn(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function yp(i){const e=ku({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?gh(e,e.limit,"L"):e}function Ph(i,e){return new bh(e.largestBatchId,Nc(i.Jt,e.overlayMutation))}function Dg(i,e){const t=e.path.lastSegment();return[i,D(e.path.popLast()),t]}class o_{getBundleMetadata(e,t){return vp(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Tl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return vp(e).put({bundleId:(o=t).id,createTime:ec(xo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ah(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:yp(l.bundledQuery),readTime:Tl(l.readTime)};var l})}saveNamedQuery(e,t){return Ah(e).put({name:(o=t).name,readTime:ec(xo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function vp(i){return wo(i,"bundles")}function Ah(i){return wo(i,"namedQueries")}class xh{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new xh(e,t.uid||"")}getOverlay(e,t){return kh(e).get(Dg(this.userId,t)).next(o=>o?Ph(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((d,g)=>{const S=new bh(t,g);l.push(this.Xt(e,S))}),at.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(g=>l.add(D(g.getCollectionPath())));const d=[];return l.forEach(g=>{const S=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(kh(e).Qt("collectionPathOverlayIndex",S))}),at.waitFor(d)}getOverlaysForCollection(e,t,o){const l=Kl(),d=D(t),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return kh(e).qt("collectionPathOverlayIndex",g).next(S=>{for(const F of S){const z=Ph(this.M,F);l.set(z.getKey(),z)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const d=Kl();let g;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kh(e).Wt({index:"collectionGroupOverlayIndex",range:S},(F,z,se)=>{const we=Ph(this.M,z);d.size()<l||we.largestBatchId===g?(d.set(we.getKey(),we),g=we.largestBatchId):se.done()}).next(()=>d)}Xt(e,t){return kh(e).put(function(o,l,d){const[g,S,F]=Dg(l,d.mutation.key);return{userId:l,collectionPath:S,documentId:F,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:_l(o.Jt,d.mutation)}}(this.M,this.userId,t))}}function kh(i){return wo(i,"documentOverlays")}class Uc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(qr(e.integerValue));else if("doubleValue"in e){const o=qr(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Qs(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ls(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?Jo(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):st()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),Ut.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function s_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function _p(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const d=s_(255&t[l]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Uc.fe=new Uc;class a_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=_p(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=_p(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class l_{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Na{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Mh{constructor(){this.De=new a_,this.Ce=new l_(this.De),this.xe=new Na(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class wl{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new wl(this.indexId,this.documentKey,this.arrayValue,o)}}function jc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Tg(i.arrayValue,e.arrayValue),0!==t?t:(t=Tg(i.directionalValue,e.directionalValue),0!==t?t:Ut.comparator(i.documentKey,e.documentKey)))}function Tg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class c_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=A(e);if(void 0!==t&&!this.Be(t))return!1;const o=N(e);let l=0,d=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const g=o[l];if(!this.Le(this.Fe,g)||!this.Ue(this.Me[d++],g))return!1;++l}for(;l<o.length;++l){const g=o[l];if(d>=this.Me.length||!this.Ue(this.Me[d++],g))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class u_{constructor(){this.qe=new Oh}addToCollectionParentIndex(e,t){return this.qe.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getFieldIndex(e,t){return at.resolve(null)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}updateCollectionGroup(e,t,o){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class Oh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new ni(wr.comparator),d=!l.has(o);return this.index[t]=l.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new ni(wr.comparator)).toArray()}}const Nh=new Uint8Array(0);class d_{constructor(e){this.user=e,this.Ge=new Oh,this.Ke=new Ja(t=>zn(t),(t,o)=>lo(t,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const d={collectionId:o,parent:D(l)};return wg(e).put(d)}return at.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Zs(t),""],!1,!0);return wg(e).qt(l).next(d=>{for(const g of d){if(g.collectionId!==t)break;o.push(Re(g.parent))}return o})}addFieldIndex(e,t){const o=bd(e),l={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=bd(e),l=Id(e),d=$n(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=$n(e);let l=!0;const d=new Map;return at.forEach(this.Qe(t),g=>this.getFieldIndex(e,g).next(S=>{l&&(l=!!S),d.set(g,S)})).next(()=>{if(l){let g=Rr();return at.forEach(d,(S,F)=>{var z;j("IndexedDbIndexManager",`Using index ${z=S,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(rr=>`${rr.fieldPath}:${rr.kind}`).join(",")}`} to execute ${zn(t)}`);const se=function(rr,no){const ir=A(no);if(void 0===ir)return null;for(const mr of hs(rr,ir.fieldPath))switch(mr.op){case"array-contains-any":return mr.value.arrayValue.values||[];case"array-contains":return[mr.value]}return null}(F,S),we=function(rr,no){const ir=new Map;for(const mr of N(no))for(const lr of hs(rr,mr.fieldPath))switch(lr.op){case"==":case"in":ir.set(mr.fieldPath.canonicalString(),lr.value);break;case"not-in":case"!=":return ir.set(mr.fieldPath.canonicalString(),lr.value),Array.from(ir.values())}return null}(F,S),Qe=function(rr,no){const ir=[];let mr=!0;for(const $a of N(no)){let Rs,Nl=!0;for(const Ho of hs(rr,$a.fieldPath)){let ro,nd=!0;switch(Ho.op){case"<":case"<=":ro="nullValue"in(lr=Ho.value)?al:"booleanValue"in lr?{booleanValue:!1}:"integerValue"in lr||"doubleValue"in lr?{doubleValue:NaN}:"timestampValue"in lr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in lr?{stringValue:""}:"bytesValue"in lr?{bytesValue:""}:"referenceValue"in lr?fa(cs.empty(),Ut.empty()):"geoPointValue"in lr?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in lr?{arrayValue:{}}:"mapValue"in lr?{mapValue:{}}:st();break;case"==":case"in":case">=":ro=Ho.value;break;case">":ro=Ho.value,nd=!1;break;case"!=":case"not-in":ro=al}mh(Rs,ro)===ro&&(Rs=ro,Nl=nd)}if(null!==rr.startAt)for(let Ho=0;Ho<rr.orderBy.length;++Ho)if(rr.orderBy[Ho].field.isEqual($a.fieldPath)){const ro=rr.startAt.position[Ho];mh(Rs,ro)===ro&&(Rs=ro,Nl=rr.startAt.inclusive);break}if(void 0===Rs)return null;ir.push(Rs),mr&&(mr=Nl)}var lr;return new qa(ir,mr)}(F,S),_t=function(rr,no){const ir=[];let mr=!0;for(const $a of N(no)){let Rs,Nl=!0;for(const Ho of hs(rr,$a.fieldPath)){let ro,nd=!0;switch(Ho.op){case">=":case">":ro="nullValue"in(lr=Ho.value)?{booleanValue:!1}:"booleanValue"in lr?{doubleValue:NaN}:"integerValue"in lr||"doubleValue"in lr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in lr?{stringValue:""}:"stringValue"in lr?{bytesValue:""}:"bytesValue"in lr?fa(cs.empty(),Ut.empty()):"referenceValue"in lr?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in lr?{arrayValue:{}}:"arrayValue"in lr?{mapValue:{}}:"mapValue"in lr?Us:st(),nd=!1;break;case"==":case"in":case"<=":ro=Ho.value;break;case"<":ro=Ho.value,nd=!1;break;case"!=":case"not-in":ro=Us}ll(Rs,ro)===ro&&(Rs=ro,Nl=nd)}if(null!==rr.endAt)for(let Ho=0;Ho<rr.orderBy.length;++Ho)if(rr.orderBy[Ho].field.isEqual($a.fieldPath)){const ro=rr.endAt.position[Ho];ll(Rs,ro)===ro&&(Rs=ro,Nl=rr.endAt.inclusive);break}if(void 0===Rs)return null;ir.push(Rs),mr&&(mr=Nl)}var lr;return new qa(ir,mr)}(F,S),St=this.je(S,F,Qe),nn=this.je(S,F,_t),xn=this.We(S,F,we),$r=this.ze(S.indexId,se,St,!!Qe&&Qe.inclusive,nn,!!_t&&_t.inclusive,xn);return at.forEach($r,rr=>o.Kt(rr,t.limit).next(no=>{no.forEach(ir=>{g=g.add(new Ut(Re(ir.documentKey)))})}))}).next(()=>g)}return at.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,o,l,d,g,S){const F=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=d?d.length:1),z=F/(null!=t?t.length:1),se=[];for(let we=0;we<F;++we){const Qe=t?this.He(t[we/z]):Nh,_t=o?this.Je(e,Qe,o[we%z],l):this.Ye(e),St=d?this.Xe(e,Qe,d[we%z],g):this.Ye(e+1);se.push(...this.createRange(_t,St,S.map(nn=>this.Je(e,Qe,nn,!0))))}return se}Je(e,t,o,l){const d=new wl(e,Ut.empty(),t,o);return l?d:d.ke()}Xe(e,t,o,l){const d=new wl(e,Ut.empty(),t,o);return l?d.ke():d}Ye(e){return new wl(e,Ut.empty(),Nh,Nh)}getFieldIndex(e,t){const o=new c_(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{const g=d.filter(S=>o.$e(S));return g.sort((S,F)=>F.fields.length-S.fields.length),g.length>0?g[0]:null})}Ze(e,t){const o=new Mh;for(const l of N(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const g=o.Ne(l.kind);Uc.fe.Zt(d,g)}return o.Se()}He(e){const t=new Mh;return Uc.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,o){if(null===o)return[];let l=[];l.push(new Mh);let d=0;for(const g of N(e)){const S=o[d++];for(const F of l)if(this.tn(t,g.fieldPath)&&ma(S))l=this.en(l,g,S);else{const z=F.Ne(g.kind);Uc.fe.Zt(S,z)}}return this.nn(l)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}nn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}en(e,t,o){const l=[...e],d=[];for(const g of o.arrayValue.values||[])for(const S of l){const F=new Mh;F.seed(S.Se()),Uc.fe.Zt(g,F.Ne(t.kind)),d.push(F)}return d}tn(e,t){return!!e.filters.find(o=>o instanceof zr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=bd(e),l=Id(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(d=>{const g=[];return at.forEach(d,S=>l.get([S.indexId,this.uid]).next(F=>{g.push(function(z,se){const we=se?new ce(se.sequenceNumber,new gt(Tl(se.readTime),new Ut(Re(se.documentKey)),se.largestBatchId)):ce.empty(),Qe=z.fields.map(([_t,St])=>new q(Eo.fromServerFormat(_t),St));return new Tc(z.indexId,z.collectionGroup,Qe,we)}(S,F))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const d=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:jn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=bd(e),d=Id(e);return this.sn(e).next(g=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>at.forEach(S,F=>{return d.put({indexId:F.indexId,uid:this.user.uid||"",sequenceNumber:g,readTime:ec((Qe=o).readTime),documentKey:D(Qe.documentKey.path),largestBatchId:Qe.largestBatchId});var Qe})))}updateIndexEntries(e,t){const o=new Map;return at.forEach(t,(l,d)=>{const g=o.get(l.collectionGroup);return(g?at.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(o.set(l.collectionGroup,S),at.forEach(S,F=>this.rn(e,l,F).next(z=>{const se=this.on(d,F);return z.isEqual(se)?at.resolve():this.un(e,d,z,se)}))))})}an(e,t,o){return $n(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:D(t.key.path)})}cn(e,t,o){return $n(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,D(t.key.path)])}rn(e,t,o){const l=$n(e);let d=new ni(jc);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,D(t.path)])},(g,S)=>{d=d.add(new wl(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>d)}on(e,t){let o=new ni(jc);const l=this.Ze(t,e);if(null==l)return o;const d=A(t);if(null!=d){const g=e.data.field(d.fieldPath);if(ma(g))for(const S of g.arrayValue.values||[])o=o.add(new wl(t.indexId,e.key,this.He(S),l))}else o=o.add(new wl(t.indexId,e.key,Nh,l));return o}un(e,t,o,l){j("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,S,F,z,se){const we=g.getIterator(),Qe=S.getIterator();let _t=Ma(we),St=Ma(Qe);for(;_t||St;){let nn=!1,xn=!1;if(_t&&St){const $r=F(_t,St);$r<0?xn=!0:$r>0&&(nn=!0)}else null!=_t?xn=!0:nn=!0;nn?(z(St),St=Ma(Qe)):xn?(se(_t),_t=Ma(we)):(_t=Ma(we),St=Ma(Qe))}}(o,l,jc,g=>{d.push(this.an(e,t,g))},g=>{d.push(this.cn(e,t,g))}),at.waitFor(d)}sn(e){let t=1;return Id(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,S)=>jc(g,S)).filter((g,S,F)=>!S||0!==jc(g,F[S-1]));const l=[];l.push(e);for(const g of o){const S=jc(g,e),F=jc(g,t);if(0===S)l[0]=e.ke();else if(S>0&&F<0)l.push(g),l.push(g.ke());else if(F>0)break}l.push(t);const d=[];for(let g=0;g<l.length;g+=2)d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,""],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,""]));return d}}function wg(i){return wo(i,"collectionParents")}function $n(i){return wo(i,"indexEntries")}function bd(i){return wo(i,"indexConfiguration")}function Id(i){return wo(i,"indexState")}const Ep={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ea(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let S=0;const F=o.Wt({range:g},(se,we,Qe)=>(S++,Qe.delete()));d.push(F.next(()=>{Ft(1===S)}));const z=[];for(const se of t.mutations){const we=an(e,se.key.path,t.batchId);d.push(l.delete(we)),z.push(se.key)}return at.waitFor(d).next(()=>z)}function Pd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw st();e=i.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class Dp{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.hn={}}static Yt(e,t,o,l){Ft(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Dp(d,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ds(e).Wt({index:"userMutationsIndex",range:o},(l,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const d=tc(e),g=Ds(e);return g.add({}).next(S=>{Ft("number"==typeof S);const F=new gp(S,t,o,l),z=function(Qe,_t,St){const nn=St.baseMutations.map($r=>_l(Qe.Jt,$r)),xn=St.mutations.map($r=>_l(Qe.Jt,$r));return{userId:_t,batchId:St.batchId,localWriteTimeMs:St.localWriteTime.toMillis(),baseMutations:nn,mutations:xn}}(this.M,this.userId,F),se=[];let we=new ni((Qe,_t)=>jn(Qe.canonicalString(),_t.canonicalString()));for(const Qe of l){const _t=an(this.userId,Qe.key.path,S);we=we.add(Qe.key.path.popLast()),se.push(g.put(z)),se.push(d.put(_t,On))}return we.forEach(Qe=>{se.push(this.indexManager.addToCollectionParentIndex(e,Qe))}),e.addOnCommittedListener(()=>{this.hn[S]=F.keys()}),at.waitFor(se).next(()=>F)})}lookupMutationBatch(e,t){return Ds(e).get(t).next(o=>o?(Ft(o.userId===this.userId),Yc(this.M,o)):null)}ln(e,t){return this.hn[t]?at.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.hn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Ds(e).Wt({index:"userMutationsIndex",range:l},(g,S,F)=>{S.userId===this.userId&&(Ft(S.batchId>=o),d=Yc(this.M,S)),F.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ds(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ds(e).qt("userMutationsIndex",t).next(o=>o.map(l=>Yc(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Gt(this.userId,t.path),l=IDBKeyRange.lowerBound(o),d=[];return tc(e).Wt({range:l},(g,S,F)=>{const[z,se,we]=g,Qe=Re(se);if(z===this.userId&&t.path.isEqual(Qe))return Ds(e).get(we).next(_t=>{if(!_t)throw st();Ft(_t.userId===this.userId),d.push(Yc(this.M,_t))});F.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ni(jn);const l=[];return t.forEach(d=>{const g=Gt(this.userId,d.path),S=IDBKeyRange.lowerBound(g),F=tc(e).Wt({range:S},(z,se,we)=>{const[Qe,_t,St]=z,nn=Re(_t);Qe===this.userId&&d.path.isEqual(nn)?o=o.add(St):we.done()});l.push(F)}),at.waitFor(l).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,d=Gt(this.userId,o),g=IDBKeyRange.lowerBound(d);let S=new ni(jn);return tc(e).Wt({range:g},(F,z,se)=>{const[we,Qe,_t]=F,St=Re(Qe);we===this.userId&&o.isPrefixOf(St)?St.length===l&&(S=S.add(_t)):se.done()}).next(()=>this.fn(e,S))}fn(e,t){const o=[],l=[];return t.forEach(d=>{l.push(Ds(e).get(d).next(g=>{if(null===g)throw st();Ft(g.userId===this.userId),o.push(Yc(this.M,g))}))}),at.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Ea(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),at.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return tc(e).Wt({range:o},(d,g,S)=>{if(d[0]===this.userId){const F=Re(d[1]);l.push(F)}else S.done()}).next(()=>{Ft(0===l.length)})})}containsKey(e,t){return Rh(e,this.userId,t)}_n(e){return Tp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rh(i,e,t){const o=Gt(e,t.path),l=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return tc(i).Wt({range:d,jt:!0},(S,F,z)=>{const[se,we,Qe]=S;se===e&&we===l&&(g=!0),z.done()}).next(()=>g)}function Ds(i){return wo(i,"mutations")}function tc(i){return wo(i,"documentMutations")}function Tp(i){return wo(i,"mutationQueues")}class Sl{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Sl(0)}static gn(){return new Sl(-1)}}class AD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const o=new Sl(t.highestTargetId);return t.highestTargetId=o.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Mn.fromTimestamp(new Wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.yn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.pn(e,l)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(t,o),this.pn(e,o))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bc(e).delete(t.targetId)).next(()=>this.yn(e)).next(o=>(Ft(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,t,o){let l=0;const d=[];return Bc(e).Wt((g,S)=>{const F=Vc(S);F.sequenceNumber<=t&&null===o.get(F.targetId)&&(l++,d.push(this.removeTargetData(e,F)))}).next(()=>at.waitFor(d)).next(()=>l)}forEachTarget(e,t){return Bc(e).Wt((o,l)=>{const d=Vc(l);t(d)})}yn(e){return h_(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}pn(e,t){return h_(e).put("targetGlobalKey",t)}In(e,t){return Bc(e).put(Fu(this.M,t))}Tn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=zn(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Bc(e).Wt({range:l,index:"queryTargetsIndex"},(g,S,F)=>{const z=Vc(S);lo(t,z.target)&&(d=z,F.done())}).next(()=>d)}addMatchingKeys(e,t,o){const l=[],d=Ra(e);return t.forEach(g=>{const S=D(g.path);l.push(d.put({targetId:o,path:S})),l.push(this.referenceDelegate.addReference(e,o,g))}),at.waitFor(l)}removeMatchingKeys(e,t,o){const l=Ra(e);return at.forEach(t,d=>{const g=D(d.path);return at.waitFor([l.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Ra(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=Ra(e);let d=Rr();return l.Wt({range:o,jt:!0},(g,S,F)=>{const z=Re(g[1]),se=new Ut(z);d=d.add(se)}).next(()=>d)}containsKey(e,t){const o=D(t.path),l=IDBKeyRange.bound([o],[Zs(o)],!1,!0);let d=0;return Ra(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([g,S],F,z)=>{0!==g&&(d++,z.done())}).next(()=>d>0)}Et(e,t){return Bc(e).get(t).next(o=>o?Vc(o):null)}}function Bc(i){return wo(i,"targets")}function h_(i){return wo(i,"targetGlobal")}function Ra(i){return wo(i,"targetDocuments")}function tl(i){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,fe.Z)(function*(i){if(i.code!==$e.FAILED_PRECONDITION||i.message!==yg)throw i;j("LocalStore","Unexpectedly lost primary lease")}),Ad.apply(this,arguments)}function Fh([i,e],[t,o]){const l=jn(i,t);return 0===l?jn(e,o):l}class wp{constructor(e){this.En=e,this.buffer=new ni(Fh),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Fh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const o=this.Pn?3e5:6e4;j("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,fe.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){Xl(l)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield tl(l)}yield t.vn(e)}))}}class f_{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return at.resolve(Bo.A);const o=new wp(t);return this.Sn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Sn.Cn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Sn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Ep)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ep):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let o,l,d,g,S,F,z;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),l=this.params.maximumSequenceNumbersToCollect):l=we,g=Date.now(),this.nthSequenceNumber(e,l))).next(we=>(o=we,S=Date.now(),this.removeTargets(e,o,t))).next(we=>(d=we,F=Date.now(),this.removeOrphanedDocuments(e,o))).next(we=>(z=Date.now(),O()<=Ze.in.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-se}ms\n\tDetermined least recently used ${l} in `+(S-g)+`ms\n\tRemoved ${d} targets in `+(F-S)+`ms\n\tRemoved ${we} documents in `+(z-F)+`ms\nTotal Duration: ${z-se}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:we})))}}class p_{constructor(e,t){this.db=e,this.garbageCollector=new f_(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Nn(e){let t=0;return this.Cn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(o,l)=>t(l))}addReference(e,t,o){return Lh(e,o)}removeReference(e,t,o){return Lh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Lh(e,t)}Mn(e,t){return function(o,l){let d=!1;return Tp(o).zt(g=>Rh(o,g,l).next(S=>(S&&(d=!0),at.resolve(!S)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.kn(e,(g,S)=>{if(S<=t){const F=this.Mn(e,g).next(z=>{if(!z)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Mn.min()),Ra(e).delete([0,D(g.path)])))});l.push(F)}}).next(()=>at.waitFor(l)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Lh(e,t)}kn(e,t){const o=Ra(e);let l,d=Bo.A;return o.Wt({index:"documentTargetsIndex"},([g,S],{path:F,sequenceNumber:z})=>{0===g?(d!==Bo.A&&t(new Ut(Re(l)),d),d=z,l=F):d=Bo.A}).next(()=>{d!==Bo.A&&t(new Ut(Re(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lh(i,e){return Ra(i).put((o=i.currentSequenceNumber,{targetId:0,path:D(e.path),sequenceNumber:o}));var o}class Sg{constructor(){this.changes=new Ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?at.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Lu(e).put(o)}removeEntry(e,t,o){return Lu(e).delete(function(l,d){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Lc(d),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.On(e,o)))}getEntry(e,t){let o=Vr.newInvalidDocument(t);return Lu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Yu(t))},(l,d)=>{o=this.Fn(t,d)}).next(()=>o)}$n(e,t){let o={size:0,document:Vr.newInvalidDocument(t)};return Lu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Yu(t))},(l,d)=>{o={document:this.Fn(t,d),size:Pd(d)}}).next(()=>o)}getEntries(e,t){let o=Ms();return this.Bn(e,t,(l,d)=>{const g=this.Fn(l,d);o=o.insert(l,g)}).next(()=>o)}Ln(e,t){let o=Ms(),l=new Ji(Ut.comparator);return this.Bn(e,t,(d,g)=>{const S=this.Fn(d,g);o=o.insert(d,S),l=l.insert(d,Pd(g))}).next(()=>({documents:o,Un:l}))}Bn(e,t,o){if(t.isEmpty())return at.resolve();let l=new ni(Ig);t.forEach(F=>l=l.add(F));const d=IDBKeyRange.bound(Yu(l.first()),Yu(l.last())),g=l.getIterator();let S=g.getNext();return Lu(e).Wt({index:"documentKeyIndex",range:d},(F,z,se)=>{const we=Ut.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;S&&Ig(S,we)<0;)o(S,null),S=g.getNext();S&&S.isEqual(we)&&(o(S,z),S=g.hasNext()?g.getNext():null),S?se.Ut(Yu(S)):se.done()}).next(()=>{for(;S;)o(S,null),S=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),Lc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lu(e).qt(IDBKeyRange.bound(l,d,!0)).next(g=>{let S=Ms();for(const F of g){const z=this.Fn(Ut.fromSegments(F.prefixPath.concat(F.collectionGroup,F.documentId)),F);S=S.insert(z.key,z)}return S})}getAllFromCollectionGroup(e,t,o,l){let d=Ms();const g=Sp(t,o),S=Sp(t,gt.max());return Lu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,S,!0)},(F,z,se)=>{const we=this.Fn(Ut.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(we.key,we),d.size===l&&se.done()}).next(()=>d)}newChangeBuffer(e){return new kD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bg(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}On(e,t){return bg(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const o=function Eg(i,e){let t;if(e.document)t=Eh(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ut.fromSegments(e.noDocument.path),l=Tl(e.noDocument.readTime);t=Vr.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const o=Ut.fromSegments(e.unknownDocument.path),l=Tl(e.unknownDocument.version);t=Vr.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Wr(o[0],o[1]);return Mn.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Mn.min()))return o}return Vr.newInvalidDocument(e)}}class kD extends Sg{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Ja(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new ni((d,g)=>jn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const S=this.Gn.get(d);if(t.push(this.qn.removeEntry(e,d,S.readTime)),g.isValidDocument()){const F=Cd(this.qn.M,g);l=l.add(d.path.popLast()),o+=Pd(F)-S.size,t.push(this.qn.addEntry(e,d,F))}else if(o-=S.size,this.trackRemovals){const F=Cd(this.qn.M,g.convertToNoDocument(Mn.min()));t.push(this.qn.addEntry(e,d,F))}}),l.forEach(d=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.qn.updateMetadata(e,o)),at.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:o,Un:l})=>(l.forEach((d,g)=>{this.Gn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function bg(i){return wo(i,"remoteDocumentGlobal")}function Lu(i){return wo(i,"remoteDocumentsV14")}function Yu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sp(i,e){const t=e.documentKey.path.toArray();return[i,Lc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ig(i,e){const t=i.path.length-e.path.length;return 0!==t?t:Ut.comparator(i,e)}class Cp{constructor(e){this.M=e}kt(e,t,o,l){const d=new wd("createOrUpgrade",t);var S;o<1&&l>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",it,{unique:!0}),S.createObjectStore("documentMutations"),m_(e),function(S){S.createObjectStore("remoteDocuments")}(e));let g=at.resolve();return o<3&&l>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),m_(e)),g=g.next(()=>function(S){const F=S.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return F.put("targetGlobalKey",z)}(d))),o<4&&l>=4&&(0!==o&&(g=g.next(()=>function(S,F){return F.store("mutations").qt().next(z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",it,{unique:!0});const se=F.store("mutations"),we=z.map(Qe=>se.put(Qe));return at.waitFor(we)})}(e,d))),g=g.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(g=g.next(()=>this.Kn(d))),o<6&&l>=6&&(g=g.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(d)))),o<7&&l>=7&&(g=g.next(()=>this.jn(d))),o<8&&l>=8&&(g=g.next(()=>this.Wn(e,d))),o<9&&l>=9&&(g=g.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(g=g.next(()=>this.zn(d))),o<11&&l>=11&&(g=g.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(g=g.next(()=>{!function(S){const F=S.createObjectStore("documentOverlays",{keyPath:Td});F.createIndex("collectionPathOverlayIndex",Nu,{unique:!1}),F.createIndex("collectionGroupOverlayIndex",hp,{unique:!1})}(e)})),o<13&&l>=13&&(g=g.next(()=>function(S){const F=S.createObjectStore("remoteDocumentsV14",{keyPath:_n});F.createIndex("documentKeyIndex",Ii),F.createIndex("collectionGroupIndex",Bs)}(e)).next(()=>this.Hn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(g=g.next(()=>{!function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:dp}).createIndex("sequenceNumberIndex",el,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Ou}).createIndex("documentKeyIndex",Dd,{unique:!1})}(e)})),g}Qn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=Pd(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>at.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",g).next(S=>at.forEach(S,F=>{Ft(F.userId===d.userId);const z=Yc(this.M,F);return Ea(e,d.userId,z).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return o.Wt((g,S)=>{const F=new wr(g),z=[0,D(F)];d.push(t.get(z).next(se=>se?at.resolve():t.put({targetId:0,path:D(F),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>at.waitFor(d))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Ed});const o=t.store("collectionParents"),l=new Oh,d=g=>{if(l.add(g)){const S=g.lastSegment(),F=g.popLast();return o.put({collectionId:S,parent:D(F)})}};return t.store("remoteDocuments").Wt({jt:!0},(g,S)=>{const F=new wr(g);return d(F.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([g,S,F],z)=>{const se=Re(S);return d(se.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((o,l)=>{const d=Vc(l),g=Fu(this.M,d);return t.put(g)})}Hn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((d,g)=>{const S=t.store("remoteDocumentsV14"),F=(z=g,z.document?new Ut(wr.fromString(z.document.name).popFirst(5)):z.noDocument?Ut.fromSegments(z.noDocument.path):z.unknownDocument?Ut.fromSegments(z.unknownDocument.path):st()).path.toArray();var z;const se={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};l.push(S.put(se))}).next(()=>at.waitFor(l))}}function m_(i){i.createObjectStore("targetDocuments",{keyPath:Mu}).createIndex("documentTargetsIndex",Fc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rc,{unique:!0}),i.createObjectStore("targetGlobal")}const Pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ag{constructor(e,t,o,l,d,g,S,F,z,se,we=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Jn=d,this.window=g,this.document=S,this.Yn=z,this.Xn=se,this.Zn=we,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Qe=>Promise.resolve(),!Ag.vt())throw new Et($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new p_(this,l),this.cs=t+"main",this.M=new Ih(F),this.hs=new na(this.cs,this.Zn,new Cp(this.M)),this.ls=new AD(this.referenceDelegate,this.M),this.fs=new Cg(this.M),this.ds=new o_,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===se&&re("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Et($e.FAILED_PRECONDITION,Pg);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Bo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var o=(0,fe.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,fe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Xl(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Yh(e).get("owner").next(t=>at.resolve(this.bs(t)))}Ps(e){return bp(e).delete(this.clientId)}Vs(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=wo(o,"clientMetadata");return l.qt().next(d=>{const g=e.Ss(d,18e5),S=d.filter(F=>-1===g.indexOf(F));return at.forEach(S,F=>l.delete(F.clientId)).next(()=>S)})}).catch(()=>[]);if(e._s)for(const o of t)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?at.resolve(!0):Yh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Et($e.FAILED_PRECONDITION,Pg);return!1}}return!(!this.networkEnabled||!this.inForeground)||bp(e).qt().next(o=>void 0===this.Ss(o,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,S=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&j("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new _g(t,Bo.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(o=>this.vs(o.updateTimeMs,t)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>bp(e).qt().next(t=>this.Ss(t,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Dp.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new d_(e)}getDocumentOverlayCache(e){return xh.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,o){j("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=14===(g=this.Zn)?r_:13===g?gg:12===g?fp:11===g?Ru:void st();var g;let S;return this.hs.runTransaction(e,l,d,F=>(S=new _g(F,this.ts?this.ts.next():Bo.A),"readwrite-primary"===t?this.Ts(S).next(z=>!!z||this.Es(S)).next(z=>{if(!z)throw re(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Et($e.FAILED_PRECONDITION,yg);return o(S)}).next(z=>this.Rs(S).next(()=>z)):this.Fs(S).next(()=>o(S)))).then(F=>(S.raiseOnCommittedEvent(),F))}Fs(e){return Yh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Et($e.FAILED_PRECONDITION,Pg)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yh(e).put("owner",t)}static vt(){return na.vt()}As(e){const t=Yh(e);return t.get("owner").next(o=>this.bs(o)?(j("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}vs(e,t){const o=Date.now();return!(e<o-t||e>o&&(re(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Ne.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const o=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return j("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return re("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){re("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yh(i){return wo(i,"owner")}function bp(i){return wo(i,"clientMetadata")}function xg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class MD{constructor(e,t,o){this.fs=e,this.$s=t,this.indexManager=o}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Ls(e,t,o))}Ls(e,t,o){return this.fs.getEntry(e,t).next(l=>{for(const d of o)d.applyToLocalView(l);return l})}Us(e,t){e.forEach((o,l)=>{for(const d of t)d.applyToLocalView(l)})}qs(e,t){return this.fs.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Us(t,o))}Ks(e,t,o){return Ut.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.Qs(e,t.path):Cc(t)?this.js(e,t,o):this.Ws(e,t,o);var l}Qs(e,t){return this.Bs(e,new Ut(t)).next(o=>{let l=Gl();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}js(e,t,o){const l=t.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,l).next(g=>at.forEach(g,S=>{const F=(z=t,se=S.child(l),new ya(se,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,se;return this.Ws(e,F,o).next(z=>{z.forEach((se,we)=>{d=d.insert(se,we)})})}).next(()=>d))}Ws(e,t,o){let l;return this.fs.getAllFromCollection(e,t.path,o).next(d=>(l=d,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const g of d)for(const S of g.mutations){const F=S.key;let z=l.get(F);null==z&&(z=Vr.newInvalidDocument(F),l=l.insert(F,z)),Es(S,z,g.localWriteTime),z.isFoundDocument()||(l=l.remove(F))}}).next(()=>(l.forEach((d,g)=>{yu(t,g)||(l=l.remove(d))}),l))}}class kg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.zs=o,this.Hs=l}static Js(e,t){let o=Rr(),l=Rr();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new kg(e,t.fromCache,o,l)}}class g_{Ys(e){this.Xs=e}Ks(e,t,o,l){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(Mn.min())?this.Zs(e,t):this.Xs.qs(e,l).next(d=>{const g=this.ti(t,d);return(ul(t)||mu(t))&&this.ei(t.limitType,g,l,o)?this.Zs(e,t):(O()<=Ze.in.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bc(t)),this.Xs.Ks(e,t,ze(o,-1)).next(S=>(g.forEach(F=>{S=S.insert(F.key,F)}),S)))});var d}ti(e,t){let o=new ni(ud(e));return t.forEach((l,d)=>{yu(e,d)&&(o=o.add(d))}),o}ei(e,t,o,l){if(o.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Zs(e,t){return O()<=Ze.in.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",bc(t)),this.Xs.Ks(e,t,gt.min())}}class OD{constructor(e,t,o,l){this.persistence=e,this.ni=t,this.M=l,this.si=new Ji(jn),this.ii=new Ja(d=>zn(d),lo),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new MD(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Cl(i,e,t,o){return new OD(i,e,t,o)}function Vh(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,fe.Z)(function*(i,e){const t=Tt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.$s.getAllMutationBatches(o).next(d=>(l=d,t.ui(e),t.$s.getAllMutationBatches(o))).next(d=>{const g=[],S=[];let F=Rr();for(const z of l){g.push(z.batchId);for(const se of z.mutations)F=F.add(se.key)}for(const z of d){S.push(z.batchId);for(const se of z.mutations)F=F.add(se.key)}return t.ai.qs(o,F).next(z=>({ci:z,removedBatchIds:g,addedBatchIds:S}))})})}),Ip.apply(this,arguments)}function Mg(i,e){const t=Tt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),d=t.oi.newChangeBuffer({trackRemovals:!0});return function(g,S,F,z){const se=F.batch,we=se.keys();let Qe=at.resolve();return we.forEach(_t=>{Qe=Qe.next(()=>z.getEntry(S,_t)).next(St=>{const nn=F.docVersions.get(_t);Ft(null!==nn),St.version.compareTo(nn)<0&&(se.applyToRemoteDocument(St,F),St.isValidDocument()&&(St.setReadTime(F.commitVersion),z.addEntry(St)))})}),Qe.next(()=>g.$s.removeMutationBatch(S,se))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.$s.performConsistencyCheck(o)).next(()=>t.ai.qs(o,l))})}function Uh(i){const e=Tt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Og(i,e){const t=Tt(i),o=e.snapshotVersion;let l=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.oi.newChangeBuffer({trackRemovals:!0});l=t.si;const S=[];e.targetChanges.forEach((z,se)=>{const we=l.get(se);if(!we)return;S.push(t.ls.removeMatchingKeys(d,z.removedDocuments,se).next(()=>t.ls.addMatchingKeys(d,z.addedDocuments,se)));let Qe=we.withSequenceNumber(d.currentSequenceNumber);var _t,St,nn;e.targetMismatches.has(se)?Qe=Qe.withResumeToken(ui.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):z.resumeToken.approximateByteSize()>0&&(Qe=Qe.withResumeToken(z.resumeToken,o)),l=l.insert(se,Qe),St=Qe,nn=z,(0===(_t=we).resumeToken.approximateByteSize()||St.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||nn.addedDocuments.size+nn.modifiedDocuments.size+nn.removedDocuments.size>0)&&S.push(t.ls.updateTargetData(d,Qe))});let F=Ms();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(d,z))}),S.push(jh(d,g,e.documentUpdates).next(z=>{F=z})),!o.isEqual(Mn.min())){const z=t.ls.getLastRemoteSnapshotVersion(d).next(se=>t.ls.setTargetsMetadata(d,d.currentSequenceNumber,o));S.push(z)}return at.waitFor(S).next(()=>g.apply(d)).next(()=>t.ai.Gs(d,F)).next(()=>F)}).then(d=>(t.si=l,d))}function jh(i,e,t){let o=Rr();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let d=Ms();return t.forEach((g,S)=>{const F=l.get(g);S.isNoDocument()&&S.version.isEqual(Mn.min())?(e.removeEntry(g,S.readTime),d=d.insert(g,S)):!F.isValidDocument()||S.version.compareTo(F.version)>0||0===S.version.compareTo(F.version)&&F.hasPendingWrites?(e.addEntry(S),d=d.insert(g,S)):j("LocalStore","Ignoring outdated watch update for ",g,". Current version:",F.version," Watch version:",S.version)}),d})}function y_(i,e){const t=Tt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(o,e)))}function ia(i,e){const t=Tt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.ls.getTargetData(o,e).next(d=>d?(l=d,at.resolve(l)):t.ls.allocateTargetId(o).next(g=>(l=new Dl(e,g,0,o.currentSequenceNumber),t.ls.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.si.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.si=t.si.insert(o.targetId,o),t.ii.set(e,o.targetId)),o})}function Hc(i,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,fe.Z)(function*(i,e,t){const o=Tt(i),l=o.si.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Xl(g))throw g;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.si=o.si.remove(e),o.ii.delete(l.target)}),Pp.apply(this,arguments)}function Vu(i,e,t){const o=Tt(i);let l=Mn.min(),d=Rr();return o.persistence.runTransaction("Execute query","readonly",g=>function(S,F,z){const se=Tt(S),we=se.ii.get(z);return void 0!==we?at.resolve(se.si.get(we)):se.ls.getTargetData(F,z)}(o,g,js(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(g,S.targetId).next(F=>{d=F})}).next(()=>o.ni.Ks(g,e,t?l:Mn.min(),t?d:Rr())).next(S=>(Rg(o,cd(e),S),{documents:S,hi:d})))}function Ng(i,e){const t=Tt(i),o=Tt(t.ls),l=t.si.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(g=>g?g.target:null))}function Ap(i,e){const t=Tt(i),o=t.ri.get(e)||Mn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.oi.getAllFromCollectionGroup(l,e,ze(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Rg(t,e,l),l))}function Rg(i,e,t){let o=Mn.min();t.forEach((l,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.ri.set(e,o)}function zc(){return zc=(0,fe.Z)(function*(i,e,t,o){const l=Tt(i);let d=Rr(),g=Ms();for(const z of t){const se=e.li(z.metadata.name);z.document&&(d=d.add(se));const we=e.fi(z);we.setReadTime(e.di(z.metadata.readTime)),g=g.insert(se,we)}const S=l.oi.newChangeBuffer({trackRemovals:!0}),F=yield ia(l,(z=o,js(Sc(wr.fromString(`__bundle__/docs/${z}`)))));var z;return l.persistence.runTransaction("Apply bundle documents","readwrite",z=>jh(z,S,g).next(se=>(S.apply(z),se)).next(se=>l.ls.removeMatchingKeysForTargetId(z,F.targetId).next(()=>l.ls.addMatchingKeys(z,d,F.targetId)).next(()=>l.ai.Gs(z,se)).next(()=>se)))}),zc.apply(this,arguments)}function Uu(i,e){return xd.apply(this,arguments)}function xd(){return xd=(0,fe.Z)(function*(i,e,t=Rr()){const o=yield ia(i,js(yp(e.bundledQuery))),l=Tt(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=xo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return l.ds.saveNamedQuery(d,e);const S=o.withResumeToken(ui.EMPTY_BYTE_STRING,g);return l.si=l.si.insert(S.targetId,S),l.ls.updateTargetData(d,S).next(()=>l.ls.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>l.ls.addMatchingKeys(d,t,o.targetId)).next(()=>l.ds.saveNamedQuery(d,e))})}),xd.apply(this,arguments)}class ju{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return at.resolve(this._i.get(t))}saveBundleMetadata(e,t){var o;return this._i.set(t.id,{id:(o=t).id,version:o.version,createTime:xo(o.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(o=t).name,query:yp(o.bundledQuery),readTime:xo(o.readTime)}),at.resolve();var o}}class kd{constructor(){this.overlays=new Ji(Ut.comparator),this.mi=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,d)=>{this.Xt(e,t,d)}),at.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.mi.get(o);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.mi.delete(o)),at.resolve()}getOverlaysForCollection(e,t,o){const l=Kl(),d=t.length+1,g=new Ut(t.child("")),S=this.overlays.getIteratorFrom(g);for(;S.hasNext();){const F=S.getNext().value,z=F.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===d&&F.largestBatchId>o&&l.set(F.getKey(),F)}return at.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let d=new Ji((z,se)=>z-se);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let se=d.get(z.largestBatchId);null===se&&(se=Kl(),d=d.insert(z.largestBatchId,se)),se.set(z.getKey(),z)}}const S=Kl(),F=d.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((z,se)=>S.set(z,se)),!(S.size()>=l)););return at.resolve(S)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const g=this.mi.get(l.largestBatchId).delete(o.key);this.mi.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new bh(t,o));let d=this.mi.get(t);void 0===d&&(d=Rr(),this.mi.set(t,d)),this.mi.set(t,d.add(o.key))}}class nc{constructor(){this.gi=new ni(es.yi),this.pi=new ni(es.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const o=new es(e,t);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ei(new es(e,t))}Ai(e,t){e.forEach(o=>this.removeReference(o,t))}Ri(e){const t=new Ut(new wr([])),o=new es(t,e),l=new es(t,e+1),d=[];return this.pi.forEachInRange([o,l],g=>{this.Ei(g),d.push(g.key)}),d}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ut(new wr([])),o=new es(t,e),l=new es(t,e+1);let d=Rr();return this.pi.forEachInRange([o,l],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new es(e,0),o=this.gi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class es{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ut.comparator(e.key,t.key)||jn(e.Vi,t.Vi)}static Ii(e,t){return jn(e.Vi,t.Vi)||Ut.comparator(e.key,t.key)}}class Fg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new ni(es.yi)}checkEmpty(e){return at.resolve(0===this.$s.length)}addMutationBatch(e,t,o,l){const d=this.vi;this.vi++;const g=new gp(d,t,o,l);this.$s.push(g);for(const S of l)this.Si=this.Si.add(new es(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return at.resolve(g)}lookupMutationBatch(e,t){return at.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.Ci(t+1),d=l<0?0:l;return at.resolve(this.$s.length>d?this.$s[d]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return at.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new es(t,0),l=new es(t,Number.POSITIVE_INFINITY),d=[];return this.Si.forEachInRange([o,l],g=>{const S=this.Di(g.Vi);d.push(S)}),at.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ni(jn);return t.forEach(l=>{const d=new es(l,0),g=new es(l,Number.POSITIVE_INFINITY);this.Si.forEachInRange([d,g],S=>{o=o.add(S.Vi)})}),at.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let d=o;Ut.isDocumentKey(d)||(d=d.child(""));const g=new es(new Ut(d),0);let S=new ni(jn);return this.Si.forEachWhile(F=>{const z=F.key.path;return!!o.isPrefixOf(z)&&(z.length===l&&(S=S.add(F.Vi)),!0)},g),at.resolve(this.xi(S))}xi(e){const t=[];return e.forEach(o=>{const l=this.Di(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Ft(0===this.Ni(t.batchId,"removed")),this.$s.shift();let o=this.Si;return at.forEach(t.mutations,l=>{const d=new es(l.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,t){const o=new es(t,0),l=this.Si.firstAfterOrEqual(o);return at.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return at.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class Lg{constructor(e){this.ki=e,this.docs=new Ji(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),d=l?l.size:0,g=this.ki(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return at.resolve(o?o.document.mutableCopy():Vr.newInvalidDocument(t))}getEntries(e,t){let o=Ms();return t.forEach(l=>{const d=this.docs.get(l);o=o.insert(l,d?d.document.mutableCopy():Vr.newInvalidDocument(l))}),at.resolve(o)}getAllFromCollection(e,t,o){let l=Ms();const d=new Ut(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:S,value:{document:F}}=g.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||rn(Xe(F),o)<=0||(l=l.insert(F.key,F.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(e,t,o,l){st()}Mi(e,t){return at.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new xp(this)}getSize(e){return at.resolve(this.size)}}class xp extends Sg{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.qn.addEntry(e,l)):this.qn.removeEntry(o)}),at.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class kp{constructor(e){this.persistence=e,this.Oi=new Ja(t=>zn(t),lo),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Fi=0,this.$i=new nc,this.targetCount=0,this.Bi=Sl.mn()}forEachTarget(e,t){return this.Oi.forEach((o,l)=>t(l)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Fi&&(this.Fi=t),at.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.In(t),at.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,o){let l=0;const d=[];return this.Oi.forEach((g,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Oi.delete(g),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),at.waitFor(d).next(()=>l)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const o=this.Oi.get(t)||null;return at.resolve(o)}addMatchingKeys(e,t,o){return this.$i.Ti(t,o),at.resolve()}removeMatchingKeys(e,t,o){this.$i.Ai(t,o);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),at.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),at.resolve()}getMatchingKeysForTargetId(e,t){const o=this.$i.Pi(t);return at.resolve(o)}containsKey(e,t){return at.resolve(this.$i.containsKey(t))}}class Yg{constructor(e,t){this.Li={},this.overlays={},this.ts=new Bo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new kp(this),this.indexManager=new u_,this.fs=new Lg(o=>this.referenceDelegate.Ui(o)),this.M=new Ih(t),this.ds=new ju(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Li[e.toKey()];return o||(o=new Fg(t,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,o){j("MemoryPersistence","Starting transaction:",e);const l=new Bh(this.ts.next());return this.referenceDelegate.qi(),o(l).next(d=>this.referenceDelegate.Gi(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ki(e,t){return at.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,t)))}}class Bh extends pp{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Qi=new nc,this.ji=null}static Wi(e){return new Mp(e)}get zi(){if(this.ji)return this.ji;throw st()}addReference(e,t,o){return this.Qi.addReference(o,t),this.zi.delete(o.toString()),at.resolve()}removeReference(e,t,o){return this.Qi.removeReference(o,t),this.zi.add(o.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),at.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(l=>this.zi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.zi.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.zi,o=>{const l=Ut.fromPath(o);return this.Hi(e,l).next(d=>{d||t.removeEntry(l,Mn.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(o=>{o?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return at.or([()=>at.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Op(i,e){return`firestore_clients_${i}_${e}`}function __(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Hh(i,e){return`firestore_targets_${i}_${e}`}class Md{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Ji(e,t,o){const l=JSON.parse(o);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Et(l.error.code,l.error.message))),g?new Md(e,t,l.state,d):(re("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Od{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let l,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Et(o.error.code,o.error.message))),d?new Od(e,o.state,l):(re("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,d=Su();for(let g=0;l&&g<o.activeTargetIds.length;++g)l=ba(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return l?new Nd(e,d):(re("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Np{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Np(t.clientId,t.onlineState):(re("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rp{constructor(){this.activeTargetIds=Su()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Os{constructor(e,t,o,l,d){this.window=e,this.Jn=t,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ji(jn),this.started=!1,this.ir=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.rr=Op(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Rp),this.ar=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.Os();for(const l of t){if(l===e.tr)continue;const d=e.getItem(Op(e.persistenceKey,l));if(d){const g=Nd.Ji(l,d);g&&(e.sr=e.sr.insert(g.clientId,g))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Hh(this.persistenceKey,e));if(o){const l=Od.Ji(e,o);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return j("SharedClientState","READ",e,t),t}setItem(e,t){j("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(j("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void re("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==o.key)if(t.ar.test(o.key)){if(null==o.newValue){const l=t.Rr(o.key);return t.br(l,null)}{const l=t.Pr(o.key,o.newValue);if(l)return t.br(l.clientId,l)}}else if(t.cr.test(o.key)){if(null!==o.newValue){const l=t.Vr(o.key,o.newValue);if(l)return t.vr(l)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const l=t.Sr(o.key,o.newValue);if(l)return t.Dr(l)}}else if(o.key===t.lr){if(null!==o.newValue){const l=t.wr(o.newValue);if(l)return t.mr(l)}}else if(o.key===t.ur){const l=function(d){let g=Bo.A;if(null!=d)try{const S=JSON.parse(d);Ft("number"==typeof S),g=S}catch(S){re("SharedClientState","Failed to read sequence number from WebStorage",S)}return g}(o.newValue);l!==Bo.A&&t.sequenceNumberHandler(l)}else if(o.key===t.dr){const l=t.Cr(o.newValue);yield Promise.all(l.map(d=>t.syncEngine.Nr(d)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const l=new Md(this.currentUser,e,t,o),d=__(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Yi())}pr(e){const t=__(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const l=Hh(this.persistenceKey,e),d=new Od(e,t,o);this.setItem(l,d.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return Nd.Ji(o,t)}Vr(e,t){const o=this.cr.exec(e),l=Number(o[1]);return Md.Ji(new C(void 0!==o[2]?o[2]:null),l,t)}Sr(e,t){const o=this.hr.exec(e),l=Number(o[1]);return Od.Ji(l,t)}wr(e){return Np.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),d=this.gr(o),g=[],S=[];return d.forEach(F=>{l.has(F)||g.push(F)}),l.forEach(F=>{d.has(F)||S.push(F)}),this.syncEngine.Or(g,S).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Su();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Vg{constructor(){this.Fr=new Rp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Rp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E_{Br(e){}shutdown(){}}class D_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ug{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class RD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,l,d){const g=this.oo(e,t);j("RestConnection","Sending: ",g,o);const S={};return this.uo(S,l,d),this.ao(e,g,S,o).then(F=>(j("RestConnection","Received: ",F),F),F=>{throw be("RestConnection",`${e} failed with error: `,F,"url: ",g,"request:",o),F})}co(e,t,o,l,d){return this.ro(e,t,o,l,d)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+T,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),o&&o.headers.forEach((l,d)=>e[d]=l)}oo(e,t){return`${this.so}/v1/${t}:${ND[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,o,l){return new Promise((d,g)=>{const S=new sl;S.listenOnce(Ll.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Uo.NO_ERROR:const z=S.getResponseJson();j("Connection","XHR received:",JSON.stringify(z)),d(z);break;case Uo.TIMEOUT:j("Connection",'RPC "'+e+'" timed out'),g(new Et($e.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const se=S.getStatus();if(j("Connection",'RPC "'+e+'" failed with status:',se,"response text:",S.getResponseText()),se>0){const we=S.getResponseJson().error;if(we&&we.status&&we.message){const Qe=function(_t){const St=_t.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(St)>=0?St:$e.UNKNOWN}(we.status);g(new Et(Qe,we.message))}else g(new Et($e.UNKNOWN,"Server responded with status "+S.getStatus()))}else g(new Et($e.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{j("Connection",'RPC "'+e+'" completed.')}});const F=JSON.stringify(l);S.send(t,"POST",F,o,15)})}ho(e,t,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Li(),g=Fl(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new _c({})),this.uo(S.initMessageHeaders,t,o),(0,Ne.uI)()||(0,Ne.b$)()||(0,Ne.d)()||(0,Ne.w1)()||(0,Ne.Mn)()||(0,Ne.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const F=l.join("");j("Connection","Creating WebChannel: "+F,S);const z=d.createWebChannel(F,S);let se=!1,we=!1;const Qe=new Ug({jr:St=>{we?j("Connection","Not sending because WebChannel is closed:",St):(se||(j("Connection","Opening WebChannel transport."),z.open(),se=!0),j("Connection","WebChannel sending:",St),z.send(St))},Wr:()=>z.close()}),_t=(St,nn,xn)=>{St.listen(nn,$r=>{try{xn($r)}catch(rr){setTimeout(()=>{throw rr},0)}})};return _t(z,Dr.EventType.OPEN,()=>{we||j("Connection","WebChannel transport opened.")}),_t(z,Dr.EventType.CLOSE,()=>{we||(we=!0,j("Connection","WebChannel transport closed"),Qe.eo())}),_t(z,Dr.EventType.ERROR,St=>{we||(we=!0,be("Connection","WebChannel transport errored:",St),Qe.eo(new Et($e.UNAVAILABLE,"The operation could not be completed")))}),_t(z,Dr.EventType.MESSAGE,St=>{var nn;if(!we){const xn=St.data[0];Ft(!!xn);const $r=xn,rr=$r.error||(null===(nn=$r[0])||void 0===nn?void 0:nn.error);if(rr){j("Connection","WebChannel received error:",rr);const no=rr.status;let ir=function(lr){const $a=Do[lr];if(void 0!==$a)return Du($a)}(no),mr=rr.message;void 0===ir&&(ir=$e.INTERNAL,mr="Unknown error status: "+no+" with message "+rr.message),we=!0,Qe.eo(new Et(ir,mr)),z.close()}else j("Connection","WebChannel received:",xn),Qe.no(xn)}}),_t(g,wa.STAT_EVENT,St=>{St.stat===as.PROXY?j("Connection","Detected buffering proxy"):St.stat===as.NOPROXY&&j("Connection","Detected no buffering proxy")}),setTimeout(()=>{Qe.Zr()},0),Qe}}function jg(){return"undefined"!=typeof window?window:null}function Bu(){return"undefined"!=typeof document?document:null}function Hu(i){return new sp(i,!0)}class Fp{constructor(e,t,o=1e3,l=1.5,d=6e4){this.Jn=e,this.timerId=t,this.lo=o,this.fo=l,this._o=d,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-o);l>0&&j("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Bg{constructor(e,t,o,l,d,g,S,F){this.Jn=e,this.Ao=o,this.Ro=l,this.bo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=S,this.listener=F,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Fp(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,fe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,fe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var o=this;return(0,fe.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(re(t.toString()),re("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===$e.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===t&&this.Uo(o,l)},o=>{e(()=>{const l=new Et($e.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,fe.Z)(function*(){e.state=0,e.start()}))}qo(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T_ extends Bg{constructor(e,t,o,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,g),this.M=d}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function ko(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:st(),l=e.targetChange.targetIds||[],d=function(F,z){return F.N?(Ft(void 0===z||"string"==typeof z),ui.fromBase64String(z||"")):(Ft(void 0===z||z instanceof Uint8Array),ui.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,S=g&&function(F){const z=void 0===F.code?$e.UNKNOWN:Du(F.code);return new Et(z,F.message||"")}(g);t=new bu(o,l,d,S||null)}else if("documentChange"in e){const o=e.documentChange,l=ta(i,o.document.name),d=xo(o.document.updateTime),g=new bi({mapValue:{fields:o.document.fields}}),S=Vr.newFoundDocument(l,d,g);t=new Xa(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,l=ta(i,o.document),d=o.readTime?xo(o.readTime):Mn.min(),g=Vr.newNoDocument(l,d);t=new Xa([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,l=ta(i,o.document);t=new Xa([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return st();{const o=e.filter,d=new mg(o.count||0);t=new Xo(o.targetId,d)}}var F;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return Mn.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Mn.min():d.readTime?xo(d.readTime):Mn.min()}(e);return this.listener.Ko(t,o)}Qo(e){const t={};t.database=Zl(this.M),t.addTarget=function(l,d){let g;const S=d.target;return g=di(S)?{documents:_a(l,S)}:{query:Ql(l,S)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=Wl(l,d.resumeToken):d.snapshotVersion.compareTo(Mn.min())>0&&(g.readTime=Ao(l,d.snapshotVersion.toTimestamp())),g}(this.M,e);const o=function Th(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=Zl(this.M),t.removeTarget=e,this.Oo(t)}}class Hg extends Bg{constructor(e,t,o,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,g),this.M=d,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function lp(i,e){return i&&i.length>0?(Ft(void 0!==e),i.map(t=>function(o,l){let d=xo(o.updateTime?o.updateTime:l);return d.isEqual(Mn.min())&&(d=xo(l)),new ep(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=xo(e.commitTime);return this.listener.Jo(o,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Zl(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>_l(this.M,o))};this.Oo(t)}}class w_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=l,this.Zo=!1}tu(){if(this.Zo)throw new Et($e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.ro(e,t,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Et($e.UNKNOWN,l.toString())})}co(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.co(e,t,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Et($e.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class zg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(re(t),this.su=!1):j("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class S_{constructor(e,t,o,l,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=d,this.du.Br(S=>{o.enqueueAndForget((0,fe.Z)(function*(){var F;rc(g)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,fe.Z)(function*(z){const se=Tt(z);se.lu.add(4),yield $c(se),se._u.set("Unknown"),se.lu.delete(4),yield Rd(se)}),function(z){return F.apply(this,arguments)})(g))}))}),this._u=new zg(o,l)}}function Rd(i){return zh.apply(this,arguments)}function zh(){return zh=(0,fe.Z)(function*(i){if(rc(i))for(const e of i.fu)yield e(!0)}),zh.apply(this,arguments)}function $c(i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,fe.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Lp.apply(this,arguments)}function oa(i,e){const t=Tt(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),$h(t)?Gg(t):ic(t).Co()&&Yp(t,e))}function Gc(i,e){const t=Tt(i),o=ic(t);t.hu.delete(e),o.Co()&&$g(t,e),0===t.hu.size&&(o.Co()?o.ko():rc(t)&&t._u.set("Unknown"))}function Yp(i,e){i.wu.Z(e.targetId),ic(i).Qo(e)}function $g(i,e){i.wu.Z(e),ic(i).jo(e)}function Gg(i){i.wu=new Pu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),ic(i).start(),i._u.iu()}function $h(i){return rc(i)&&!ic(i).Do()&&i.hu.size>0}function rc(i){return 0===Tt(i).lu.size}function Kg(i){i.wu=void 0}function C_(i){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,fe.Z)(function*(i){i.hu.forEach((e,t)=>{Yp(i,e)})}),Fd.apply(this,arguments)}function b_(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,fe.Z)(function*(i,e){Kg(i),$h(i)?(i._u.uu(e),Gg(i)):i._u.set("Unknown")}),Vp.apply(this,arguments)}function Gh(i,e,t){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,fe.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof bu&&2===e.state&&e.cause)try{yield(o=(0,fe.Z)(function*(l,d){const g=d.cause;for(const S of d.targetIds)l.hu.has(S)&&(yield l.remoteSyncer.rejectListen(S,g),l.hu.delete(S),l.wu.removeTarget(S))}),function(l,d){return o.apply(this,arguments)})(i,e)}catch(o){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Kh(i,o)}else if(e instanceof Xa?i.wu.ut(e):e instanceof Xo?i.wu._t(e):i.wu.ht(e),!t.isEqual(Mn.min()))try{const o=yield Uh(i.localStore);t.compareTo(o)>=0&&(yield function(l,d){const g=l.wu.yt(d);return g.targetChanges.forEach((S,F)=>{if(S.resumeToken.approximateByteSize()>0){const z=l.hu.get(F);z&&l.hu.set(F,z.withResumeToken(S.resumeToken,d))}}),g.targetMismatches.forEach(S=>{const F=l.hu.get(S);if(!F)return;l.hu.set(S,F.withResumeToken(ui.EMPTY_BYTE_STRING,F.snapshotVersion)),$g(l,S);const z=new Dl(F.target,S,1,F.sequenceNumber);Yp(l,z)}),l.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){j("RemoteStore","Failed to raise snapshot:",o),yield Kh(i,o)}var o}),Ld.apply(this,arguments)}function Kh(i,e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,fe.Z)(function*(i,e,t){if(!Xl(e))throw e;i.lu.add(1),yield $c(i),i._u.set("Offline"),t||(t=()=>Uh(i.localStore)),i.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){j("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Rd(i)}))}),Yd.apply(this,arguments)}function Wh(i,e){return e().catch(t=>Kh(i,t,e))}function Kc(i){return Up.apply(this,arguments)}function Up(){return Up=(0,fe.Z)(function*(i){const e=Tt(i),t=Da(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;I_(e);)try{const l=yield y_(e.localStore,o);if(null===l){0===e.cu.length&&t.ko();break}o=l.batchId,jp(e,l)}catch(l){yield Kh(e,l)}P_(e)&&Wg(e)}),Up.apply(this,arguments)}function I_(i){return rc(i)&&i.cu.length<10}function jp(i,e){i.cu.push(e);const t=Da(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function P_(i){return rc(i)&&!Da(i).Do()&&i.cu.length>0}function Wg(i){Da(i).start()}function qg(i){return qh.apply(this,arguments)}function qh(){return qh=(0,fe.Z)(function*(i){Da(i).Xo()}),qh.apply(this,arguments)}function Zg(i){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,fe.Z)(function*(i){const e=Da(i);for(const t of i.cu)e.Ho(t.mutations)}),Zh.apply(this,arguments)}function Qg(i,e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,fe.Z)(function*(i,e,t){const o=i.cu.shift(),l=Ch.from(o,e,t);yield Wh(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Kc(i)}),Fa.apply(this,arguments)}function Qh(i,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,fe.Z)(function*(i,e){var t;e&&Da(i).zo&&(yield(t=(0,fe.Z)(function*(o,l){if(md(d=l.code)&&d!==$e.ABORTED){const g=o.cu.shift();Da(o).No(),yield Wh(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Kc(o)}var d}),function(o,l){return t.apply(this,arguments)})(i,e)),P_(i)&&Wg(i)}),Bp.apply(this,arguments)}function Jg(i,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,fe.Z)(function*(i,e){const t=Tt(i);t.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const o=rc(t);t.lu.add(3),yield $c(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Rd(t)}),Xg.apply(this,arguments)}function Vd(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,fe.Z)(function*(i,e){const t=Tt(i);e?(t.lu.delete(2),yield Rd(t)):e||(t.lu.add(2),yield $c(t),t._u.set("Unknown"))}),Jh.apply(this,arguments)}function ic(i){return i.mu||(i.mu=function(e,t,o){const l=Tt(e);return l.tu(),new T_(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:C_.bind(null,i),Jr:b_.bind(null,i),Ko:Gh.bind(null,i)}),i.fu.push(function(){var e=(0,fe.Z)(function*(t){t?(i.mu.No(),$h(i)?Gg(i):i._u.set("Unknown")):(yield i.mu.stop(),Kg(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function Da(i){return i.gu||(i.gu=function(e,t,o){const l=Tt(e);return l.tu(),new Hg(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:qg.bind(null,i),Jr:Qh.bind(null,i),Yo:Zg.bind(null,i),Jo:Qg.bind(null,i)}),i.fu.push(function(){var e=(0,fe.Z)(function*(t){t?(i.gu.No(),yield Kc(i)):(yield i.gu.stop(),i.cu.length>0&&(j("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Hp{constructor(e,t,o,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=d,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,l,d){const g=Date.now()+o,S=new Hp(e,t,g,l,d);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Et($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oc(i,e){if(re("AsyncQueue",`${e}: ${i}`),Xl(i))return new Et($e.UNAVAILABLE,`${e}: ${i}`);throw i}class Wc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ut.comparator(t.key,o.key):(t,o)=>Ut.comparator(t.key,o.key),this.keyedMap=Gl(),this.sortedSet=new Ji(this.comparator)}static emptySet(e){return new Wc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=o.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Wc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class zp{constructor(){this.yu=new Ji(Ut.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):st():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class qc{constructor(e,t,o,l,d,g,S,F){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=S,this.excludesMetadataChanges=F}static fromInitialDocuments(e,t,o,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new qc(e,t,Wc.emptySet(t),d,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class A_{constructor(){this.Iu=void 0,this.listeners=[]}}class $p{constructor(){this.queries=new Ja(e=>dl(e),gu),this.onlineState="Unknown",this.Tu=new Set}}function Gp(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,fe.Z)(function*(i,e){const t=Tt(i),o=e.query;let l=!1,d=t.queries.get(o);if(d||(l=!0,d=new A_),l)try{d.Iu=yield t.onListen(o)}catch(g){const S=oc(g,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,d),d.listeners.push(e),e.Eu(t.onlineState),d.Iu&&e.Au(d.Iu)&&Wp(t)}),Kp.apply(this,arguments)}function Xh(i,e){return sc.apply(this,arguments)}function sc(){return sc=(0,fe.Z)(function*(i,e){const t=Tt(i),o=e.query;let l=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),sc.apply(this,arguments)}function ey(i,e){const t=Tt(i);let o=!1;for(const l of e){const g=t.queries.get(l.query);if(g){for(const S of g.listeners)S.Au(l)&&(o=!0);g.Iu=l}}o&&Wp(t)}function x_(i,e,t){const o=Tt(i),l=o.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);o.queries.delete(e)}function Wp(i){i.Tu.forEach(e=>{e.next()})}class ac{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new qc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class k_{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class ty{constructor(e){this.M=e}li(e){return ta(this.M,e)}fi(e){return e.metadata.exists?Eh(this.M,e.document,!1):Vr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return xo(e)}}class M_{constructor(e,t,o){this.xu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ny(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=wr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new ty(this.M);for(const l of e)if(l.metadata.queries){const d=o.li(l.metadata.name);for(const g of l.metadata.queries){const S=(t.get(g)||Rr()).add(d);t.set(g,S)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function v_(i,e,t,o){return zc.apply(this,arguments)}(e.localStore,new ty(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Uu(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function ny(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class sa{constructor(e){this.key=e}}class ef{constructor(e){this.key=e}}class qp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Rr(),this.mutatedKeys=Rr(),this.Lu=ud(e),this.Uu=new Wc(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new zp,l=t?t.Uu:this.Uu;let d=t?t.mutatedKeys:this.mutatedKeys,g=l,S=!1;const F=ul(this.query)&&l.size===this.query.limit?l.last():null,z=mu(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((se,we)=>{const Qe=l.get(se),_t=yu(this.query,we)?we:null,St=!!Qe&&this.mutatedKeys.has(Qe.key),nn=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let xn=!1;Qe&&_t?Qe.data.isEqual(_t.data)?St!==nn&&(o.track({type:3,doc:_t}),xn=!0):this.Qu(Qe,_t)||(o.track({type:2,doc:_t}),xn=!0,(F&&this.Lu(_t,F)>0||z&&this.Lu(_t,z)<0)&&(S=!0)):!Qe&&_t?(o.track({type:0,doc:_t}),xn=!0):Qe&&!_t&&(o.track({type:1,doc:Qe}),xn=!0,(F||z)&&(S=!0)),xn&&(_t?(g=g.add(_t),d=nn?d.add(se):d.delete(se)):(g=g.delete(se),d=d.delete(se)))}),ul(this.query)||mu(this.query))for(;g.size>this.query.limit;){const se=ul(this.query)?g.last():g.first();g=g.delete(se.key),d=d.delete(se.key),o.track({type:1,doc:se})}return{Uu:g,Ku:o,ei:S,mutatedKeys:d}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const d=e.Ku.pu();d.sort((z,se)=>function(we,Qe){const _t=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return _t(we)-_t(Qe)}(z.type,se.type)||this.Lu(z.doc,se.doc)),this.ju(o);const g=t?this.Wu():[],S=0===this.Bu.size&&this.current?1:0,F=S!==this.$u;return this.$u=S,0!==d.length||F?{snapshot:new qc(this.query,e.Uu,l,d,e.mutatedKeys,0===S,F,!1),zu:g}:{zu:g}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new zp,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Rr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new ef(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new sa(o))}),t}Ju(e){this.Fu=e.hi,this.Bu=Rr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return qc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class ry{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class iy{constructor(e){this.key=e,this.Xu=!1}}class oy{constructor(e,t,o,l,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Zu={},this.ta=new Ja(S=>dl(S),gu),this.ea=new Map,this.na=new Set,this.sa=new Ji(Ut.comparator),this.ia=new Map,this.ra=new nc,this.oa={},this.ua=new Map,this.aa=Sl.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function O_(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,fe.Z)(function*(i,e){const t=$d(i);let o,l;const d=t.ta.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),l=d.view.Yu();else{const g=yield ia(t.localStore,js(e));t.isPrimaryClient&&oa(t.remoteStore,g);const S=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,l=yield Qp(t,e,o,"current"===S)}return l}),Zp.apply(this,arguments)}function Qp(i,e,t,o){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,fe.Z)(function*(i,e,t,o){i.ha=(se,we,Qe)=>{return(_t=(0,fe.Z)(function*(St,nn,xn,$r){let rr=nn.view.Gu(xn);rr.ei&&(rr=yield Vu(St.localStore,nn.query,!1).then(({documents:mr})=>nn.view.Gu(mr,rr)));const no=$r&&$r.targetChanges.get(nn.targetId),ir=nn.view.applyChanges(rr,St.isPrimaryClient,no);return py(St,nn.targetId,ir.zu),ir.snapshot}),function(St,nn,xn,$r){return _t.apply(this,arguments)})(i,se,we,Qe);var _t};const l=yield Vu(i.localStore,e,!0),d=new qp(e,l.hi),g=d.Gu(l.documents),S=Cu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),F=d.applyChanges(g,i.isPrimaryClient,S);py(i,t,F.zu);const z=new ry(e,t,d);return i.ta.set(e,z),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),F.snapshot}),Jp.apply(this,arguments)}function sy(i,e){return ay.apply(this,arguments)}function ay(){return ay=(0,fe.Z)(function*(i,e){const t=Tt(i),o=t.ta.get(e),l=t.ea.get(o.targetId);if(l.length>1)return t.ea.set(o.targetId,l.filter(d=>!gu(d,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Hc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Gc(t.remoteStore,o.targetId),Zc(t,o.targetId)}).catch(tl))):(Zc(t,o.targetId),yield Hc(t.localStore,o.targetId,!0))}),ay.apply(this,arguments)}function Xp(){return Xp=(0,fe.Z)(function*(i,e,t){const o=lc(i);try{const l=yield function(d,g){const S=Tt(d),F=Wr.now(),z=g.reduce((we,Qe)=>we.add(Qe.key),Rr());let se;return S.persistence.runTransaction("Locally write mutations","readwrite",we=>S.ai.qs(we,z).next(Qe=>{se=Qe;const _t=[];for(const St of g){const nn=Pc(St,se.get(St.key));null!=nn&&_t.push(new Qa(St.key,nn,Aa(nn.value.mapValue),Po.exists(!0)))}return S.$s.addMutationBatch(we,F,_t,g)})).then(we=>(we.applyToLocalDocumentSet(se),{batchId:we.batchId,changes:se}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(d,g,S){let F=d.oa[d.currentUser.toKey()];F||(F=new Ji(jn)),F=F.insert(g,S),d.oa[d.currentUser.toKey()]=F}(o,l.batchId,t),yield bl(o,l.changes),yield Kc(o.remoteStore)}catch(l){const d=oc(l,"Failed to persist write");t.reject(d)}}),Xp.apply(this,arguments)}function cy(i,e){return uy.apply(this,arguments)}function uy(){return uy=(0,fe.Z)(function*(i,e){const t=Tt(i);try{const o=yield Og(t.localStore,e);e.targetChanges.forEach((l,d)=>{const g=t.ia.get(d);g&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Xu=!0:l.modifiedDocuments.size>0?Ft(g.Xu):l.removedDocuments.size>0&&(Ft(g.Xu),g.Xu=!1))}),yield bl(t,o,e)}catch(o){yield tl(o)}}),uy.apply(this,arguments)}function N_(i,e,t){const o=Tt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ta.forEach((d,g)=>{const S=g.view.Eu(e);S.snapshot&&l.push(S.snapshot)}),function(d,g){const S=Tt(d);S.onlineState=g;let F=!1;S.queries.forEach((z,se)=>{for(const we of se.listeners)we.Eu(g)&&(F=!0)}),F&&Wp(S)}(o.eventManager,e),l.length&&o.Zu.Ko(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function em(i,e,t){return tm.apply(this,arguments)}function tm(){return tm=(0,fe.Z)(function*(i,e,t){const o=Tt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.ia.get(e),d=l&&l.key;if(d){let g=new Ji(Ut.comparator);g=g.insert(d,Vr.newNoDocument(d,Mn.min()));const S=Rr().add(d),F=new kc(Mn.min(),new Map,new ni(jn),g,S);yield cy(o,F),o.sa=o.sa.remove(d),o.ia.delete(e),Ud(o)}else yield Hc(o.localStore,e,!1).then(()=>Zc(o,e,t)).catch(tl)}),tm.apply(this,arguments)}function dy(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,fe.Z)(function*(i,e){const t=Tt(i),o=e.batch.batchId;try{const l=yield Mg(t.localStore,e);rf(t,o,null),nf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield bl(t,l)}catch(l){yield tl(l)}}),tf.apply(this,arguments)}function FD(i,e,t){return aa.apply(this,arguments)}function aa(){return aa=(0,fe.Z)(function*(i,e,t){const o=Tt(i);try{const l=yield function(d,g){const S=Tt(d);return S.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let z;return S.$s.lookupMutationBatch(F,g).next(se=>(Ft(null!==se),z=se.keys(),S.$s.removeMutationBatch(F,se))).next(()=>S.$s.performConsistencyCheck(F)).next(()=>S.ai.qs(F,z))})}(o.localStore,e);rf(o,e,t),nf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield bl(o,l)}catch(l){yield tl(l)}}),aa.apply(this,arguments)}function hy(){return hy=(0,fe.Z)(function*(i,e){const t=Tt(i);rc(t.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=Tt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>g.$s.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const l=t.ua.get(o)||[];l.push(e),t.ua.set(o,l)}catch(o){const l=oc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),hy.apply(this,arguments)}function nf(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function rf(i,e,t){const o=Tt(i);let l=o.oa[o.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),o.oa[o.currentUser.toKey()]=l}}function Zc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),t&&i.Zu.la(o,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||fy(i,o)})}function fy(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(Gc(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),Ud(i))}function py(i,e,t){for(const o of t)o instanceof sa?(i.ra.addReference(o.key,e),my(i,o)):o instanceof ef?(j("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||fy(i,o.key)):st()}function my(i,e){const t=e.key,o=t.path.canonicalString();i.sa.get(t)||i.na.has(o)||(j("SyncEngine","New document in limbo: "+t),i.na.add(o),Ud(i))}function Ud(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new Ut(wr.fromString(e)),o=i.aa.next();i.ia.set(o,new iy(t)),i.sa=i.sa.insert(t,o),oa(i.remoteStore,new Dl(js(Sc(t.path)),o,2,Bo.A))}}function bl(i,e,t){return jd.apply(this,arguments)}function jd(){return jd=(0,fe.Z)(function*(i,e,t){const o=Tt(i),l=[],d=[],g=[];var S;o.ta.isEmpty()||(o.ta.forEach((S,F)=>{g.push(o.ha(F,e,t).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(F.targetId,z.fromCache?"not-current":"current"),l.push(z);const se=kg.Js(F.targetId,z);d.push(se)}}))}),yield Promise.all(g),o.Zu.Ko(l),yield(S=(0,fe.Z)(function*(F,z){const se=Tt(F);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>at.forEach(z,Qe=>at.forEach(Qe.zs,_t=>se.persistence.referenceDelegate.addReference(we,Qe.targetId,_t)).next(()=>at.forEach(Qe.Hs,_t=>se.persistence.referenceDelegate.removeReference(we,Qe.targetId,_t)))))}catch(we){if(!Xl(we))throw we;j("LocalStore","Failed to update sequence numbers: "+we)}for(const we of z){const Qe=we.targetId;if(!we.fromCache){const _t=se.si.get(Qe),nn=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);se.si=se.si.insert(Qe,nn)}}}),function(F,z){return S.apply(this,arguments)})(o.localStore,d))}),jd.apply(this,arguments)}function R_(i,e){return nm.apply(this,arguments)}function nm(){return nm=(0,fe.Z)(function*(i,e){const t=Tt(i);if(!t.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const o=yield Vh(t.localStore,e);t.currentUser=e,(l=t).ua.forEach(g=>{g.forEach(S=>{S.reject(new Et($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ua.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield bl(t,o.ci)}var l}),nm.apply(this,arguments)}function F_(i,e){const t=Tt(i),o=t.ia.get(e);if(o&&o.Xu)return Rr().add(o.key);{let l=Rr();const d=t.ea.get(e);if(!d)return l;for(const g of d){const S=t.ta.get(g);l=l.unionWith(S.view.qu)}return l}}function L_(i,e){return rm.apply(this,arguments)}function rm(){return rm=(0,fe.Z)(function*(i,e){const t=Tt(i),o=yield Vu(t.localStore,e.query,!0),l=e.view.Ju(o);return t.isPrimaryClient&&py(t,e.targetId,l.zu),l}),rm.apply(this,arguments)}function Y_(i,e){return zu.apply(this,arguments)}function zu(){return zu=(0,fe.Z)(function*(i,e){const t=Tt(i);return Ap(t.localStore,e).then(o=>bl(t,o))}),zu.apply(this,arguments)}function $u(i,e,t,o){return im.apply(this,arguments)}function im(){return im=(0,fe.Z)(function*(i,e,t,o){const l=Tt(i),d=yield function(g,S){const F=Tt(g),z=Tt(F.$s);return F.persistence.runTransaction("Lookup mutation documents","readonly",se=>z.ln(se,S).next(we=>we?F.ai.qs(se,we):at.resolve(null)))}(l.localStore,e);var S;null!==d?("pending"===t?yield Kc(l.remoteStore):"acknowledged"===t||"rejected"===t?(rf(l,e,o||null),nf(l,e),S=e,Tt(Tt(l.localStore).$s).dn(S)):st(),yield bl(l,d)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}),im.apply(this,arguments)}function om(){return om=(0,fe.Z)(function*(i,e){const t=Tt(i);if($d(t),lc(t),!0===e&&!0!==t.ca){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield gy(t,o.toArray());t.ca=!0,yield Vd(t.remoteStore,!0);for(const d of l)oa(t.remoteStore,d)}else if(!1===e&&!1!==t.ca){const o=[];let l=Promise.resolve();t.ea.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):l=l.then(()=>(Zc(t,g),Hc(t.localStore,g,!0))),Gc(t.remoteStore,g)}),yield l,yield gy(t,o),function(d){const g=Tt(d);g.ia.forEach((S,F)=>{Gc(g.remoteStore,F)}),g.ra.bi(),g.ia=new Map,g.sa=new Ji(Ut.comparator)}(t),t.ca=!1,yield Vd(t.remoteStore,!1)}}),om.apply(this,arguments)}function gy(i,e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,fe.Z)(function*(i,e,t){const o=Tt(i),l=[],d=[];for(const g of e){let S;const F=o.ea.get(g);if(F&&0!==F.length){S=yield ia(o.localStore,js(F[0]));for(const z of F){const se=o.ta.get(z),we=yield L_(o,se);we.snapshot&&d.push(we.snapshot)}}else{const z=yield Ng(o.localStore,g);S=yield ia(o.localStore,z),yield Qp(o,La(z),g,!1)}l.push(S)}return o.Zu.Ko(d),l}),Hd.apply(this,arguments)}function La(i){return ad(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function zd(i){const e=Tt(i);return Tt(Tt(e.localStore).persistence).Os()}function Ts(i,e,t,o){return Il.apply(this,arguments)}function Il(){return Il=(0,fe.Z)(function*(i,e,t,o){const l=Tt(i);if(l.ca)return void j("SyncEngine","Ignoring unexpected query state notification.");const d=l.ea.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield Ap(l.localStore,cd(d[0])),S=kc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield bl(l,g,S);break}case"rejected":yield Hc(l.localStore,e,!0),Zc(l,e,o);break;default:st()}}),Il.apply(this,arguments)}function of(i,e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,fe.Z)(function*(i,e,t){const o=$d(i);if(o.ca){for(const l of e){if(o.ea.has(l)){j("SyncEngine","Adding an already active target "+l);continue}const d=yield Ng(o.localStore,l),g=yield ia(o.localStore,d);yield Qp(o,La(d),g.targetId,!1),oa(o.remoteStore,g)}for(const l of t)o.ea.has(l)&&(yield Hc(o.localStore,l,!1).then(()=>{Gc(o.remoteStore,l),Zc(o,l)}).catch(tl))}}),Hs.apply(this,arguments)}function $d(i){const e=Tt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=em.bind(null,e),e.Zu.Ko=ey.bind(null,e.eventManager),e.Zu.la=x_.bind(null,e.eventManager),e}function lc(i){const e=Tt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FD.bind(null,e),e}class Qc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.M=Hu(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Cl(this.persistence,new g_,e.initialUser,this.M)}_a(e){return new Yg(Mp.Wi,this.M)}da(e){return new Vg}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jc extends Qc{constructor(e,t,o){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,fe.Z)(function*(){yield t().call(o,e),yield o.ga.initialize(o,e),yield lc(o.ga.syncEngine),yield Kc(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return Cl(this.persistence,new g_,e.initialUser,this.M)}wa(e){return new xD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=xg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new Ag(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,jg(),Bu(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Vg}}class Ku extends Jc{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,fe.Z)(function*(){yield t().call(o,e);const l=o.ga.syncEngine;o.sharedClientState instanceof Os&&(o.sharedClientState.syncEngine={kr:$u.bind(null,l),Mr:Ts.bind(null,l),Or:of.bind(null,l),Os:zd.bind(null,l),Nr:Y_.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var d=(0,fe.Z)(function*(g){yield function Bd(i,e){return om.apply(this,arguments)}(o.ga.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):g||o.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}da(e){const t=jg();if(!Os.vt(t))throw new Et($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=xg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Os(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class cc{initialize(e,t){var o=this;return(0,fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>N_(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=R_.bind(null,o.syncEngine),yield Vd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $p}createDatastore(e){const t=Hu(e.databaseInfo.databaseId),o=new RD(e.databaseInfo);return new w_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,d=S=>N_(this.syncEngine,S,0),g=D_.vt()?new D_:new E_,new S_(t,o,l,d,g);var t,o,l,d,g}createSyncEngine(e,t){return function(o,l,d,g,S,F,z){const se=new oy(o,l,d,g,S,F);return z&&(se.ca=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const o=Tt(t);j("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield $c(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Xc(i,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wu{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Sr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const o=e.Ta.decode(t),l=Number(o);isNaN(l)&&e.Ra(`length string (${o}) is not valid number`);const d=yield e.ba(l);return new k_(JSON.parse(d),t.length+l)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,fe.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const o=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class yy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Et($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,fe.Z)(function*(d,g){const S=Tt(d),F=Zl(S.M)+"/documents",z={documents:g.map(_t=>Mc(S.M,_t))},se=yield S.co("BatchGetDocuments",F,z),we=new Map;se.forEach(_t=>{const St=function Dh(i,e){return"found"in e?function(t,o){Ft(!!o.found);const l=ta(t,o.found.name),d=xo(o.found.updateTime),g=new bi({mapValue:{fields:o.found.fields}});return Vr.newFoundDocument(l,d,g)}(i,e):"missing"in e?function(t,o){Ft(!!o.missing),Ft(!!o.readTime);const l=ta(t,o.missing),d=xo(o.readTime);return Vr.newNoDocument(l,d)}(i,e):st()}(S.M,_t);we.set(St.key.toString(),St)});const Qe=[];return g.forEach(_t=>{const St=we.get(_t.toString());Ft(!!St),Qe.push(St)}),Qe}),function(d,g){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const d=Ut.fromPath(l);e.mutations.push(new xc(d,e.precondition(d)))}),yield(o=(0,fe.Z)(function*(l,d){const g=Tt(l),S=Zl(g.M)+"/documents",F={writes:d.map(z=>_l(g.M,z))};yield g.ro("Commit",S,F)}),function(l,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Mn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Et($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Po.updateTime(t):Po.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new Et($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Po.updateTime(t)}return Po.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vy{constructor(e,t,o,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=l,this.va=5,this.So=new Fp(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,fe.Z)(function*(){const t=new yy(e.datastore),o=e.Da(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Ca(d)}))}).catch(l=>{e.Ca(l)})}))}Da(e){try{const t=this.updateFunction(e);return!vs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!md(t)}return!1}}class _y{constructor(e,t,o,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=C.UNAUTHENTICATED,this.clientId=da.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,fe.Z)(function*(S){j("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(j("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=oc(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function sm(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,fe.Z)(function*(d){o.isEqual(d)||(yield Vh(e.localStore,d),o=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),sf.apply(this,arguments)}function am(i,e){return af.apply(this,arguments)}function af(){return af=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield lf(i);j("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>Jg(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>Jg(e.remoteStore,d)),i.onlineComponents=e}),af.apply(this,arguments)}function lf(i){return cf.apply(this,arguments)}function cf(){return cf=(0,fe.Z)(function*(i){return i.offlineComponents||(j("FirestoreClient","Using default OfflineComponentProvider"),yield sm(i,new Qc)),i.offlineComponents}),cf.apply(this,arguments)}function uf(i){return df.apply(this,arguments)}function df(){return df=(0,fe.Z)(function*(i){return i.onlineComponents||(j("FirestoreClient","Using default OnlineComponentProvider"),yield am(i,new cc)),i.onlineComponents}),df.apply(this,arguments)}function Ey(i){return lf(i).then(e=>e.persistence)}function hf(i){return lf(i).then(e=>e.localStore)}function lm(i){return uf(i).then(e=>e.remoteStore)}function cm(i){return uf(i).then(e=>e.syncEngine)}function qu(i){return ff.apply(this,arguments)}function ff(){return ff=(0,fe.Z)(function*(i){const e=yield uf(i),t=e.eventManager;return t.onListen=O_.bind(null,e.syncEngine),t.onUnlisten=sy.bind(null,e.syncEngine),t}),ff.apply(this,arguments)}function Ty(i,e,t={}){const o=new Sr;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(l,d,g,S,F){const z=new Pl({next:we=>{d.enqueueAndForget(()=>Xh(l,se));const Qe=we.docs.has(g);!Qe&&we.fromCache?F.reject(new Et($e.UNAVAILABLE,"Failed to get document because the client is offline.")):Qe&&we.fromCache&&S&&"server"===S.source?F.reject(new Et($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(we)},error:we=>F.reject(we)}),se=new ac(Sc(g.path),z,{includeMetadataChanges:!0,Du:!0});return Gp(l,se)}(yield qu(i),i.asyncQueue,e,t,o)})),o.promise}function wy(i,e,t={}){const o=new Sr;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(l,d,g,S,F){const z=new Pl({next:we=>{d.enqueueAndForget(()=>Xh(l,se)),we.fromCache&&"server"===S.source?F.reject(new Et($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(we)},error:we=>F.reject(we)}),se=new ac(g,z,{includeMetadataChanges:!0,Du:!0});return Gp(l,se)}(yield qu(i),i.asyncQueue,e,t,o)})),o.promise}const B_=new Map;function Sy(i,e,t){if(!t)throw new Et($e.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Cy(i,e,t,o){if(!0===e&&!0===o)throw new Et($e.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hm(i){if(!Ut.isDocumentKey(i))throw new Et($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function H_(i){if(Ut.isDocumentKey(i))throw new Et($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":st()}function ur(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Et($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(i);throw new Et($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function by(i,e){if(e<=0)throw new Et($e.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class fm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Et($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Et($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Cy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,e instanceof cs?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Et($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(l.options.projectId)}(e))}get app(){if(!this._app)throw new Et($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Et($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new jo;switch(t.type){case"gapi":const o=t.client;return Ft(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Yl(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Et($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B_.get(e);t&&(j("ComponentProvider","Removing Datastore"),B_.delete(e),t.terminate())}(this),Promise.resolve()}}class ri{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class ws{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class Ya extends ws{constructor(e,t,o){super(e,t,Sc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Ut(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function Py(i,e,...t){if(i=(0,Ne.m9)(i),Sy("collection","path",e),i instanceof Gd){const o=wr.fromString(e,...t);return H_(o),new Ya(i,null,o)}{if(!(i instanceof ri||i instanceof Ya))throw new Et($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(wr.fromString(e,...t));return H_(o),new Ya(i.firestore,null,o)}}function mf(i,e,...t){if(i=(0,Ne.m9)(i),1===arguments.length&&(e=da.R()),Sy("doc","path",e),i instanceof Gd){const o=wr.fromString(e,...t);return hm(o),new ri(i,null,new Ut(o))}{if(!(i instanceof ri||i instanceof Ya))throw new Et($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(wr.fromString(e,...t));return hm(o),new ri(i.firestore,i instanceof Ya?i.converter:null,new Ut(o))}}function Ay(i,e){return i=(0,Ne.m9)(i),e=(0,Ne.m9)(e),(i instanceof ri||i instanceof Ya)&&(e instanceof ri||e instanceof Ya)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function xy(i,e){return i=(0,Ne.m9)(i),e=(0,Ne.m9)(e),i instanceof ws&&e instanceof ws&&i.firestore===e.firestore&&gu(i._query,e._query)&&i.converter===e.converter}class ky{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Fp(this,"async_queue_retry"),this.Ua=()=>{const t=Bu();t&&j("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Bu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Bu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Sr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,fe.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Xl(t))throw t;j("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,re("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=t,t}enqueueAfterDelay(e,t,o){this.qa(),this.La.indexOf(e)>-1&&(t=0);const l=Hp.createAndSchedule(this,e,t,o,d=>this.Qa(d));return this.Oa.push(l),l}qa(){this.Fa&&st()}verifyOperationInProgress(){}ja(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function pm(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class My{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _i extends Gd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new ky,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$_(this),this._firestoreClient.terminate()}}function Mo(i){return i._firestoreClient||$_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function $_(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ys(i._databaseId,d,i._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var d,S;i._firestoreClient=new _y(i._authCredentials,i._appCheckCredentials,i._queue,o)}function gf(i,e,t){const o=new Sr;return i.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield sm(i,t),yield am(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===$e.FAILED_PRECONDITION||d.code===$e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var d})).then(()=>o.promise)}function yf(i){if(i._initialized||i._terminated)throw new Et($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Va{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Et($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(ui.fromBase64String(e))}catch(t){throw new Et($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ua(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Al{constructor(e){this._methodName=e}}class Wd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const Fy=/^__.*__$/;class vm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class vf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ly(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class qd{constructor(e,t,o,l,d,g){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===d&&this.Ja(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.ec(e),l}nc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.Ja(),l}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Jd(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Ly(this.Ya)&&Fy.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Yy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Hu(e)}uc(e,t,o,l=!1){return new qd({Ya:e,methodName:t,oc:o,path:Eo.emptyPath(),tc:!1,rc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xl(i){const e=i._freezeSettings(),t=Hu(i._databaseId);return new Yy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Zd(i,e,t,o,l,d={}){const g=i.uc(d.merge||d.mergeFields?2:0,e,t,l);wf("Data must be an object, but it was:",g,o);const S=Dm(o,g);let F,z;if(d.merge)F=new Ca(g.fieldMask),z=g.fieldTransforms;else if(d.mergeFields){const se=[];for(const we of d.mergeFields){const Qe=jy(e,we,t);if(!g.contains(Qe))throw new Et($e.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);By(se,Qe)||se.push(Qe)}F=new Ca(se),z=g.fieldTransforms.filter(we=>F.covers(we.field))}else F=null,z=g.fieldTransforms;return new vm(new bi(S),F,z)}class Qd extends Al{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function _m(i,e,t){return new qd({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class _f extends Al{_toFieldTransform(e){return new Ic(e.path,new ka)}isEqual(e){return e instanceof _f}}class Vy extends Al{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=_m(this,e,!0),o=this.ac.map(d=>uc(d,t)),l=new pl(o);return new Ic(e.path,l)}isEqual(e){return this===e}}class Ef extends Al{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=_m(this,e,!0),o=this.ac.map(d=>uc(d,t)),l=new ml(o);return new Ic(e.path,l)}isEqual(e){return this===e}}class Uy extends Al{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Hl(e.M,vh(e.M,this.cc));return new Ic(e.path,t)}isEqual(e){return this===e}}function Df(i,e,t,o){const l=i.uc(1,e,t);wf("Data must be an object, but it was:",l,o);const d=[],g=bi.empty();Tr(o,(F,z)=>{const se=Sf(e,F,t);z=(0,Ne.m9)(z);const we=l.nc(se);if(z instanceof Qd)d.push(se);else{const Qe=uc(z,we);null!=Qe&&(d.push(se),g.set(se,Qe))}});const S=new Ca(d);return new vf(g,S,l.fieldTransforms)}function Tf(i,e,t,o,l,d){const g=i.uc(1,e,t),S=[jy(e,o,t)],F=[l];if(d.length%2!=0)throw new Et($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<d.length;Qe+=2)S.push(jy(e,d[Qe])),F.push(d[Qe+1]);const z=[],se=bi.empty();for(let Qe=S.length-1;Qe>=0;--Qe)if(!By(z,S[Qe])){const _t=S[Qe];let St=F[Qe];St=(0,Ne.m9)(St);const nn=g.nc(_t);if(St instanceof Qd)z.push(_t);else{const xn=uc(St,nn);null!=xn&&(z.push(_t),se.set(_t,xn))}}const we=new Ca(z);return new vf(se,we,g.fieldTransforms)}function Em(i,e,t,o=!1){return uc(t,i.uc(o?4:3,e))}function uc(i,e){if(Tm(i=(0,Ne.m9)(i)))return wf("Unsupported field value:",e,i),Dm(i,e);if(i instanceof Al)return function(t,o){if(!Ly(o.Ya))throw o.ic(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,o){const l=[];let d=0;for(const g of t){let S=uc(g,o.sc(d));null==S&&(S={nullValue:"NULL_VALUE"}),l.push(S),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Ne.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vh(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Wr.fromDate(t);return{timestampValue:Ao(o.M,l)}}if(t instanceof Wr){const l=new Wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ao(o.M,l)}}if(t instanceof Wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ua)return{bytesValue:Wl(o.M,t._byteString)};if(t instanceof ri){const l=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw o.ic(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ql(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ic(`Unsupported field value: ${pf(t)}`)}(i,e)}function Dm(i,e){const t={};return rd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(i,(o,l)=>{const d=uc(l,e.Za(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Tm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wr||i instanceof Wd||i instanceof Ua||i instanceof ri||i instanceof Al)}function wf(i,e,t){if(!Tm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=pf(t);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function jy(i,e,t){if((e=(0,Ne.m9)(e))instanceof Va)return e._internalPath;if("string"==typeof e)return Sf(i,e);throw Jd("Field path arguments must be of type string or ",i,!1,void 0,t)}const q_=new RegExp("[~\\*/\\[\\]]");function Sf(i,e,t){if(e.search(q_)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Va(...e.split("."))._internalPath}catch(o){throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Jd(i,e,t,o,l){const d=o&&!o.isEmpty(),g=void 0!==l;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let F="";return(d||g)&&(F+=" (found",d&&(F+=` in field ${o}`),g&&(F+=` in document ${l}`),F+=")"),new Et($e.INVALID_ARGUMENT,S+i+F)}function By(i,e){return i.some(t=>t.isEqual(e))}class eo{constructor(e,t,o,l,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hy extends eo{data(){return super.data()}}function Cf(i,e){return"string"==typeof e?Sf(i,e):e instanceof Va?e._internalPath:e._delegate._internalPath}class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends eo{constructor(e,t,o,l,d,g){super(e,t,o,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Xd extends nl{data(e={}){return super.data(e)}}class kl{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new eu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Xd(this._firestore,this._userDataWriter,o.key,o,new eu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Xd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const S=new Xd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let F=-1,z=-1;return 0!==g.type&&(F=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),z=d.indexOf(g.doc.key)),{type:zy(g.type),doc:S,oldIndex:F,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function tu(i,e){return i instanceof nl&&e instanceof nl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof kl&&e instanceof kl&&i._firestore===e._firestore&&xy(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $y(i){if(mu(i)&&0===i.explicitOrderBy.length)throw new Et($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eh{}function Ml(i,...e){for(const t of e)i=t._apply(i);return i}class Z_ extends eh{constructor(e,t,o){super(),this.hc=e,this.lc=t,this.fc=o,this.type="where"}_apply(e){const t=xl(e.firestore),o=function(l,d,g,S,F,z,se){let we;if(F.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Et($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Qy(se,z);const _t=[];for(const St of se)_t.push(Zy(S,l,St));we={arrayValue:{values:_t}}}else we=Zy(S,l,se)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Qy(se,z),we=Em(g,"where",se,"in"===z||"not-in"===z);const Qe=zr.create(F,z,we);return function(_t,St){if(St.S()){const xn=Bl(_t);if(null!==xn&&!xn.isEqual(St.field))throw new Et($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xn.toString()}' and '${St.field.toString()}'`);const $r=ld(_t);null!==$r&&Jy(0,St.field,$r)}const nn=function(xn,$r){for(const rr of xn.filters)if($r.indexOf(rr.op)>=0)return rr.op;return null}(_t,function(xn){switch(xn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(St.op));if(null!==nn)throw new Et($e.INVALID_ARGUMENT,nn===St.op?`Invalid query. You cannot use more than one '${St.op.toString()}' filter.`:`Invalid query. You cannot use '${St.op.toString()}' filters with '${nn.toString()}' filters.`)}(l,Qe),Qe}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ws(e.firestore,e.converter,function(l,d){const g=l.filters.concat([d]);return new ya(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class BD extends eh{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(o,l,d){if(null!==o.startAt)throw new Et($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Et($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Js(l,d);return function(S,F){if(null===ld(S)){const z=Bl(S);null!==z&&Jy(0,z,F.field)}}(o,g),g}(e._query,this.hc,this.dc);return new ws(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new ya(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class bf extends eh{constructor(e,t,o){super(),this.type=e,this._c=t,this.wc=o}_apply(e){return new ws(e.firestore,e.converter,gh(e._query,this._c,this.wc))}}class Sm extends eh{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=qy(e,this.type,this.mc,this.gc);return new ws(e.firestore,e.converter,(l=t,new ya((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class Ta extends eh{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=qy(e,this.type,this.mc,this.gc);return new ws(e.firestore,e.converter,(l=t,new ya((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function qy(i,e,t,o){if(t[0]=(0,Ne.m9)(t[0]),t[0]instanceof eo)return function(l,d,g,S,F){if(!S)throw new Et($e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const se of Xs(l))if(se.field.isKeyField())z.push(fa(d,S.key));else{const we=S.data.field(se.field);if(uu(we))throw new Et($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===we){const Qe=se.field.canonicalString();throw new Et($e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Qe}' (used as the orderBy) does not exist.`)}z.push(we)}return new qa(z,F)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=xl(i.firestore);return function(d,g,S,F,z,se){const we=d.explicitOrderBy;if(z.length>we.length)throw new Et($e.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Qe=[];for(let _t=0;_t<z.length;_t++){const St=z[_t];if(we[_t].field.isKeyField()){if("string"!=typeof St)throw new Et($e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof St}`);if(!Cc(d)&&-1!==St.indexOf("/"))throw new Et($e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${St}' contains a slash.`);const nn=d.path.child(wr.fromString(St));if(!Ut.isDocumentKey(nn))throw new Et($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const xn=new Ut(nn);Qe.push(fa(g,xn))}else{const nn=Em(S,F,St);Qe.push(nn)}}return new qa(Qe,se)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Zy(i,e,t){if("string"==typeof(t=(0,Ne.m9)(t))){if(""===t)throw new Et($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cc(e)&&-1!==t.indexOf("/"))throw new Et($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(wr.fromString(t));if(!Ut.isDocumentKey(o))throw new Et($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fa(i,new Ut(o))}if(t instanceof ri)return fa(i,t._key);throw new Et($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function Qy(i,e){if(!Array.isArray(i)||0===i.length)throw new Et($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Et($e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jy(i,e,t){if(!t.isEqual(e))throw new Et($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class th{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const o={};return Tr(e.fields,(l,d)=>{o[l]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Wd(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Dc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new Wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=wr.fromString(e);Ft(f(o));const l=new cs(o.get(1),o.get(3)),d=new Ut(o.popFirst(5));return l.isEqual(t)||re(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function dc(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class J_ extends th{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}class Cm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,o){this._verifyNotCommitted();const l=hc(e,this._firestore),d=dc(l.converter,t,o),g=Zd(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,o);return this._mutations.push(g.toMutation(l._key,Po.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const d=hc(e,this._firestore);let g;return g="string"==typeof(t=(0,Ne.m9)(t))||t instanceof Va?Tf(this._dataReader,"WriteBatch.update",d._key,t,o,l):Df(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Po.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hc(e,this._firestore);return this._mutations=this._mutations.concat(new gl(t._key,Po.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Et($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hc(i,e){if((i=(0,Ne.m9)(i)).firestore!==e)throw new Et($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class fc extends th{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}function nh(i,e,t){i=ur(i,ri);const o=ur(i.firestore,_i),l=dc(i.converter,e,t);return nu(o,[Zd(xl(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Po.none())])}function Im(i,e,t,...o){i=ur(i,ri);const l=ur(i.firestore,_i),d=xl(l);let g;return g="string"==typeof(e=(0,Ne.m9)(e))||e instanceof Va?Tf(d,"updateDoc",i._key,e,t,o):Df(d,"updateDoc",i._key,e),nu(l,[g.toMutation(i._key,Po.exists(!0))])}function Am(i,...e){var t,o,l;i=(0,Ne.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||pm(e[g])||(d=e[g],g++);const S={includeMetadataChanges:d.includeMetadataChanges};if(pm(e[g])){const we=e[g];e[g]=null===(t=we.next)||void 0===t?void 0:t.bind(we),e[g+1]=null===(o=we.error)||void 0===o?void 0:o.bind(we),e[g+2]=null===(l=we.complete)||void 0===l?void 0:l.bind(we)}let F,z,se;if(i instanceof ri)z=ur(i.firestore,_i),se=Sc(i._key.path),F={next:we=>{e[g]&&e[g](Pf(z,i,we))},error:e[g+1],complete:e[g+2]};else{const we=ur(i,ws);z=ur(we.firestore,_i),se=we._query;const Qe=new fc(z);F={next:_t=>{e[g]&&e[g](new kl(z,Qe,we,_t))},error:e[g+1],complete:e[g+2]},$y(i._query)}return function(we,Qe,_t,St){const nn=new Pl(St),xn=new ac(Qe,nn,_t);return we.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Gp(yield qu(we),xn)})),()=>{nn.pa(),we.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Xh(yield qu(we),xn)}))}}(Mo(z),se,S,F)}function nu(i,e){return function(t,o){const l=new Sr;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function ly(i,e,t){return Xp.apply(this,arguments)}(yield cm(t),o,l)})),l.promise}(Mo(i),e)}function Pf(i,e,t){const o=t.docs.get(e._key),l=new fc(i);return new nl(i,l,e._key,o,new eu(t.hasPendingWrites,t.fromCache),e.converter)}class iv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=hc(e,this._firestore),o=new J_(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return st();const d=l[0];if(d.isFoundDocument())return new eo(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new eo(this._firestore,o,t._key,null,t.converter);throw st()})}set(e,t,o){const l=hc(e,this._firestore),d=dc(l.converter,t,o),g=Zd(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,o);return this._transaction.set(l._key,g),this}update(e,t,o,...l){const d=hc(e,this._firestore);let g;return g="string"==typeof(t=(0,Ne.m9)(t))||t instanceof Va?Tf(this._dataReader,"Transaction.update",d._key,t,o,l):Df(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=hc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hc(e,this._firestore),o=new fc(this._firestore);return super.get(e).then(l=>new nl(this._firestore,o,t._key,l._document,new eu(!1,!1),t.converter))}}function xm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Et("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function sv(){if("undefined"==typeof Uint8Array)throw new Et("unimplemented","Uint8Arrays are not available in this environment.")}function av(){if(!function id(){return"undefined"!=typeof atob}())throw new Et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){T=Fe.SDK_VERSION,(0,Fe._registerComponent)(new ct.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),d=new _i(l,new Vs(t.getProvider("auth-internal")),new lu(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,Fe.registerVersion)(Ys,"3.4.7",i),(0,Fe.registerVersion)(Ys,"3.4.7","esm2017")}();class rh{constructor(e){this._delegate=e}static fromBase64String(e){return av(),new rh(Ua.fromBase64String(e))}static fromUint8Array(e){return sv(),new rh(Ua.fromUint8Array(e))}toBase64(){return av(),this._delegate.toBase64()}toUint8Array(){return sv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function km(i){return function lE(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class cE{enableIndexedDbPersistence(e,t){return function Kd(i,e){yf(i=ur(i,_i));const t=Mo(i),o=i._freezeSettings(),l=new cc;return gf(t,l,new Jc(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ry(i){yf(i=ur(i,_i));const e=Mo(i),t=i._freezeSettings(),o=new cc;return gf(e,o,new Ku(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mm(i){if(i._initialized&&!i._terminated)throw new Et($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(o){if(!na.vt())return Promise.resolve();const l=o+"main";yield na.delete(l)}),function(o){return t.apply(this,arguments)})(xg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Mm{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof cs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&be("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Iy(i,e,t,o={}){var l;const d=(i=ur(i,Gd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&be("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,S;if("string"==typeof o.mockUserToken)g=o.mockUserToken,S=C.MOCK_USER;else{g=(0,Ne.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const F=o.mockUserToken.sub||o.mockUserToken.user_id;if(!F)throw new Et($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new C(F)}i._authCredentials=new Ks(new _o(g,S))}}(this._delegate,e,t,o)}enableNetwork(){return function gm(i){return function V_(i){return i.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Ey(i),t=yield lm(i);return e.setNetworkEnabled(!0),function(o){const l=Tt(o);return l.lu.delete(0),Rd(l)}(t)}))}(Mo(i=ur(i,_i)))}(this._delegate)}disableNetwork(){return function ym(i){return function Dy(i){return i.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Ey(i),t=yield lm(i);return e.setNetworkEnabled(!1),(o=(0,fe.Z)(function*(l){const d=Tt(l);d.lu.add(0),yield $c(d),d._u.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Mo(i=ur(i,_i)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Cy("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function G_(i){return function(e){const t=new Sr;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function LD(i,e){return hy.apply(this,arguments)}(yield cm(e),t)})),t.promise}(Mo(i=ur(i,_i)))}(this._delegate)}onSnapshotsInSync(e){return function rv(i,e){return function um(i,e){const t=new Pl(e);return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return o=yield qu(i),l=t,Tt(o).Tu.add(l),void l.next();var o,l})),()=>{t.pa(),i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return o=yield qu(i),l=t,void Tt(o).Tu.delete(l);var o,l}))}}(Mo(i=ur(i,_i)),pm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zu(this,Py(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,mf(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function z_(i,e){if(i=ur(i,Gd),Sy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Et($e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ws(i,null,(t=e,new ya(wr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eE(i,e){return function dm(i,e){const t=new Sr;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const o=yield(l=i,uf(l).then(d=>d.datastore));var l;new vy(i.asyncQueue,o,e,t).run()})),t.promise}(Mo(i=ur(i,_i)),t=>e(new iv(i,t)))}(this._delegate,t=>e(new Om(this,t)))}batch(){return Mo(this._delegate),new Nm(new Cm(this._delegate,e=>nu(this._delegate,e)))}loadBundle(e){return function UD(i,e){const t=Mo(i=ur(i,_i)),o=new My;return function j_(i,e,t,o){const l=function(d,g){let S;return S="string"==typeof d?(new TextEncoder).encode(d):d,F=function(F,z){if(F instanceof Uint8Array)return Xc(F,z);if(F instanceof ArrayBuffer)return Xc(new Uint8Array(F),z);if(F instanceof ReadableStream)return F.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Wu(F,g);var F}(t,Hu(e));i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function Gu(i,e,t){const o=Tt(i);var l;(l=(0,fe.Z)(function*(d,g,S){try{const F=yield g.getMetadata();if(yield function(Qe,_t){const St=Tt(Qe),nn=xo(_t.createTime);return St.persistence.runTransaction("hasNewerBundle","readonly",xn=>St.ds.getBundleMetadata(xn,_t.id)).then(xn=>!!xn&&xn.createTime.compareTo(nn)>=0)}(d.localStore,F))return yield g.close(),S._completeWith({taskState:"Success",documentsLoaded:(Qe=F).totalDocuments,bytesLoaded:Qe.totalBytes,totalDocuments:Qe.totalDocuments,totalBytes:Qe.totalBytes}),Promise.resolve(new Set);S._updateProgress(ny(F));const z=new M_(F,d.localStore,g.M);let se=yield g.fa();for(;se;){const Qe=yield z.Nu(se);Qe&&S._updateProgress(Qe),se=yield g.fa()}const we=yield z.complete();return yield bl(d,we.Ou,void 0),yield function(Qe,_t){const St=Tt(Qe);return St.persistence.runTransaction("Save bundle","readwrite",nn=>St.ds.saveBundleMetadata(nn,_t))}(d.localStore,F),S._completeWith(we.progress),Promise.resolve(we.Mu)}catch(F){return be("SyncEngine",`Loading bundle failed with ${F}`),S._failWith(F),Promise.resolve(new Set)}var Qe}),function(d,g,S){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield cm(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function W_(i,e){return function VD(i,e){return i.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,o){const l=Tt(t);return l.persistence.runTransaction("Get named query","readonly",d=>l.ds.getNamedQuery(d,o))}(yield hf(i),e)}))}(Mo(i=ur(i,_i)),e).then(t=>t?new ws(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class ih extends th{constructor(e){super(),this.firestore=e}convertBytes(e){return new rh(new Ua(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class Om{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ih(e)}get(e){const t=Ol(e);return this._delegate.get(t).then(o=>new ru(this._firestore,new nl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=Ol(e);return o?(xm("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const d=Ol(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...l),this}delete(e){const t=Ol(e);return this._delegate.delete(t),this}}class Nm{constructor(e){this._delegate=e}set(e,t,o){const l=Ol(e);return o?(xm("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const d=Ol(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...l),this}delete(e){const t=Ol(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Xd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ba(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=pc.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let d=l.get(t);return d||(d=new pc(e,new ih(e),t),l.set(t,d)),d}}pc.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ih(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new ri(t._delegate,o,new Ut(e)))}static forKey(e,t,o){return new la(t,new ri(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Zu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zu(this.firestore,Py(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ne.m9)(e))instanceof ri&&Ay(this._delegate,e)}set(e,t){t=xm("DocumentReference.set",t);try{return t?nh(this._delegate,e,t):nh(this._delegate,e)}catch(o){throw Ss(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Im(this._delegate,e):Im(this._delegate,e,t,...o)}catch(l){throw Ss(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Pm(i){return nu(ur(i.firestore,_i),[new gl(i._key,Po.none())])}(this._delegate)}onSnapshot(...e){const t=Rm(e),o=Fm(e,l=>new ru(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Am(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function If(i){i=ur(i,ri);const e=ur(i.firestore,_i),t=Mo(e),o=new fc(e);return function U_(i,e){const t=new Sr;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(o=(0,fe.Z)(function*(l,d,g){try{const S=yield function(F,z){const se=Tt(F);return se.persistence.runTransaction("read document","readonly",we=>se.ai.Bs(we,z))}(l,d);S.isFoundDocument()?g.resolve(S):S.isNoDocument()?g.resolve(null):g.reject(new Et($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const F=oc(S,`Failed to get document '${d} from cache`);g.reject(F)}}),function(l,d,g){return o.apply(this,arguments)})(yield hf(i),e,t);var o})),t.promise}(t,i._key).then(l=>new nl(e,o,i._key,l,new eu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function X_(i){i=ur(i,ri);const e=ur(i.firestore,_i);return Ty(Mo(e),i._key,{source:"server"}).then(t=>Pf(e,i,t))}(this._delegate):function Xy(i){i=ur(i,ri);const e=ur(i.firestore,_i);return Ty(Mo(e),i._key).then(t=>Pf(e,i,t))}(this._delegate),t.then(o=>new ru(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?pc.getInstance(this.firestore,e):null))}}function Ss(i,e,t){return i.message=i.message.replace(e,t),i}function Rm(i){for(const e of i)if("object"==typeof e&&!km(e))return e;return{}}function Fm(i,e){var t,o;let l;return l=km(i[0])?i[0]:km(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class ru{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tu(this._delegate,e._delegate)}}class Ba extends ru{data(e){const t=this._delegate.data(e);return function fn(i,e){i||st()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ih(e)}where(e,t,o){try{return new Ns(this.firestore,Ml(this._delegate,function Gy(i,e,t){const o=e,l=Cf("where",i);return new Z_(l,o,t)}(e,t,o)))}catch(l){throw Ss(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,Ml(this._delegate,function wm(i,e="asc"){const t=e,o=Cf("orderBy",i);return new BD(o,t)}(e,t)))}catch(o){throw Ss(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,Ml(this._delegate,function rl(i){return by("limit",i),new bf("limit",i,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,Ml(this._delegate,function Q_(i){return by("limitToLast",i),new bf("limitToLast",i,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,Ml(this._delegate,function il(...i){return new Sm("startAt",i,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,Ml(this._delegate,function ja(...i){return new Sm("startAfter",i,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,Ml(this._delegate,function Ky(...i){return new Ta("endBefore",i,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,Ml(this._delegate,function Wy(...i){return new Ta("endAt",i,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return xy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tv(i){i=ur(i,ws);const e=ur(i.firestore,_i),t=Mo(e),o=new fc(e);return function YD(i,e){const t=new Sr;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(o=(0,fe.Z)(function*(l,d,g){try{const S=yield Vu(l,d,!0),F=new qp(d,S.hi),z=F.Gu(S.documents),se=F.applyChanges(z,!1);g.resolve(se.snapshot)}catch(S){const F=oc(S,`Failed to execute query '${d} against cache`);g.reject(F)}}),function(l,d,g){return o.apply(this,arguments)})(yield hf(i),e,t);var o})),t.promise}(t,i._query).then(l=>new kl(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function bm(i){i=ur(i,ws);const e=ur(i.firestore,_i),t=Mo(e),o=new fc(e);return wy(t,i._query,{source:"server"}).then(l=>new kl(e,o,i,l))}(this._delegate):function ev(i){i=ur(i,ws);const e=ur(i.firestore,_i),t=Mo(e),o=new fc(e);return $y(i._query),wy(t,i._query).then(l=>new kl(e,o,i,l))}(this._delegate),t.then(o=>new mc(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Rm(e),o=Fm(e,l=>new mc(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Am(this._delegate,t,o)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?pc.getInstance(this.firestore,e):null))}}class uE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ba(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mc{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ba(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uE(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ba(this._firestore,o))})}isEqual(e){return tu(this._delegate,e._delegate)}}class Zu extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?mf(this._delegate):mf(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function nv(i,e){const t=ur(i.firestore,_i),o=mf(i),l=dc(i.converter,e);return nu(t,[Zd(xl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Po.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return Ay(this._delegate,e._delegate)}withConverter(e){return new Zu(this.firestore,this._delegate.withConverter(e?pc.getInstance(this.firestore,e):null))}}function Ol(i){return ur(i,ri)}class cv{constructor(...e){this._delegate=new Va(...e)}static documentId(){return new cv(Eo.keyField().canonicalString())}isEqual(e){return(e=(0,Ne.m9)(e))instanceof Va&&this._delegate._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nE(){return new _f("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gc(e)}static delete(){const e=function tE(){return new Qd("deleteField")}();return e._methodName="FieldValue.delete",new gc(e)}static arrayUnion(...e){const t=function rE(...i){return new Vy("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new gc(t)}static arrayRemove(...e){const t=function iE(...i){return new Ef("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new gc(t)}static increment(e){const t=function oE(i){return new Uy("increment",i)}(e);return t._methodName="FieldValue.increment",new gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uv={Firestore:Mm,GeoPoint:Wd,Timestamp:Wr,Blob:rh,Transaction:Om,WriteBatch:Nm,DocumentReference:la,DocumentSnapshot:ru,Query:Ns,QueryDocumentSnapshot:Ba,QuerySnapshot:mc,CollectionReference:Zu,FieldPath:cv,FieldValue:gc,setLogLevel:function lv(i){!function Y(i){E.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ln(i){(function $D(i,e){i.INTERNAL.registerComponent(new ct.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},uv)))})(i,(e,t)=>new Mm(e,t,new cE)),i.registerVersion("@firebase/firestore-compat","0.1.16")}(pt.Z);var dE=L(7579),hE=L(6451),Af=L(5363),Ha=L(3900),dv=L(4782),xf=L(590),kf=L(576);function to(i,e){return(0,kf.m)(e)?(0,Ha.w)(()=>i,e):(0,Ha.w)(()=>i)}var hv=L(9468);L(5867);const pv=new Map,oh={activated:!1,tokenObservers:[]},sh={initialized:!1,enabled:!1};function ts(i){return pv.get(i)||oh}function za(i,e){pv.set(i,e)}function Rf(){return sh}class wE{constructor(e,t,o,l,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new Ne.BH,yield function ZD(i){return new Promise(e=>{setTimeout(e,i)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ne.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zs=new Ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jm(i){if(!ts(i).activated)throw zs.create("use-before-activation",{appName:i.name})}function Vf(i,e){return iu.apply(this,arguments)}function iu(){return iu=(0,fe.Z)(function*({url:i,body:e},t){const o={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const we=yield l.getHeartbeatsHeader();we&&(o["X-Firebase-Client"]=we)}const d={method:"POST",body:JSON.stringify(e),headers:o};let g,S;try{g=yield fetch(i,d)}catch(we){throw zs.create("fetch-network-error",{originalErrorMessage:we.message})}if(200!==g.status)throw zs.create("fetch-status-error",{httpStatus:g.status});try{S=yield g.json()}catch(we){throw zs.create("fetch-parse-error",{originalErrorMessage:we.message})}const F=S.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const z=1e3*Number(F[1]),se=Date.now();return{token:S.attestationToken,expireTimeMillis:se+z,issuedAtTimeMillis:se}}),iu.apply(this,arguments)}function bE(i,e){const{projectId:t,appId:o,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:e}}}const Qu="firebase-app-check-store";let Uf=null;function ou(){return Uf||(Uf=new Promise((i,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=o=>{i(o.target.result)},t.onerror=o=>{var l;e(zs.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Qu,{keyPath:"compositeKey"})}}catch(t){e(zs.create("storage-open",{originalErrorMessage:t.message}))}}),Uf)}function jf(){return jf=(0,fe.Z)(function*(i,e){const o=(yield ou()).transaction(Qu,"readwrite"),d=o.objectStore(Qu).put({compositeKey:i,value:e});return new Promise((g,S)=>{d.onsuccess=F=>{g()},o.onerror=F=>{var z;S(zs.create("storage-set",{originalErrorMessage:null===(z=F.target.error)||void 0===z?void 0:z.message}))}})}),jf.apply(this,arguments)}const Ju=new Ze.Yd("@firebase/app-check");function Sv(i,e){return(0,Ne.hl)()?function vv(i,e){return function Ev(i,e){return jf.apply(this,arguments)}(function Tv(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(t=>{Ju.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cv(){return Rf().enabled}function zm(){return $m.apply(this,arguments)}function $m(){return $m=(0,fe.Z)(function*(){const i=Rf();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$m.apply(this,arguments)}const OE={error:"UNKNOWN_ERROR"};function NE(i){return Ne.US.encodeString(JSON.stringify(i),!1)}function Bf(i){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,fe.Z)(function*(i,e=!1){const t=i.app;jm(t);const o=ts(t);let d,l=o.token;if(!l){const F=yield o.cachedTokenPromise;F&&Hf(F)&&(l=F)}if(!e&&l&&Hf(l))return{token:l.token};let S,g=!1;if(Cv()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Vf(bE(t,yield zm()),i.heartbeatServiceProvider).then(z=>(o.exchangeTokenPromise=void 0,z)),g=!0);const F=yield o.exchangeTokenPromise;return yield Sv(t,F),za(t,Object.assign(Object.assign({},o),{token:F})),{token:F.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(F=>(o.exchangeTokenPromise=void 0,F)),g=!0),l=yield o.exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Ju.warn(F.message):Ju.error(F),d=F}return l?(S={token:l.token},za(t,Object.assign(Object.assign({},o),{token:l})),yield Sv(t,l)):S=Pv(d),g&&Iv(t,S),S}),Gm.apply(this,arguments)}function Wm(i,e){const t=ts(i),o=t.tokenObservers.filter(l=>l.next!==e);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),za(i,Object.assign(Object.assign({},t),{tokenObservers:o}))}function qm(i){const{app:e}=i,t=ts(e);let o=t.tokenRefresher;o||(o=function bv(i){const{app:e}=i;return new wE((0,fe.Z)(function*(){let o;if(o=ts(e).token?yield Bf(i,!0):yield Bf(i),o.error)throw o.error}),()=>!0,()=>{const t=ts(e);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),za(e,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function Iv(i,e){const t=ts(i).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(l){}}function Hf(i){return i.expireTimeMillis-Date.now()>0}function Pv(i){return{token:NE(OE),error:i}}class RE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ts(this.app);for(const t of e)Wm(this.app,t.next);return Promise.resolve()}}const Rv="app-check-internal";!function Fv(){(0,Fe._registerComponent)(new ct.wA("app-check",i=>function FE(i,e){return new RE(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,t)=>{i.getProvider(Rv).initialize()})),(0,Fe._registerComponent)(new ct.wA(Rv,i=>function LE(i){return{getToken:e=>Bf(i,e),addTokenListener:e=>function Km(i,e,t,o){const{app:l}=i,d=ts(l),g={next:t,error:o,type:e};if(za(l,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&Hf(d.token)){const S=d.token;Promise.resolve().then(()=>{t({token:S.token}),qm(i)}).catch(()=>{})}d.cachedTokenPromise.then(()=>qm(i))}(i,"INTERNAL",e),removeTokenListener:e=>Wm(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)("@firebase/app-check","0.5.5")}();class td{constructor(){return(0,Te.vb)("app-check")}}"undefined"!=typeof window&&window;var iT=L(127);const Uv=new p.OlP("angularfire2.auth.use-emulator"),qE=new p.OlP("angularfire2.auth.settings"),ig=new p.OlP("angularfire2.auth.tenant-id"),ZE=new p.OlP("angularfire2.auth.langugage-code"),og=new p.OlP("angularfire2.auth.use-device-language"),Gf=new p.OlP("angularfire.auth.persistence"),sg=(i,e,t,o,l,d,g,S)=>(0,lt.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const F=e.runOutsideAngular(()=>i.auth());if(t&&F.useEmulator(...t),o&&(F.tenantId=o),F.languageCode=l,d&&F.useDeviceLanguage(),g)for(const[z,se]of Object.entries(g))F.settings[z]=se;return S&&F.setPersistence(S),F},[t,o,l,d,g,S]);let ag=(()=>{class i{constructor(t,o,l,d,g,S,F,z,se,we,Qe,_t){const St=new dE.x,nn=(0,he.of)(void 0).pipe((0,Af.Q)(g.outsideAngular),(0,Ha.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4087)))),(0,me.U)(()=>(0,lt.on)(t,d,o)),(0,me.U)(xn=>sg(xn,d,S,z,se,we,F,Qe)),(0,dv.d)({bufferSize:1,refCount:!1}));if((0,Je.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{nn.pipe((0,xf.P)()).subscribe();const $r=nn.pipe((0,Ha.w)(ir=>ir.getRedirectResult().then(mr=>mr,()=>null)),Te.iC,(0,dv.d)({bufferSize:1,refCount:!1})),rr=nn.pipe((0,Ha.w)(ir=>new G.y(mr=>({unsubscribe:d.runOutsideAngular(()=>ir.onAuthStateChanged(lr=>mr.next(lr),lr=>mr.error(lr),()=>mr.complete()))})))),no=nn.pipe((0,Ha.w)(ir=>new G.y(mr=>({unsubscribe:d.runOutsideAngular(()=>ir.onIdTokenChanged(lr=>mr.next(lr),lr=>mr.error(lr),()=>mr.complete()))}))));this.authState=$r.pipe(to(rr),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular)),this.user=$r.pipe(to(no),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,Ha.w)(ir=>ir?(0,De.D)(ir.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,Ha.w)(ir=>ir?(0,De.D)(ir.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,hE.T)($r,St,this.authState.pipe((0,Oe.h)(ir=>!ir))).pipe((0,me.U)(ir=>(null==ir?void 0:ir.user)?ir:null),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular))}return(0,lt.pX)(this,nn,d,{spy:{apply:(xn,$r,rr)=>{(xn.startsWith("signIn")||xn.startsWith("createUser"))&&rr.then(no=>St.next(no))}}})}}return i.\u0275fac=function(t){return new(t||i)(p.LFG(lt.Dh),p.LFG(lt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Te.HU),p.LFG(Uv,8),p.LFG(qE,8),p.LFG(ig,8),p.LFG(ZE,8),p.LFG(og,8),p.LFG(Gf,8),p.LFG(td,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function jv(i,e){return function JE(i,e=Z.z){return new G.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function lg(i,e){return jv(i,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function Kf(i,e){return lg(i,e).pipe((0,ke.O)(void 0),(0,Ie.G)(),(0,me.U)(([t,o])=>{const l=o.payload.docChanges(),d=l.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,S)=>{const F=l.find(se=>se.doc.ref.isEqual(g.ref)),z=null==t?void 0:t.payload.docs.find(se=>se.ref.isEqual(g.ref));F&&JSON.stringify(F.doc.metadata)===JSON.stringify(g.metadata)||!F&&z&&JSON.stringify(z.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:g}})}),d}))}function Bv(i,e,t){return Kf(i,t).pipe((0,te.R)((o,l)=>function eD(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Hv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return au(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return au(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return au(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(d=>d.payload),e),[]),(0,ae.x)(),(0,me.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function au(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function cg(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class ug{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Kf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,ke.O)(void 0),(0,Ie.G)(),(0,Oe.h)(([o,l])=>l.length>0||!o),(0,me.U)(([o,l])=>l),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,te.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=cg(e);return Bv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return lg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Te.iC)}get(e){return(0,De.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new dg(this.ref.doc(e),this.afs)}}class dg{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:d}=Wv(o,t);return new ug(l,d,this.afs)}snapshotChanges(){return function XE(i,e){return jv(i,e).pipe((0,ke.O)(void 0),(0,Ie.G)(),(0,me.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,De.D)(this.ref.get(e)).pipe(Te.iC)}}class zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Kf(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Oe.h)(t=>t.length>0),Te.iC):Kf(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,te.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=cg(e);return Bv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return lg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Te.iC)}get(e){return(0,De.D)(this.query.get(e)).pipe(Te.iC)}}const hg=new p.OlP("angularfire2.enableFirestorePersistence"),$v=new p.OlP("angularfire2.firestore.persistenceSettings"),Gv=new p.OlP("angularfire2.firestore.settings"),Kv=new p.OlP("angularfire2.firestore.use-emulator");function Wv(i,e=(t=>t)){return{query:e(i),ref:i}}let qv=(()=>{class i{constructor(t,o,l,d,g,S,F,z,se,we,Qe,_t,St,nn,xn,$r,rr){this.schedulers=F;const no=(0,lt.on)(t,S,o),ir=se;we&&sg(no,S,Qe,St,nn,xn,_t,$r),[this.firestore,this.persistenceEnabled$]=(0,lt.cc)(`${no.name}.firestore`,"AngularFirestore",no.name,()=>{const mr=S.runOutsideAngular(()=>no.firestore());if(d&&mr.settings(d),ir&&mr.useEmulator(...ir),l&&!(0,Je.PM)(g)){const lr=()=>{try{return(0,De.D)(mr.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch($a){return"undefined"!=typeof console&&console.warn($a),(0,he.of)(!1)}};return[mr,S.runOutsideAngular(lr)]}return[mr,(0,he.of)(!1)]},[d,ir,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=Wv(l,o),S=this.schedulers.ngZone.run(()=>d);return new ug(S,g,this)}collectionGroup(t,o){const l=o||(g=>g),d=this.firestore.collectionGroup(t);return new zv(l(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new dg(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG(lt.Dh),p.LFG(lt.xv,8),p.LFG(hg,8),p.LFG(Gv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Te.HU),p.LFG($v,8),p.LFG(Kv,8),p.LFG(ag,8),p.LFG(Uv,8),p.LFG(qE,8),p.LFG(ig,8),p.LFG(ZE,8),p.LFG(og,8),p.LFG(Gf,8),p.LFG(td,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),tD=(()=>{class i{constructor(){iT.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:hg,useValue:!0},{provide:$v,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[qv]}),i})()},2011:(Nt,He,L)=>{L.d(He,{Dh:()=>Ie,GT:()=>Te,cc:()=>Je,hO:()=>lt,on:()=>te,pX:()=>he,xv:()=>me});var p=L(5e3),Z=L(127),G=L(5813);Nt=L.hmd(Nt);const De=["ngOnDestroy"],he=(Fe,ct,Ze,Ne={})=>new Proxy(Fe,{get:(Ye,Ge)=>Ze.runOutsideAngular(()=>{var Le;if(Fe[Ge])return(null===(Le=null==Ne?void 0:Ne.spy)||void 0===Le?void 0:Le.get)&&Ne.spy.get(Ge,Fe[Ge]),Fe[Ge];if(De.indexOf(Ge)>-1)return()=>{};const Ct=ct.toPromise().then(Ce=>{const ne=Ce&&Ce[Ge];return"function"==typeof ne?ne.bind(Ce):ne&&ne.then?ne.then(le=>Ze.run(()=>le)):Ze.run(()=>ne)});return new Proxy(()=>{},{get:(Ce,ne)=>Ct[ne],apply:(Ce,ne,le)=>Ct.then(ve=>{var Se;const je=ve&&ve(...le);return(null===(Se=null==Ne?void 0:Ne.spy)||void 0===Se?void 0:Se.apply)&&Ne.spy.apply(Ge,le,je),je})})})}),Te=(Fe,ct)=>{ct.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ne=>{Object.defineProperty(Fe.prototype,Ne,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ne))})})};class ke{constructor(ct){return ct}}const Ie=new p.OlP("angularfire2.app.options"),me=new p.OlP("angularfire2.app.name");function te(Fe,ct,Ze){const Ye="object"==typeof Ze&&Ze||{};Ye.name=Ye.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Le=Z.Z.apps.filter(Ct=>Ct&&Ct.name===Ye.name)[0]||ct.runOutsideAngular(()=>Z.Z.initializeApp(Fe,Ye));try{JSON.stringify(Fe)!==JSON.stringify(Le.options)&&ae("error",`${Le.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return new ke(Le)}const ae=(Fe,...ct)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Fe](...ct)},Oe={provide:ke,useFactory:te,deps:[Ie,p.R0b,[new p.FiY,me]]};let lt=(()=>{class Fe{constructor(Ze){Z.Z.registerVersion("angularfire",G.q4.full,"core"),Z.Z.registerVersion("angularfire",G.q4.full,"app-compat"),Z.Z.registerVersion("angular",p.q4F.full,Ze.toString())}static initializeApp(Ze,Ne){return{ngModule:Fe,providers:[{provide:Ie,useValue:Ze},{provide:me,useValue:Ne}]}}}return Fe.\u0275fac=function(Ze){return new(Ze||Fe)(p.LFG(p.Lbi))},Fe.\u0275mod=p.oAB({type:Fe}),Fe.\u0275inj=p.cJS({providers:[Oe]}),Fe})();function Je(Fe,ct,Ze,Ne,Ye){const[,Ge,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===Fe)||[];if(Ge)return function ht(Fe,ct){try{return Fe.toString()===ct.toString()}catch(Ze){return Fe===ct}}(Ye,Le)||(fe("error",`${ct} was already initialized on the ${Ze} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Ye,was:Le})),Ge;{const Ct=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Ct,Ye]),Ct}}const pt=!!Nt.hot,fe=(Fe,...ct)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Fe](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Nt,He,L)=>{L.d(He,{q4:()=>Qs,iC:()=>bi,HU:()=>jl,vb:()=>fa,JM:()=>Ul});var p=L(5e3),Z=L(5867),G=L(5861),De=L(9681),he=L(2090),Te=L(4859),ke=L(1877);const Ie="@firebase/installations",ae="w:0.5.7",Oe="FIS_v2",Fe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(A){return A instanceof he.ZR&&A.code.includes("request-failed")}function Ze({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ne(A){return{token:A.token,requestStatus:2,expiresIn:le(A.expiresIn),creationTime:Date.now()}}function Ye(A,N){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,G.Z)(function*(A,N){const ce=(yield N.json()).error;return Fe.create("request-failed",{requestName:A,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function Le({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ct(A,{refreshToken:N}){const q=Le(A);return q.append("Authorization",function ve(A){return`${Oe} ${A}`}(N)),q}function Ce(A){return ne.apply(this,arguments)}function ne(){return(ne=(0,G.Z)(function*(A){const N=yield A();return N.status>=500&&N.status<600?A():N})).apply(this,arguments)}function le(A){return Number(A.replace("s","000"))}function Se(A,N){return je.apply(this,arguments)}function je(){return(je=(0,G.Z)(function*({appConfig:A,heartbeatServiceProvider:N},{fid:q}){const ce=Ze(A),ze=Le(A),Xe=N.getImmediate({optional:!0});if(Xe){const Fn=yield Xe.getHeartbeatsHeader();Fn&&ze.append("x-firebase-client",Fn)}const rn={method:"POST",headers:ze,body:JSON.stringify({fid:q,authVersion:Oe,appId:A.appId,sdkVersion:ae})},Hn=yield Ce(()=>fetch(ce,rn));if(Hn.ok){const Fn=yield Hn.json();return{fid:Fn.fid||q,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:Ne(Fn.authToken)}}throw yield Ye("Create Installation",Hn)})).apply(this,arguments)}function _e(A){return new Promise(N=>{setTimeout(N,A)})}const en=/^[cdef][\w-]{21}$/;function Dt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const q=function Bt(A){return function xt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return en.test(q)?q:""}catch(A){return""}}function Vt(A){return`${A.appName}!${A.appId}`}const sn=new Map;function gr(A,N){const q=Vt(A);Vn(q,N),function Dn(A,N){const q=function dr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=A=>{Vn(A.data.key,A.data.fid)}),Wn}();q&&q.postMessage({key:A,fid:N}),function Fr(){0===sn.size&&Wn&&(Wn.close(),Wn=null)}()}(q,N)}function Vn(A,N){const q=sn.get(A);if(q)for(const ce of q)ce(N)}let Wn=null;const Pn="firebase-installations-store";let Lr=null;function Ur(){return Lr||(Lr=(0,he.X3)("firebase-installations-database",1,(A,N)=>{0===N&&A.createObjectStore(Pn)})),Lr}function ln(A,N){return tn.apply(this,arguments)}function tn(){return(tn=(0,G.Z)(function*(A,N){const q=Vt(A),ze=(yield Ur()).transaction(Pn,"readwrite"),Xe=ze.objectStore(Pn),gt=yield Xe.get(q);return yield Xe.put(N,q),yield ze.complete,(!gt||gt.fid!==N.fid)&&gr(A,N.fid),N})).apply(this,arguments)}function Rn(A){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,G.Z)(function*(A){const N=Vt(A),ce=(yield Ur()).transaction(Pn,"readwrite");yield ce.objectStore(Pn).delete(N),yield ce.complete})).apply(this,arguments)}function sr(A,N){return dt.apply(this,arguments)}function dt(){return(dt=(0,G.Z)(function*(A,N){const q=Vt(A),ze=(yield Ur()).transaction(Pn,"readwrite"),Xe=ze.objectStore(Pn),gt=yield Xe.get(q),rn=N(gt);return void 0===rn?yield Xe.delete(q):yield Xe.put(rn,q),yield ze.complete,rn&&(!gt||gt.fid!==rn.fid)&&gr(A,rn.fid),rn})).apply(this,arguments)}function Pe(A){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,G.Z)(function*(A){let N;const q=yield sr(A.appConfig,ce=>{const ze=et(ce),Xe=ft(A,ze);return N=Xe.registrationPromise,Xe.installationEntry});return""===q.fid?{installationEntry:yield N}:{installationEntry:q,registrationPromise:N}})).apply(this,arguments)}function et(A){return hr(A||{fid:Dt(),registrationStatus:0})}function ft(A,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Fe.create("app-offline"))};const q={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ce=function Lt(A,N){return bt.apply(this,arguments)}(A,q);return{installationEntry:q,registrationPromise:ce}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:zt(A)}:{installationEntry:N}}function bt(){return(bt=(0,G.Z)(function*(A,N){try{const q=yield Se(A,N);return ln(A.appConfig,q)}catch(q){throw ct(q)&&409===q.customData.serverCode?yield Rn(A.appConfig):yield ln(A.appConfig,{fid:N.fid,registrationStatus:0}),q}})).apply(this,arguments)}function zt(A){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,G.Z)(function*(A){let N=yield An(A.appConfig);for(;1===N.registrationStatus;)yield _e(100),N=yield An(A.appConfig);if(0===N.registrationStatus){const{installationEntry:q,registrationPromise:ce}=yield Pe(A);return ce||q}return N})).apply(this,arguments)}function An(A){return sr(A,N=>{if(!N)throw Fe.create("installation-not-found");return hr(N)})}function hr(A){return function Yn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function fr(A,N){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,G.Z)(function*({appConfig:A,heartbeatServiceProvider:N},q){const ce=on(A,q),ze=Ct(A,q),Xe=N.getImmediate({optional:!0});if(Xe){const Fn=yield Xe.getHeartbeatsHeader();Fn&&ze.append("x-firebase-client",Fn)}const rn={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:ae,appId:A.appId}})},Hn=yield Ce(()=>fetch(ce,rn));if(Hn.ok)return Ne(yield Hn.json());throw yield Ye("Generate Auth Token",Hn)})).apply(this,arguments)}function on(A,{fid:N}){return`${Ze(A)}/${N}/authTokens:generate`}function pn(A){return gn.apply(this,arguments)}function gn(){return(gn=(0,G.Z)(function*(A,N=!1){let q;const ce=yield sr(A.appConfig,Xe=>{if(!En(Xe))throw Fe.create("not-registered");const gt=Xe.authToken;if(!N&&de(gt))return Xe;if(1===gt.requestStatus)return q=kt(A,N),Xe;{if(!navigator.onLine)throw Fe.create("app-offline");const rn=ue(Xe);return q=Zt(A,rn),rn}});return q?yield q:ce.authToken})).apply(this,arguments)}function kt(A,N){return tt.apply(this,arguments)}function tt(){return(tt=(0,G.Z)(function*(A,N){let q=yield Wt(A.appConfig);for(;1===q.authToken.requestStatus;)yield _e(100),q=yield Wt(A.appConfig);const ce=q.authToken;return 0===ce.requestStatus?pn(A,N):ce})).apply(this,arguments)}function Wt(A){return sr(A,N=>{if(!En(N))throw Fe.create("not-registered");return function We(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Zt(A,N){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,G.Z)(function*(A,N){try{const q=yield fr(A,N),ce=Object.assign(Object.assign({},N),{authToken:q});return yield ln(A.appConfig,ce),q}catch(q){if(!ct(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const ce=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield ln(A.appConfig,ce)}else yield Rn(A.appConfig);throw q}})).apply(this,arguments)}function En(A){return void 0!==A&&2===A.registrationStatus}function de(A){return 2===A.requestStatus&&!function ee(A){const N=Date.now();return N<A.creationTime||A.creationTime+A.expiresIn<N+36e5}(A)}function ue(A){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:N})}function At(){return(At=(0,G.Z)(function*(A){const N=A,{installationEntry:q,registrationPromise:ce}=yield Pe(N);return ce?ce.catch(console.error):pn(N).catch(console.error),q.fid})).apply(this,arguments)}function ge(){return(ge=(0,G.Z)(function*(A,N=!1){const q=A;return yield oe(q),(yield pn(q,N)).token})).apply(this,arguments)}function oe(A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(A){const{registrationPromise:N}=yield Pe(A);N&&(yield N)})).apply(this,arguments)}function er(A){return Fe.create("missing-app-config-values",{valueName:A})}const Un="installations",qn=A=>{const N=A.getProvider("app").getImmediate(),q=function Ui(A){if(!A||!A.options)throw er("App Configuration");if(!A.name)throw er("App Name");const N=["projectId","apiKey","appId"];for(const q of N)if(!A.options[q])throw er(q);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(N);return{app:N,appConfig:q,heartbeatServiceProvider:(0,De._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ht=A=>{const N=A.getProvider("app").getImmediate(),q=(0,De._getProvider)(N,Un).getImmediate();return{getId:()=>function Ue(A){return At.apply(this,arguments)}(q),getToken:ze=>function xe(A){return ge.apply(this,arguments)}(q,ze)}};(function Cn(){(0,De._registerComponent)(new Te.wA(Un,qn,"PUBLIC")),(0,De._registerComponent)(new Te.wA("installations-internal",Ht,"PRIVATE"))})(),(0,De.registerVersion)(Ie,"0.5.7"),(0,De.registerVersion)(Ie,"0.5.7","esm2017");const Zn="@firebase/remote-config",kn=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qr{constructor(N,q,ce,ze){this.client=N,this.storage=q,this.storageCache=ce,this.logger=ze}isCachedDataFresh(N,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-q,ze=ce<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ze}.`),ze}fetch(N){var q=this;return(0,G.Z)(function*(){const[ce,ze]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(ze&&q.isCachedDataFresh(N.cacheMaxAgeMillis,ce))return ze;N.eTag=ze&&ze.eTag;const Xe=yield q.client.fetch(N),gt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&gt.push(q.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(gt),Xe})()}}function ho(A=navigator){return A.languages&&A.languages[0]||A.language}class rs{constructor(N,q,ce,ze,Xe,gt){this.firebaseInstallations=N,this.sdkVersion=q,this.namespace=ce,this.projectId=ze,this.apiKey=Xe,this.appId=gt}fetch(N){var q=this;return(0,G.Z)(function*(){const[ce,ze]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,rn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Hn={sdk_version:q.sdkVersion,app_instance_id:ce,app_instance_id_token:ze,app_id:q.appId,language_code:ho()},Fn={method:"POST",headers:rn,body:JSON.stringify(Hn)},zn=fetch(gt,Fn),Kn=new Promise((_s,xa)=>{N.signal.addEventListener(()=>{const cl=new Error("The operation was aborted.");cl.name="AbortError",xa(cl)})});let lo;try{yield Promise.race([zn,Kn]),lo=yield zn}catch(_s){let xa="fetch-client-network";throw"AbortError"===_s.name&&(xa="fetch-timeout"),kn.create(xa,{originalErrorMessage:_s.message})}let di=lo.status;const hs=lo.headers.get("ETag")||void 0;let zr,ga;if(200===lo.status){let _s;try{_s=yield lo.json()}catch(xa){throw kn.create("fetch-client-parse",{originalErrorMessage:xa.message})}zr=_s.entries,ga=_s.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?di=500:"NO_CHANGE"===ga?di=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(zr={}),304!==di&&200!==di)throw kn.create("fetch-status",{httpStatus:di});return{status:di,eTag:hs,config:zr}})()}}class si{constructor(N,q){this.client=N,this.storage=q}fetch(N){var q=this;return(0,G.Z)(function*(){const ce=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(N,ce)})()}attemptFetch(N,{throttleEndTimeMillis:q,backoffCount:ce}){var ze=this;return(0,G.Z)(function*(){yield function cr(A,N){return new Promise((q,ce)=>{const ze=Math.max(N-Date.now(),0),Xe=setTimeout(q,ze);A.addEventListener(()=>{clearTimeout(Xe),ce(kn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,q);try{const Xe=yield ze.client.fetch(N);return yield ze.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function is(A){if(!(A instanceof he.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Xe))throw Xe;const gt={throttleEndTimeMillis:Date.now()+(0,he.$s)(ce),backoffCount:ce+1};return yield ze.storage.setThrottleMetadata(gt),ze.attemptFetch(N,gt)}})()}}class wi{constructor(N,q,ce,ze,Xe){this.app=N,this._client=q,this._storageCache=ce,this._storage=ze,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cs(A,N){const q=A.target.error||void 0;return kn.create(N,{originalErrorMessage:q&&q.message})}const vr="app_namespace_store";class bs{constructor(N,q,ce,ze=function $o(){return new Promise((A,N)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=ce=>{N(Cs(ce,"storage-open"))},q.onsuccess=ce=>{A(ce.target.result)},q.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(vr,{keyPath:"compositeKey"})}}catch(q){N(kn.create("storage-open",{originalErrorMessage:q}))}})}()){this.appId=N,this.appName=q,this.namespace=ce,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var q=this;return(0,G.Z)(function*(){const ce=yield q.openDbPromise;return new Promise((ze,Xe)=>{const rn=ce.transaction([vr],"readonly").objectStore(vr),Hn=q.createCompositeKey(N);try{const Fn=rn.get(Hn);Fn.onerror=zn=>{Xe(Cs(zn,"storage-get"))},Fn.onsuccess=zn=>{const Kn=zn.target.result;ze(Kn?Kn.value:void 0)}}catch(Fn){Xe(kn.create("storage-get",{originalErrorMessage:Fn&&Fn.message}))}})})()}set(N,q){var ce=this;return(0,G.Z)(function*(){const ze=yield ce.openDbPromise;return new Promise((Xe,gt)=>{const Hn=ze.transaction([vr],"readwrite").objectStore(vr),Fn=ce.createCompositeKey(N);try{const zn=Hn.put({compositeKey:Fn,value:q});zn.onerror=Kn=>{gt(Cs(Kn,"storage-set"))},zn.onsuccess=()=>{Xe()}}catch(zn){gt(kn.create("storage-set",{originalErrorMessage:zn&&zn.message}))}})})()}delete(N){var q=this;return(0,G.Z)(function*(){const ce=yield q.openDbPromise;return new Promise((ze,Xe)=>{const rn=ce.transaction([vr],"readwrite").objectStore(vr),Hn=q.createCompositeKey(N);try{const Fn=rn.delete(Hn);Fn.onerror=zn=>{Xe(Cs(zn,"storage-delete"))},Fn.onsuccess=()=>{ze()}}catch(Fn){Xe(kn.create("storage-delete",{originalErrorMessage:Fn&&Fn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class os{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,G.Z)(function*(){const q=N.storage.getLastFetchStatus(),ce=N.storage.getLastSuccessfulFetchTimestampMillis(),ze=N.storage.getActiveConfig(),Xe=yield q;Xe&&(N.lastFetchStatus=Xe);const gt=yield ce;gt&&(N.lastSuccessfulFetchTimestampMillis=gt);const rn=yield ze;rn&&(N.activeConfig=rn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function No(){return Si.apply(this,arguments)}function Si(){return(Si=(0,G.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(A){return!1}})).apply(this,arguments)}!function fo(){(0,De._registerComponent)(new Te.wA("remote-config",function A(N,{instanceIdentifier:q}){const ce=N.getProvider("app").getImmediate(),ze=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,he.hl)())throw kn.create("indexed-db-unavailable");const{projectId:Xe,apiKey:gt,appId:rn}=ce.options;if(!Xe)throw kn.create("registration-project-id");if(!gt)throw kn.create("registration-api-key");if(!rn)throw kn.create("registration-app-id");const Hn=new bs(rn,ce.name,q=q||"firebase"),Fn=new os(Hn),zn=new ke.Yd(Zn);zn.logLevel=ke.in.ERROR;const Kn=new rs(ze,De.SDK_VERSION,q,Xe,gt,rn),lo=new si(Kn,Hn),di=new Qr(lo,Hn,Fn,zn),hs=new wi(ce,di,Fn,Hn,zn);return function Bi(A){const N=(0,he.m9)(A);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(hs),hs},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(Zn,"0.3.6"),(0,De.registerVersion)(Zn,"0.3.6","esm2017")}();const ss="/firebase-messaging-sw.js",zi="/firebase-cloud-messaging-push-scope",$i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gi="google.c.a.c_id",xi="google.c.a.c_l",Ro="google.c.a.ts",Co="google.c.a.e";var ki=(()=>{return(A=ki||(ki={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",ki;var A})();function xr(A){const N=new Uint8Array(A);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function so(A){const q=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(q),ze=new Uint8Array(ce.length);for(let Xe=0;Xe<ce.length;++Xe)ze[Xe]=ce.charCodeAt(Xe);return ze}const Ki="fcm_token_details_db",ar="fcm_token_object_Store";function Br(A){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,G.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(Ki))return null;let N=null;return(yield(0,he.X3)(Ki,5,function(){var ce=(0,G.Z)(function*(ze,Xe,gt,rn){var Hn;if(Xe<2||!ze.objectStoreNames.contains(ar))return;const Fn=rn.objectStore(ar),zn=yield Fn.index("fcmSenderId").get(A);if(yield Fn.clear(),zn)if(2===Xe){const Kn=zn;if(!Kn.auth||!Kn.p256dh||!Kn.endpoint)return;N={token:Kn.fcmToken,createTime:null!==(Hn=Kn.createTime)&&void 0!==Hn?Hn:Date.now(),subscriptionOptions:{auth:Kn.auth,p256dh:Kn.p256dh,endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:"string"==typeof Kn.vapidKey?Kn.vapidKey:xr(Kn.vapidKey)}}}else if(3===Xe){const Kn=zn;N={token:Kn.fcmToken,createTime:Kn.createTime,subscriptionOptions:{auth:xr(Kn.auth),p256dh:xr(Kn.p256dh),endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:xr(Kn.vapidKey)}}}else if(4===Xe){const Kn=zn;N={token:Kn.fcmToken,createTime:Kn.createTime,subscriptionOptions:{auth:xr(Kn.auth),p256dh:xr(Kn.p256dh),endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:xr(Kn.vapidKey)}}}});return function(ze,Xe,gt,rn){return ce.apply(this,arguments)}}())).close(),yield(0,he.Lj)(Ki),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Mi(N)?N:null}),Lo.apply(this,arguments)}function Mi(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:N}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Jr="firebase-messaging-store";let Qn=null;function yo(){return Qn||(Qn=(0,he.X3)("firebase-messaging-database",1,(A,N)=>{0===N&&A.createObjectStore(Jr)})),Qn}function Go(A){return k.apply(this,arguments)}function k(){return(k=(0,G.Z)(function*(A){const N=nt(A),ce=yield(yield yo()).transaction(Jr).objectStore(Jr).get(N);if(ce)return ce;{const ze=yield Br(A.appConfig.senderId);if(ze)return yield K(A,ze),ze}})).apply(this,arguments)}function K(A,N){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*(A,N){const q=nt(A),ze=(yield yo()).transaction(Jr,"readwrite");return yield ze.objectStore(Jr).put(N,q),yield ze.complete,N})).apply(this,arguments)}function Q(A){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,G.Z)(function*(A){const N=nt(A),ce=(yield yo()).transaction(Jr,"readwrite");yield ce.objectStore(Jr).delete(N),yield ce.complete})).apply(this,arguments)}function nt({appConfig:A}){return A.appId}const Ot=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function R(A,N){return x.apply(this,arguments)}function x(){return(x=(0,G.Z)(function*(A,N){const q=yield $t(A),ce=gi(N),ze={method:"POST",headers:q,body:JSON.stringify(ce)};let Xe;try{Xe=yield(yield fetch(vn(A.appConfig),ze)).json()}catch(gt){throw Ot.create("token-subscribe-failed",{errorInfo:gt})}if(Xe.error)throw Ot.create("token-subscribe-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Ot.create("token-subscribe-no-token");return Xe.token})).apply(this,arguments)}function I(A,N){return W.apply(this,arguments)}function W(){return(W=(0,G.Z)(function*(A,N){const q=yield $t(A),ce=gi(N.subscriptionOptions),ze={method:"PATCH",headers:q,body:JSON.stringify(ce)};let Xe;try{Xe=yield(yield fetch(`${vn(A.appConfig)}/${N.token}`,ze)).json()}catch(gt){throw Ot.create("token-update-failed",{errorInfo:gt})}if(Xe.error)throw Ot.create("token-update-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Ot.create("token-update-no-token");return Xe.token})).apply(this,arguments)}function qe(A,N){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,G.Z)(function*(A,N){const ce={method:"DELETE",headers:yield $t(A)};try{const Xe=yield(yield fetch(`${vn(A.appConfig)}/${N}`,ce)).json();if(Xe.error)throw Ot.create("token-unsubscribe-failed",{errorInfo:Xe.error.message})}catch(ze){throw Ot.create("token-unsubscribe-failed",{errorInfo:ze})}})).apply(this,arguments)}function vn({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function $t(A){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,G.Z)(function*({appConfig:A,installations:N}){const q=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function gi({p256dh:A,auth:N,endpoint:q,vapidKey:ce}){const ze={web:{endpoint:q,auth:N,p256dh:A}};return ce!==$i&&(ze.web.applicationPubKey=ce),ze}const ai=6048e5;function Oi(A){return ao.apply(this,arguments)}function ao(){return(ao=(0,G.Z)(function*(A){const N=yield Fs(A.swRegistration,A.vapidKey),q={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:N.endpoint,auth:xr(N.getKey("auth")),p256dh:xr(N.getKey("p256dh"))},ce=yield Go(A.firebaseDependencies);if(ce){if(B(ce.subscriptionOptions,q))return Date.now()>=ce.createTime+ai?vt(A,{token:ce.token,createTime:Date.now(),subscriptionOptions:q}):ce.token;try{yield qe(A.firebaseDependencies,ce.token)}catch(ze){console.warn(ze)}return Ps(A.firebaseDependencies,q)}return Ps(A.firebaseDependencies,q)})).apply(this,arguments)}function Is(A){return ua.apply(this,arguments)}function ua(){return(ua=(0,G.Z)(function*(A){const N=yield Go(A.firebaseDependencies);N&&(yield qe(A.firebaseDependencies,N.token),yield Q(A.firebaseDependencies));const q=yield A.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()})).apply(this,arguments)}function vt(A,N){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*(A,N){try{const q=yield I(A.firebaseDependencies,N),ce=Object.assign(Object.assign({},N),{token:q,createTime:Date.now()});return yield K(A.firebaseDependencies,ce),q}catch(q){throw yield Is(A),q}})).apply(this,arguments)}function Ps(A,N){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,G.Z)(function*(A,N){const ce={token:yield R(A,N),createTime:Date.now(),subscriptionOptions:N};return yield K(A,ce),ce.token})).apply(this,arguments)}function Fs(A,N){return As.apply(this,arguments)}function As(){return(As=(0,G.Z)(function*(A,N){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:so(N)})})).apply(this,arguments)}function B(A,N){return N.vapidKey===A.vapidKey&&N.endpoint===A.endpoint&&N.auth===A.auth&&N.p256dh===A.p256dh}function m(A){const N={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function v(A,N){if(!N.notification)return;A.notification={};const q=N.notification.title;q&&(A.notification.title=q);const ce=N.notification.body;ce&&(A.notification.body=ce);const ze=N.notification.image;ze&&(A.notification.image=ze)}(N,A),function P(A,N){!N.data||(A.data=N.data)}(N,A),function H(A,N){if(!N.fcmOptions)return;A.fcmOptions={};const q=N.fcmOptions.link;q&&(A.fcmOptions.link=q);const ce=N.fcmOptions.analytics_label;ce&&(A.fcmOptions.analyticsLabel=ce)}(N,A),N}function J(A){return"object"==typeof A&&!!A&&Gi in A}function pe(A,N){const q=[];for(let ce=0;ce<A.length;ce++)q.push(A.charAt(ce)),ce<N.length&&q.push(N.charAt(ce));return q.join("")}function Be(A){return Ot.create("missing-app-config-values",{valueName:A})}pe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ut{constructor(N,q,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function ye(A){if(!A||!A.options)throw Be("App Configuration Object");if(!A.name)throw Be("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:q}=A;for(const ce of N)if(!q[ce])throw Be(ce);return{appName:A.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ze,installations:q,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function Pt(A){return qt.apply(this,arguments)}function qt(){return(qt=(0,G.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ss,{scope:zi}),A.swRegistration.update().catch(()=>{})}catch(N){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function bn(A,N){return un.apply(this,arguments)}function un(){return(un=(0,G.Z)(function*(A,N){if(!N&&!A.swRegistration&&(yield Pt(A)),N||!A.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");A.swRegistration=N}})).apply(this,arguments)}function dn(A,N){return In.apply(this,arguments)}function In(){return(In=(0,G.Z)(function*(A,N){N?A.vapidKey=N:A.vapidKey||(A.vapidKey=$i)})).apply(this,arguments)}function Ar(){return(Ar=(0,G.Z)(function*(A,N){if(!navigator)throw Ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ot.create("permission-blocked");return yield dn(A,null==N?void 0:N.vapidKey),yield bn(A,null==N?void 0:N.serviceWorkerRegistration),Oi(A)})).apply(this,arguments)}function Or(A,N,q){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,G.Z)(function*(A,N,q){const ce=ei(N);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:q[Gi],message_name:q[xi],message_time:q[Ro],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ei(A){switch(A){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yi(){return(yi=(0,G.Z)(function*(A,N){const q=N.data;if(!q.isFirebaseMessaging)return;A.onMessageHandler&&q.messageType===ki.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(m(q)):A.onMessageHandler.next(m(q)));const ce=q.data;J(ce)&&"1"===ce[Co]&&(yield Or(A,q.messageType,ce))})).apply(this,arguments)}const li="@firebase/messaging",vo=A=>{const N=new ut(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function Ko(A,N){return yi.apply(this,arguments)}(N,q)),N},Ni=A=>{const N=A.getProvider("messaging").getImmediate();return{getToken:ce=>function Bn(A,N){return Ar.apply(this,arguments)}(N,ce)}};function Wo(){return qo.apply(this,arguments)}function qo(){return(qo=(0,G.Z)(function*(){try{yield(0,he.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ms(){(0,De._registerComponent)(new Te.wA("messaging",vo,"PUBLIC")),(0,De._registerComponent)(new Te.wA("messaging-internal",Ni,"PRIVATE")),(0,De.registerVersion)(li,"0.9.11"),(0,De.registerVersion)(li,"0.9.11","esm2017")}();const ci="analytics",Ri="firebase_id",Fi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zo="https://www.googletagmanager.com/gtag/js",Hr=new ke.Yd("@firebase/analytics");function Ci(A){return Promise.all(A.map(N=>N.catch(q=>q)))}function Zi(A,N){const q=document.createElement("script");q.src=`${Zo}?l=${A}&id=${N}`,q.async=!0,document.head.appendChild(q)}function gs(A,N,q,ce,ze,Xe){return xs.apply(this,arguments)}function xs(){return(xs=(0,G.Z)(function*(A,N,q,ce,ze,Xe){const gt=ce[ze];try{if(gt)yield N[gt];else{const Hn=(yield Ci(q)).find(Fn=>Fn.measurementId===ze);Hn&&(yield N[Hn.appId])}}catch(rn){Hr.error(rn)}A("config",ze,Xe)})).apply(this,arguments)}function $s(A,N,q,ce,ze){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,G.Z)(function*(A,N,q,ce,ze){try{let Xe=[];if(ze&&ze.send_to){let gt=ze.send_to;Array.isArray(gt)||(gt=[gt]);const rn=yield Ci(q);for(const Hn of gt){const Fn=rn.find(Kn=>Kn.measurementId===Hn),zn=Fn&&N[Fn.appId];if(!zn){Xe=[];break}Xe.push(zn)}}0===Xe.length&&(Xe=Object.values(N)),yield Promise.all(Xe),A("event",ce,ze||{})}catch(Xe){Hr.error(Xe)}})).apply(this,arguments)}function vc(){const A=window.document.getElementsByTagName("script");for(const N of Object.values(A))if(N.src&&N.src.includes(Zo))return N;return null}const Li=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wa=new class Ll{constructor(N={},q=1e3){this.throttleMetadata=N,this.intervalMillis=q}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,q){this.throttleMetadata[N]=q}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function as(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function _c(A){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,G.Z)(function*(A){var N;const{appId:q,apiKey:ce}=A,ze={method:"GET",headers:as(ce)},Xe=Fi.replace("{app-id}",q),gt=yield fetch(Xe,ze);if(200!==gt.status&&304!==gt.status){let rn="";try{const Hn=yield gt.json();(null===(N=Hn.error)||void 0===N?void 0:N.message)&&(rn=Hn.error.message)}catch(Hn){}throw Li.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:rn})}return gt.json()})).apply(this,arguments)}function sl(A){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,G.Z)(function*(A,N=wa,q){const{appId:ce,apiKey:ze,measurementId:Xe}=A.options;if(!ce)throw Li.create("no-app-id");if(!ze){if(Xe)return{measurementId:Xe,appId:ce};throw Li.create("no-api-key")}const gt=N.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new Y;return setTimeout((0,G.Z)(function*(){rn.abort()}),void 0!==q?q:6e4),C({appId:ce,apiKey:ze,measurementId:Xe},gt,rn,N)})).apply(this,arguments)}function C(A,N,q){return T.apply(this,arguments)}function T(){return(T=(0,G.Z)(function*(A,{throttleEndTimeMillis:N,backoffCount:q},ce,ze=wa){const{appId:Xe,measurementId:gt}=A;try{yield E(ce,N)}catch(rn){if(gt)return Hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:Xe,measurementId:gt};throw rn}try{const rn=yield _c(A);return ze.deleteThrottleMetadata(Xe),rn}catch(rn){if(!O(rn)){if(ze.deleteThrottleMetadata(Xe),gt)return Hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:Xe,measurementId:gt};throw rn}const Hn=503===Number(rn.customData.httpStatus)?(0,he.$s)(q,ze.intervalMillis,30):(0,he.$s)(q,ze.intervalMillis),Fn={throttleEndTimeMillis:Date.now()+Hn,backoffCount:q+1};return ze.setThrottleMetadata(Xe,Fn),Hr.debug(`Calling attemptFetch again in ${Hn} millis`),C(A,Fn,ce,ze)}})).apply(this,arguments)}function E(A,N){return new Promise((q,ce)=>{const ze=Math.max(N-Date.now(),0),Xe=setTimeout(q,ze);A.addEventListener(()=>{clearTimeout(Xe),ce(Li.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function O(A){if(!(A instanceof he.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Y{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}function j(){return re.apply(this,arguments)}function re(){return(re=(0,G.Z)(function*(){if(!(0,he.hl)())return Hr.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(A){return Hr.warn(Li.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function ot(){return(ot=(0,G.Z)(function*(A,N,q,ce,ze,Xe,gt){var rn;const Hn=sl(A);Hn.then(di=>{q[di.measurementId]=di.appId,A.options.measurementId&&di.measurementId!==A.options.measurementId&&Hr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(di=>Hr.error(di)),N.push(Hn);const Fn=j().then(di=>{if(di)return ce.getId()}),[zn,Kn]=yield Promise.all([Hn,Fn]);vc()||Zi(Xe,zn.measurementId),ze("js",new Date);const lo=null!==(rn=null==gt?void 0:gt.config)&&void 0!==rn?rn:{};return lo.origin="firebase",lo.update=!0,null!=Kn&&(lo[Ri]=Kn),ze("config",zn.measurementId,lo),zn.measurementId})).apply(this,arguments)}class st{constructor(N){this.app=N}_delete(){return delete Ft[this.app.options.appId],Promise.resolve()}}let Ft={},fn=[];const Tt={};let Sr,_o,$e="dataLayer",jo=!1;function Qo(A,N,q){!function Vs(){const A=[];if((0,he.ru)()&&A.push("This is a browser extension environment."),(0,he.zI)()||A.push("Cookies are not available."),A.length>0){const N=A.map((ce,ze)=>`(${ze+1}) ${ce}`).join(" "),q=Li.create("invalid-analytics-context",{errorInfo:N});Hr.warn(q.message)}}();const ce=A.options.appId;if(!ce)throw Li.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Li.create("no-api-key");Hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ft[ce])throw Li.create("already-exists",{id:ce});if(!jo){!function ol(A){let N=[];Array.isArray(window[A])?N=window[A]:window[A]=N}($e);const{wrappedGtag:Xe,gtagCore:gt}=function yc(A,N,q,ce,ze){let Xe=function(...gt){window[ce].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Xe=window[ze]),window[ze]=function Vo(A,N,q,ce){function Xe(){return(Xe=(0,G.Z)(function*(gt,rn,Hn){try{"event"===gt?yield $s(A,N,q,rn,Hn):"config"===gt?yield gs(A,N,q,ce,rn,Hn):A("set",rn)}catch(Fn){Hr.error(Fn)}})).apply(this,arguments)}return function ze(gt,rn,Hn){return Xe.apply(this,arguments)}}(Xe,A,N,q),{gtagCore:Xe,wrappedGtag:window[ze]}}(Ft,fn,Tt,$e,"gtag");_o=Xe,Sr=gt,jo=!0}return Ft[ce]=function be(A,N,q,ce,ze,Xe,gt){return ot.apply(this,arguments)}(A,fn,Tt,N,Sr,$e,q),new st(A)}function Ws(){return(Ws=(0,G.Z)(function*(A,N,q,ce,ze){if(ze&&ze.global)A("event",q,ce);else{const Xe=yield N;A("event",q,Object.assign(Object.assign({},ce),{send_to:Xe}))}})).apply(this,arguments)}function cu(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,G.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(A){return!1}})).apply(this,arguments)}const Ca="@firebase/analytics";!function ui(){(0,De._registerComponent)(new Te.wA(ci,(N,{options:q})=>Qo(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,De._registerComponent)(new Te.wA("analytics-internal",function A(N){try{const q=N.getProvider(ci).getImmediate();return{logEvent:(ce,ze,Xe)=>function Eo(A,N,q,ce){A=(0,he.m9)(A),function Yl(A,N,q,ce,ze){return Ws.apply(this,arguments)}(_o,Ft[A.app.options.appId],N,q,ce).catch(ze=>Hr.error(ze))}(q,ce,ze,Xe)}}catch(q){throw Li.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,De.registerVersion)(Ca,"0.7.7"),(0,De.registerVersion)(Ca,"0.7.7","esm2017")}();var ph=L(4408),qr=L(7565);const uu=new class ls extends qr.v{}(class Nr extends ph.o{constructor(N,q){super(N,q),this.scheduler=N,this.work=q}schedule(N,q=0){return q>0?super.schedule(N,q):(this.delay=q,this.state=N,this.scheduler.flush(this),this)}execute(N,q){return q>0||this.closed?super.execute(N,q):this._execute(N,q)}requestAsyncId(N,q,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(N,q,ce):N.flush(this)}});var Io=L(4986),ys=L(8505),cs=L(9468),vs=L(5363);const Qs=new p.GfV("7.3.0"),ba="__angularfire_symbol__analyticsIsSupportedValue",Ut="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",al="__angularfire_symbol__remoteConfigIsSupported",ha="__angularfire_symbol__messagingIsSupportedValue",us="__angularfire_symbol__messagingIsSupported";function Ul(A,N,q){if(N){if(1===N.length)return N[0];const Xe=N.filter(gt=>gt.app===q);if(1===Xe.length)return Xe[0]}return q.container.getProvider(A).getImmediate({optional:!0})}globalThis[Ut]||(globalThis[Ut]=cu().then(A=>globalThis[ba]=A).catch(()=>globalThis[ba]=!1)),globalThis[us]||(globalThis[us]=Wo().then(A=>globalThis[ha]=A).catch(()=>globalThis[ha]=!1)),globalThis[al]||(globalThis[al]=No().then(A=>globalThis[Us]=A).catch(()=>globalThis[Us]=!1));const fa=(A,N)=>{const q=N?[N]:(0,Z.C6)(),ce=[];return q.forEach(ze=>{ze.container.getProvider(A).instances.forEach(gt=>{ce.includes(gt)||ce.push(gt)})}),ce};function pa(){}class ma{constructor(N,q=uu){this.zone=N,this.delegate=q}now(){return this.delegate.now()}schedule(N,q,ce){const ze=this.zone;return this.delegate.schedule(function(gt){ze.runGuarded(()=>{N.apply(this,[gt])})},q,ce)}}class du{constructor(N){this.zone=N,this.task=null}call(N,q){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pa,{},pa,pa)),q.pipe((0,ys.b)({next:ce,complete:ce,error:ce})).subscribe(N).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jl=(()=>{class A{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new ma(Zone.current)),this.insideAngular=q.run(()=>new ma(Zone.current,Io.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(q){return new(q||A)(p.LFG(p.R0b))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ds(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function bi(A){return ds(),function Aa(A){return function(q){return(q=q.lift(new du(A.ngZone))).pipe((0,cs.R)(A.outsideAngular),(0,vs.Q)(A.insideAngular))}}(ds())(A)}},2090:(Nt,He,L)=>{L.d(He,{$s:()=>Yn,BH:()=>Je,G6:()=>Ce,L:()=>me,LL:()=>xt,Lj:()=>Mt,Mn:()=>Le,Sg:()=>ht,UG:()=>Fe,US:()=>ke,X3:()=>Zt,ZB:()=>Oe,ZR:()=>_e,b$:()=>Ne,d:()=>Ye,eu:()=>le,hl:()=>ne,jU:()=>ct,m9:()=>on,ne:()=>ln,pd:()=>Lr,r3:()=>Vn,ru:()=>Ze,tV:()=>te,uI:()=>fe,vZ:()=>Fr,w1:()=>Ge,xO:()=>br,xb:()=>Wn,z$:()=>pt,zI:()=>ve,zd:()=>Pn});var p=L(5861);const he=function(de){const ee=[];let ue=0;for(let We=0;We<de.length;We++){let Ue=de.charCodeAt(We);Ue<128?ee[ue++]=Ue:Ue<2048?(ee[ue++]=Ue>>6|192,ee[ue++]=63&Ue|128):55296==(64512&Ue)&&We+1<de.length&&56320==(64512&de.charCodeAt(We+1))?(Ue=65536+((1023&Ue)<<10)+(1023&de.charCodeAt(++We)),ee[ue++]=Ue>>18|240,ee[ue++]=Ue>>12&63|128,ee[ue++]=Ue>>6&63|128,ee[ue++]=63&Ue|128):(ee[ue++]=Ue>>12|224,ee[ue++]=Ue>>6&63|128,ee[ue++]=63&Ue|128)}return ee},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,ee){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Ue=0;Ue<de.length;Ue+=3){const At=de[Ue],xe=Ue+1<de.length,ge=xe?de[Ue+1]:0,oe=Ue+2<de.length,Ve=oe?de[Ue+2]:0;let Xt=(15&ge)<<2|Ve>>6,Sn=63&Ve;oe||(Sn=64,xe||(Xt=64)),We.push(ue[At>>2],ue[(3&At)<<4|ge>>4],ue[Xt],ue[Sn])}return We.join("")},encodeString(de,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(de):this.encodeByteArray(he(de),ee)},decodeString(de,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(de):function(de){const ee=[];let ue=0,We=0;for(;ue<de.length;){const Ue=de[ue++];if(Ue<128)ee[We++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const At=de[ue++];ee[We++]=String.fromCharCode((31&Ue)<<6|63&At)}else if(Ue>239&&Ue<365){const oe=((7&Ue)<<18|(63&de[ue++])<<12|(63&de[ue++])<<6|63&de[ue++])-65536;ee[We++]=String.fromCharCode(55296+(oe>>10)),ee[We++]=String.fromCharCode(56320+(1023&oe))}else{const At=de[ue++],xe=de[ue++];ee[We++]=String.fromCharCode((15&Ue)<<12|(63&At)<<6|63&xe)}}return ee.join("")}(this.decodeStringToByteArray(de,ee))},decodeStringToByteArray(de,ee){this.init_();const ue=ee?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Ue=0;Ue<de.length;){const At=ue[de.charAt(Ue++)],ge=Ue<de.length?ue[de.charAt(Ue)]:0;++Ue;const Ve=Ue<de.length?ue[de.charAt(Ue)]:64;++Ue;const It=Ue<de.length?ue[de.charAt(Ue)]:64;if(++Ue,null==At||null==ge||null==Ve||null==It)throw Error();We.push(At<<2|ge>>4),64!==Ve&&(We.push(ge<<4&240|Ve>>2),64!==It&&We.push(Ve<<6&192|It))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},me=function(de){return function(de){const ee=he(de);return ke.encodeByteArray(ee,!0)}(de).replace(/\./g,"")},te=function(de){try{return ke.decodeString(de,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function Oe(de,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return ee}for(const ue in ee)!ee.hasOwnProperty(ue)||!lt(ue)||(de[ue]=Oe(de[ue],ee[ue]));return de}function lt(de){return"__proto__"!==de}class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,ue)=>{this.resolve=ee,this.reject=ue})}wrapCallback(ee){return(ue,We)=>{ue?this.reject(ue):this.resolve(We),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(ue):ee(ue,We))}}}function ht(de,ee){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=ee||"demo-project",Ue=de.iat||0,At=de.sub||de.user_id;if(!At)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:At,user_id:At,firebase:{sign_in_provider:"custom",identities:{}}},de);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(xe)),""].join(".")}function pt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function ct(){return"object"==typeof self&&self.self===self}function Ze(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return pt().indexOf("Electron/")>=0}function Ge(){const de=pt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Le(){return pt().indexOf("MSAppHost/")>=0}function Ce(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function le(){return new Promise((de,ee)=>{try{let ue=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(We);Ue.onsuccess=()=>{Ue.result.close(),ue||self.indexedDB.deleteDatabase(We),de(!0)},Ue.onupgradeneeded=()=>{ue=!1},Ue.onerror=()=>{var At;ee((null===(At=Ue.error)||void 0===At?void 0:At.message)||"")}}catch(ue){ee(ue)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(ee,ue,We){super(ue),this.code=ee,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(ee,ue,We){this.service=ee,this.serviceName=ue,this.errors=We}create(ee,...ue){const We=ue[0]||{},Ue=`${this.service}/${ee}`,At=this.errors[ee],xe=At?function en(de,ee){return de.replace(Jt,(ue,We)=>{const Ue=ee[We];return null!=Ue?String(Ue):`<${We}?>`})}(At,We):"Error";return new _e(Ue,`${this.serviceName}: ${xe} (${Ue}).`,We)}}const Jt=/\{\$([^}]+)}/g;function Vn(de,ee){return Object.prototype.hasOwnProperty.call(de,ee)}function Wn(de){for(const ee in de)if(Object.prototype.hasOwnProperty.call(de,ee))return!1;return!0}function Fr(de,ee){if(de===ee)return!0;const ue=Object.keys(de),We=Object.keys(ee);for(const Ue of ue){if(!We.includes(Ue))return!1;const At=de[Ue],xe=ee[Ue];if(wn(At)&&wn(xe)){if(!Fr(At,xe))return!1}else if(At!==xe)return!1}for(const Ue of We)if(!ue.includes(Ue))return!1;return!0}function wn(de){return null!==de&&"object"==typeof de}function br(de){const ee=[];for(const[ue,We]of Object.entries(de))Array.isArray(We)?We.forEach(Ue=>{ee.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ue))}):ee.push(encodeURIComponent(ue)+"="+encodeURIComponent(We));return ee.length?"&"+ee.join("&"):""}function Pn(de){const ee={};return de.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Ue,At]=We.split("=");ee[decodeURIComponent(Ue)]=decodeURIComponent(At)}}),ee}function Lr(de){const ee=de.indexOf("?");if(!ee)return"";const ue=de.indexOf("#",ee);return de.substring(ee,ue>0?ue:void 0)}function ln(de,ee){const ue=new tn(de,ee);return ue.subscribe.bind(ue)}class tn{constructor(ee,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{ee(this)}).catch(We=>{this.error(We)})}next(ee){this.forEachObserver(ue=>{ue.next(ee)})}error(ee){this.forEachObserver(ue=>{ue.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,ue,We){let Ue;if(void 0===ee&&void 0===ue&&void 0===We)throw new Error("Missing Observer.");Ue=function Xn(de,ee){if("object"!=typeof de||null===de)return!1;for(const ue of ee)if(ue in de&&"function"==typeof de[ue])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:ue,complete:We},void 0===Ue.next&&(Ue.next=sr),void 0===Ue.error&&(Ue.error=sr),void 0===Ue.complete&&(Ue.complete=sr);const At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch(xe){}}),this.observers.push(Ue),At}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,ee)}sendOne(ee,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{ue(this.observers[ee])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sr(){}function Yn(de,ee=1e3,ue=2){const We=ee*Math.pow(ue,de),Ue=Math.round(.5*We*(Math.random()-.5)*2);return Math.min(144e5,We+Ue)}function on(de){return de&&de._delegate?de._delegate:de}function pn(de,ee){return new Promise((ue,We)=>{de.onsuccess=Ue=>{ue(Ue.target.result)},de.onerror=Ue=>{var At;We(`${ee}: ${null===(At=Ue.target.error)||void 0===At?void 0:At.message}`)}})}class gn{constructor(ee){this._db=ee,this.objectStoreNames=this._db.objectStoreNames}transaction(ee,ue){return new kt(this._db.transaction.call(this._db,ee,ue))}createObjectStore(ee,ue){return new tt(this._db.createObjectStore(ee,ue))}close(){this._db.close()}}class kt{constructor(ee){this._transaction=ee,this.complete=new Promise((ue,We)=>{this._transaction.oncomplete=function(){ue()},this._transaction.onerror=()=>{We(this._transaction.error)},this._transaction.onabort=()=>{We(this._transaction.error)}})}objectStore(ee){return new tt(this._transaction.objectStore(ee))}}class tt{constructor(ee){this._store=ee}index(ee){return new Wt(this._store.index(ee))}createIndex(ee,ue,We){return new Wt(this._store.createIndex(ee,ue,We))}get(ee){return pn(this._store.get(ee),"Error reading from IndexedDB")}put(ee,ue){return pn(this._store.put(ee,ue),"Error writing to IndexedDB")}delete(ee){return pn(this._store.delete(ee),"Error deleting from IndexedDB")}clear(){return pn(this._store.clear(),"Error clearing IndexedDB object store")}}class Wt{constructor(ee){this._index=ee}get(ee){return pn(this._index.get(ee),"Error reading from IndexedDB")}}function Zt(de,ee,ue){return new Promise((We,Ue)=>{try{const At=indexedDB.open(de,ee);At.onsuccess=xe=>{We(new gn(xe.target.result))},At.onerror=xe=>{var ge;Ue(`Error opening indexedDB: ${null===(ge=xe.target.error)||void 0===ge?void 0:ge.message}`)},At.onupgradeneeded=xe=>{ue(new gn(At.result),xe.oldVersion,xe.newVersion,new kt(At.transaction))}}catch(At){Ue(`Error opening indexedDB: ${At.message}`)}})}function Mt(de){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(de){return new Promise((ee,ue)=>{try{const We=indexedDB.deleteDatabase(de);We.onsuccess=()=>{ee()},We.onerror=Ue=>{var At;ue(`Error deleting indexedDB database "${de}": ${null===(At=Ue.target.error)||void 0===At?void 0:At.message}`)}}catch(We){ue(`Error deleting indexedDB database "${de}": ${We.message}`)}})})).apply(this,arguments)}},5730:(Nt,He,L)=>{var p=L(2313),Z=L(5e3),G=L(1402);const he=[{path:"home",loadChildren:()=>Promise.all([L.e(570),L.e(798)]).then(L.bind(L,4798)).then(Ze=>Ze.HomeModule),canActivate:[(()=>{class Ze{canActivate(Ye,Ge){return!!sessionStorage.getItem("isLoggedIn")}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)},Ze.\u0275prov=Z.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})()]},{path:"auth",loadChildren:()=>Promise.all([L.e(570),L.e(285)]).then(L.bind(L,4285)).then(Ze=>Ze.AuthModule)},{path:"",redirectTo:"auth",pathMatch:"full"}];let Te=(()=>{class Ze{}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[[G.Bz.forRoot(he,{useHash:!0})],G.Bz]}),Ze})(),ke=(()=>{class Ze{constructor(){this.title="sell-and-buy"}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)},Ze.\u0275cmp=Z.Xpm({type:Ze,selectors:[["app-root"]],decls:1,vars:0,template:function(Ye,Ge){1&Ye&&Z._UZ(0,"router-outlet")},directives:[G.lC],styles:[""]}),Ze})();var Ie=L(4170),me=L(9808);const te=void 0,Oe=["en",[["a","p"],["AM","PM"],te],[["AM","PM"],te,te],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],te,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],te,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",te,"{1} 'at' {0}",te],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ae(Ze){const Ye=Math.floor(Math.abs(Ze)),Ge=Ze.toString().replace(/^[^.]*\.?/,"").length;return 1===Ye&&0===Ge?1:5}];var lt=L(2382),Je=L(520),ht=L(6360);const pt_firebase={locationId:"us-central",apiKey:"AIzaSyA6Qmic4E8UuDB8c8XWlK3ZU-XyQUWdt7U",authDomain:"test1-f647c.firebaseapp.com",projectId:"test1-f647c",storageBucket:"test1-f647c.appspot.com",messagingSenderId:"256004700329",appId:"1:256004700329:web:bd3311a920afe03ab411b8"};var fe=L(3546),Fe=L(2011);(0,me.qS)(Oe);let ct=(()=>{class Ze{}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)},Ze.\u0275mod=Z.oAB({type:Ze,bootstrap:[ke]}),Ze.\u0275inj=Z.cJS({providers:[{provide:Ie.u7,useValue:Ie.iF}],imports:[[p.b2,Te,lt.u5,Je.JF,ht.PW,fe.yb,Fe.hO.initializeApp(pt_firebase)]]}),Ze})();(0,Z.G48)(),p.q6().bootstrapModule(ct).catch(Ze=>console.error(Ze))},5867:(Nt,He,L)=>{L.d(He,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=L(9681);(0,p.registerVersion)("firebase","9.6.10","app")},127:(Nt,He,L)=>{L.d(He,{Z:()=>p.Z});var p=L(3942);p.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(Nt,He,L)=>{L.r(He);var p=L(5861),Z=L(3942),G=L(2090),De=L(9681),he=L(655),Te=L(1877),ke=L(4859);const ht=function lt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pt=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new Te.Yd("@firebase/auth");function Ze(y,...u){ct.logLevel<=Te.in.ERROR&&ct.error(`Auth (${De.SDK_VERSION}): ${y}`,...u)}function Ne(y,...u){throw Ct(y,...u)}function Ye(y,...u){return Ct(y,...u)}function Ge(y,u,f){const D=Object.assign(Object.assign({},pt()),{[u]:f});return new G.LL("auth","Firebase",D).create(u,{appName:y.name})}function Le(y,u,f){if(!(u instanceof f))throw f.name!==u.constructor.name&&Ne(y,"argument-error"),Ge(y,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ct(y,...u){if("string"!=typeof y){const f=u[0],D=[...u.slice(1)];return D[0]&&(D[0].appName=y.name),y._errorFactory.create(f,...D)}return fe.create(y,...u)}function Ce(y,u,...f){if(!y)throw Ct(u,...f)}function ne(y){const u="INTERNAL ASSERTION FAILED: "+y;throw Ze(u),new Error(u)}function le(y,u){y||ne(u)}const ve=new Map;function Se(y){le(y instanceof Function,"Expected a class definition");let u=ve.get(y);return u?(le(u instanceof y,"Instance stored in cache mismatched with class"),u):(u=new y,ve.set(y,u),u)}function xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function en(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Vt{constructor(u,f){this.shortDelay=u,this.longDelay=f,le(f>u,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Dt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sn(y,u){le(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return u?`${f}${u.startsWith("/")?u.slice(1):u}`:f}class gr{static initialize(u,f,D){this.fetchImpl=u,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jn=new Vt(3e4,6e4);function Vn(y,u){return y.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:y.tenantId}):u}function Dn(y,u,f,D){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,p.Z)(function*(y,u,f,D,V={}){return dr(y,V,(0,p.Z)(function*(){let X={},Re={};D&&("GET"===u?Re=D:X={body:JSON.stringify(D)});const it=(0,G.xO)(Object.assign({key:y.config.apiKey},Re)).slice(1),Gt=yield y._getAdditionalHeaders();return Gt["Content-Type"]="application/json",y.languageCode&&(Gt["X-Firebase-Locale"]=y.languageCode),gr.fetch()(Pn(y,y.config.apiHost,f,it),Object.assign({method:u,headers:Gt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function dr(y,u,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(y,u,f){y._canInitEmulator=!1;const D=Object.assign(Object.assign({},pr),u);try{const V=new Lr(y),X=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const Re=yield X.json();if("needConfirmation"in Re)throw Ur(y,"account-exists-with-different-credential",Re);if(X.ok&&!("errorMessage"in Re))return Re;{const it=X.ok?Re.errorMessage:Re.error.message,[Gt,an]=it.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw Ur(y,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Gt)throw Ur(y,"email-already-in-use",Re);const On=D[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw Ge(y,On,an);Ne(y,On)}}catch(V){if(V instanceof G.ZR)throw V;Ne(y,"network-request-failed")}})).apply(this,arguments)}function wn(y,u,f,D){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(y,u,f,D,V={}){const X=yield Dn(y,u,f,D,V);return"mfaPendingCredential"in X&&Ne(y,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Pn(y,u,f,D){const V=`${u}${f}?${D}`;return y.config.emulator?sn(y.config,V):`${y.config.apiScheme}://${V}`}class Lr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(Ye(this.auth,"network-request-failed")),Jn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ur(y,u,f){const D={appName:y.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const V=Ye(y,u,D);return V.customData._tokenResponse=f,V}function tn(){return(tn=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Rn(y,u){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function sr(y,u){return dt.apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Pe(y){if(y)try{const u=new Date(Number(y));if(!isNaN(u.getTime()))return u.toUTCString()}catch(u){}}function ft(){return(ft=(0,p.Z)(function*(y,u=!1){const f=(0,G.m9)(y),D=yield f.getIdToken(u),V=bt(D);Ce(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,Re=null==X?void 0:X.sign_in_provider;return{claims:V,token:D,authTime:Pe(Lt(V.auth_time)),issuedAtTime:Pe(Lt(V.iat)),expirationTime:Pe(Lt(V.exp)),signInProvider:Re||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function Lt(y){return 1e3*Number(y)}function bt(y){const[u,f,D]=y.split(".");if(void 0===u||void 0===f||void 0===D)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,G.tV)(f);return V?JSON.parse(V):(Ze("Failed to decode base64 JWT payload"),null)}catch(V){return Ze("Caught error parsing JWT payload as JSON",V),null}}function Kt(y,u){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(y,u,f=!1){if(f)return u;try{return yield u}catch(D){throw D instanceof G.ZR&&hr(D)&&y.auth.currentUser===y&&(yield y.auth.signOut()),D}})).apply(this,arguments)}function hr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Yn{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var f;if(u){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(u=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(u);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),D)}iteration(){var u=this;return(0,p.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&u.schedule(!0))}u.schedule()})()}}class fr{constructor(u,f){this.createdAt=u,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pe(this.lastLoginAt),this.creationTime=Pe(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(y){return on.apply(this,arguments)}function on(){return(on=(0,p.Z)(function*(y){var u;const f=y.auth,D=yield y.getIdToken(),V=yield Kt(y,sr(f,{idToken:D}));Ce(null==V?void 0:V.users.length,f,"internal-error");const X=V.users[0];y._notifyReloadListener(X);const Re=(null===(u=X.providerUserInfo)||void 0===u?void 0:u.length)?tt(X.providerUserInfo):[],it=kt(y.providerData,Re),On=!!y.isAnonymous&&!(y.email&&X.passwordHash||(null==it?void 0:it.length)),_n={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:it,metadata:new fr(X.createdAt,X.lastLoginAt),isAnonymous:On};Object.assign(y,_n)})).apply(this,arguments)}function gn(){return(gn=(0,p.Z)(function*(y){const u=(0,G.m9)(y);yield Tn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function kt(y,u){return[...y.filter(D=>!u.some(V=>V.providerId===D.providerId)),...u]}function tt(y){return y.map(u=>{var{providerId:f}=u,D=(0,he._T)(u,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Zt(){return(Zt=(0,p.Z)(function*(y,u){const f=yield dr(y,{},(0,p.Z)(function*(){const D=(0,G.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:V,apiKey:X}=y.config,Re=Pn(y,V,"/v1/token",`key=${X}`),it=yield y._getAdditionalHeaders();return it["Content-Type"]="application/x-www-form-urlencoded",gr.fetch()(Re,{method:"POST",headers:it,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Ce(u.idToken,"internal-error"),Ce(void 0!==u.idToken,"internal-error"),Ce(void 0!==u.refreshToken,"internal-error");const f="expiresIn"in u&&void 0!==u.expiresIn?Number(u.expiresIn):function zt(y){const u=bt(y);return Ce(u,"internal-error"),Ce(void 0!==u.exp,"internal-error"),Ce(void 0!==u.iat,"internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,f)}getToken(u,f=!1){var D=this;return(0,p.Z)(function*(){return Ce(!D.accessToken||D.refreshToken,u,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(u,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,f){var D=this;return(0,p.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:Re}=yield function Wt(y,u){return Zt.apply(this,arguments)}(u,f);D.updateTokensAndExpiration(V,X,Number(Re))})()}updateTokensAndExpiration(u,f,D){this.refreshToken=f||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(u,f){const{refreshToken:D,accessToken:V,expirationTime:X}=f,Re=new Mt;return D&&(Ce("string"==typeof D,"internal-error",{appName:u}),Re.refreshToken=D),V&&(Ce("string"==typeof V,"internal-error",{appName:u}),Re.accessToken=V),X&&(Ce("number"==typeof X,"internal-error",{appName:u}),Re.expirationTime=X),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return ne("not implemented")}}function En(y,u){Ce("string"==typeof y||void 0===y,"internal-error",{appName:u})}class de{constructor(u){var{uid:f,auth:D,stsTokenManager:V}=u,X=(0,he._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new fr(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(u){var f=this;return(0,p.Z)(function*(){const D=yield Kt(f,f.stsTokenManager.getToken(f.auth,u));return Ce(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(u){return function et(y){return ft.apply(this,arguments)}(this,u)}reload(){return function pn(y){return gn.apply(this,arguments)}(this)}_assign(u){this!==u&&(Ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(f=>Object.assign({},f)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new de(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,f=!1){var D=this;return(0,p.Z)(function*(){let V=!1;u.idToken&&u.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(u),V=!0),f&&(yield Tn(D)),yield D.auth._persistUserIfCurrent(D),V&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var u=this;return(0,p.Z)(function*(){const f=yield u.getIdToken();return yield Kt(u,function ln(y,u){return tn.apply(this,arguments)}(u.auth,{idToken:f})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,f){var D,V,X,Re,it,Gt,an,On;const _n=null!==(D=f.displayName)&&void 0!==D?D:void 0,Ii=null!==(V=f.email)&&void 0!==V?V:void 0,Bs=null!==(X=f.phoneNumber)&&void 0!==X?X:void 0,Rc=null!==(Re=f.photoURL)&&void 0!==Re?Re:void 0,Mu=null!==(it=f.tenantId)&&void 0!==it?it:void 0,Fc=null!==(Gt=f._redirectEventId)&&void 0!==Gt?Gt:void 0,Ed=null!==(an=f.createdAt)&&void 0!==an?an:void 0,dp=null!==(On=f.lastLoginAt)&&void 0!==On?On:void 0,{uid:el,emailVerified:Ou,isAnonymous:Dd,providerData:Td,stsTokenManager:Nu}=f;Ce(el&&Nu,u,"internal-error");const hp=Mt.fromJSON(this.name,Nu);Ce("string"==typeof el,u,"internal-error"),En(_n,u.name),En(Ii,u.name),Ce("boolean"==typeof Ou,u,"internal-error"),Ce("boolean"==typeof Dd,u,"internal-error"),En(Bs,u.name),En(Rc,u.name),En(Mu,u.name),En(Fc,u.name),En(Ed,u.name),En(dp,u.name);const Ru=new de({uid:el,auth:u,email:Ii,emailVerified:Ou,displayName:_n,isAnonymous:Dd,photoURL:Rc,phoneNumber:Bs,tenantId:Mu,stsTokenManager:hp,createdAt:Ed,lastLoginAt:dp});return Td&&Array.isArray(Td)&&(Ru.providerData=Td.map(fp=>Object.assign({},fp))),Fc&&(Ru._redirectEventId=Fc),Ru}static _fromIdTokenResponse(u,f,D=!1){return(0,p.Z)(function*(){const V=new Mt;V.updateFromServerResponse(f);const X=new de({uid:f.localId,auth:u,stsTokenManager:V,isAnonymous:D});return yield Tn(X),X})()}}const ue=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,D){var V=this;return(0,p.Z)(function*(){V.storage[f]=D})()}_get(f){var D=this;return(0,p.Z)(function*(){const V=D.storage[f];return void 0===V?null:V})()}_remove(f){var D=this;return(0,p.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return y.type="NONE",y})();function We(y,u,f){return`firebase:${y}:${u}:${f}`}class Ue{constructor(u,f,D){this.persistence=u,this.auth=f,this.userKey=D;const{config:V,name:X}=this.auth;this.fullUserKey=We(this.userKey,V.apiKey,X),this.fullPersistenceKey=We("persistence",V.apiKey,X),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,p.Z)(function*(){const f=yield u.persistence._get(u.fullUserKey);return f?de._fromJSON(u.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var f=this;return(0,p.Z)(function*(){if(f.persistence===u)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=u,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,f,D="authUser"){return(0,p.Z)(function*(){if(!f.length)return new Ue(Se(ue),u,D);const V=(yield Promise.all(f.map(function(){var an=(0,p.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return an.apply(this,arguments)}}()))).filter(an=>an);let X=V[0]||Se(ue);const Re=We(D,u.config.apiKey,u.name);let it=null;for(const an of f)try{const On=yield an._get(Re);if(On){const _n=de._fromJSON(u,On);an!==X&&(it=_n),X=an;break}}catch(On){}const Gt=V.filter(an=>an._shouldAllowMigration);return X._shouldAllowMigration&&Gt.length?(X=Gt[0],it&&(yield X._set(Re,it.toJSON())),yield Promise.all(f.map(function(){var an=(0,p.Z)(function*(On){if(On!==X)try{yield On._remove(Re)}catch(_n){}});return function(On){return an.apply(this,arguments)}}())),new Ue(X,u,D)):new Ue(X,u,D)})()}}function At(y){const u=y.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ve(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(xe(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(It(u))return"Blackberry";if(Xt(u))return"Webos";if(ge(u))return"Safari";if((u.includes("chrome/")||oe(u))&&!u.includes("edge/"))return"Chrome";if(rt(u))return"Android";{const D=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function xe(y=(0,G.z$)()){return/firefox\//i.test(y)}function ge(y=(0,G.z$)()){const u=y.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function oe(y=(0,G.z$)()){return/crios\//i.test(y)}function Ve(y=(0,G.z$)()){return/iemobile/i.test(y)}function rt(y=(0,G.z$)()){return/android/i.test(y)}function It(y=(0,G.z$)()){return/blackberry/i.test(y)}function Xt(y=(0,G.z$)()){return/webos/i.test(y)}function Sn(y=(0,G.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ui(y=(0,G.z$)()){return Sn(y)||rt(y)||Xt(y)||It(y)||/windows phone/i.test(y)||Ve(y)}function Un(y,u=[]){let f;switch(y){case"Browser":f=At((0,G.z$)());break;case"Worker":f=`${At((0,G.z$)())}-${y}`;break;default:f=y}const D=u.length?u.join(","):"FirebaseCore-web";return`${f}/JsCore/${De.SDK_VERSION}/${D}`}class ns{constructor(u,f,D){this.app=u,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(u,f){var D=this;return f&&(this._popupRedirectResolver=Se(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var V,X;if(!D._deleted&&(D.persistenceManager=yield Ue.create(D,u),!D._deleted)){if(null===(V=D._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Re){}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(X=D.currentUser)||void 0===X?void 0:X.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,p.Z)(function*(){if(u._deleted)return;const f=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||f){if(u.currentUser&&f&&u.currentUser.uid===f.uid)return u._currentUser._assign(f),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(f)}})()}initializeCurrentUser(u){var f=this;return(0,p.Z)(function*(){var D;let V=yield f.assertedPersistence.getCurrentUser();if(u&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const X=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,Re=null==V?void 0:V._redirectEventId,it=yield f.tryRedirectSignIn(u);(!X||X===Re)&&(null==it?void 0:it.user)&&(V=it.user)}return V?V._redirectEventId?(Ce(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===V._redirectEventId?f.directlySetCurrentUser(V):f.reloadAndSetCurrentUserOrClear(V)):f.reloadAndSetCurrentUserOrClear(V):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(u){var f=this;return(0,p.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,u,!0)}catch(V){yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(u){var f=this;return(0,p.Z)(function*(){try{yield Tn(u)}catch(D){if("auth/network-request-failed"!==D.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var u=this;return(0,p.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var f=this;return(0,p.Z)(function*(){const D=u?(0,G.m9)(u):null;return D&&Ce(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(u){var f=this;return(0,p.Z)(function*(){if(!f._deleted)return u&&Ce(f.tenantId===u.tenantId,f,"tenant-id-mismatch"),f.queue((0,p.Z)(function*(){yield f.directlySetCurrentUser(u),f.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,p.Z)(function*(){return(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null)})()}setPersistence(u){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(Se(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new G.LL("auth","Firebase",u())}onAuthStateChanged(u,f,D){return this.registerStateListener(this.authStateSubscription,u,f,D)}onIdTokenChanged(u,f,D){return this.registerStateListener(this.idTokenSubscription,u,f,D)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,f){var D=this;return(0,p.Z)(function*(){const V=yield D.getOrInitRedirectPersistenceManager(f);return null===u?V.removeCurrentUser():V.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const D=u&&Se(u)||f._popupRedirectResolver;Ce(D,f,"argument-error"),f.redirectPersistenceManager=yield Ue.create(f,[Se(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(u){var f=this;return(0,p.Z)(function*(){var D,V;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===u?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===u?f.redirectUser:null})()}_persistUserIfCurrent(u){var f=this;return(0,p.Z)(function*(){if(u===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,f,D,V){if(this._deleted)return()=>{};const X="function"==typeof f?f:f.next.bind(f),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Re,this,"internal-error"),Re.then(()=>X(this.currentUser)),"function"==typeof f?u.addObserver(f,D,V):u.addObserver(f)}directlySetCurrentUser(u){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==u&&(f._currentUser._stopProactiveRefresh(),u&&f.isProactiveRefreshEnabled&&u._startProactiveRefresh()),f.currentUser=u,u?yield f.assertedPersistence.setCurrentUser(u):yield f.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,p.Z)(function*(){var f;const D={"X-Client-Version":u.clientVersion};u.app.options.appId&&(D["X-Firebase-gmpid"]=u.app.options.appId);const V=yield null===(f=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return V&&(D["X-Firebase-Client"]=V),D})()}}function qn(y){return(0,G.m9)(y)}class Ht{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,G.ne)(f=>this.observer=f)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(y){const u=y.indexOf(":");return u<0?"":y.substr(0,u+1)}function Pi(y){if(!y)return null;const u=Number(y);return isNaN(u)?null:u}class Ir{constructor(u,f){this.providerId=u,this.signInMethod=f}toJSON(){return ne("not implemented")}_getIdTokenResponse(u){return ne("not implemented")}_linkToIdToken(u,f){return ne("not implemented")}_getReauthenticationResolver(u){return ne("not implemented")}}function kn(y,u){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:resetPassword",Vn(y,u))})).apply(this,arguments)}function io(y,u){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function co(y,u){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:update",Vn(y,u))})).apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithPassword",Vn(y,u))})).apply(this,arguments)}function Pr(y,u){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:sendOobCode",Vn(y,u))})).apply(this,arguments)}function Bi(y,u){return jr.apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(y,u){return Pr(y,u)})).apply(this,arguments)}function nr(y,u){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(y,u){return Pr(y,u)})).apply(this,arguments)}function Zr(y,u){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(y,u){return Pr(y,u)})).apply(this,arguments)}function Yr(y,u){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(y,u){return Pr(y,u)})).apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithEmailLink",Vn(y,u))})).apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithEmailLink",Vn(y,u))})).apply(this,arguments)}class rs extends Ir{constructor(u,f,D,V=null){super("password",D),this._email=u,this._password=f,this._tenantId=V}static _fromEmailAndPassword(u,f){return new rs(u,f,"password")}static _fromEmailAndCode(u,f,D=null){return new rs(u,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(u){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function uo(y,u){return ji.apply(this,arguments)}(u,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function So(y,u){return oi.apply(this,arguments)}(u,{email:f._email,oobCode:f._password});default:Ne(u,"internal-error")}})()}_linkToIdToken(u,f){var D=this;return(0,p.Z)(function*(){switch(D.signInMethod){case"password":return io(u,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Qr(y,u){return ho.apply(this,arguments)}(u,{idToken:f,email:D._email,oobCode:D._password});default:Ne(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function cr(y,u){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithIdp",Vn(y,u))})).apply(this,arguments)}class Ti extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const f=new Ti(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(f.idToken=u.idToken),u.accessToken&&(f.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(f.nonce=u.nonce),u.pendingToken&&(f.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(f.accessToken=u.oauthToken,f.secret=u.oauthTokenSecret):Ne("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:D,signInMethod:V}=f,X=(0,he._T)(f,["providerId","signInMethod"]);if(!D||!V)return null;const Re=new Ti(D,V);return Re.idToken=X.idToken||void 0,Re.accessToken=X.accessToken||void 0,Re.secret=X.secret,Re.nonce=X.nonce,Re.pendingToken=X.pendingToken||null,Re}_getIdTokenResponse(u){return cr(u,this.buildRequest())}_linkToIdToken(u,f){const D=this.buildRequest();return D.idToken=f,cr(u,D)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,cr(u,f)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),u.postBody=(0,G.xO)(f)}return u}}function zo(y,u){return wi.apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:sendVerificationCode",Vn(y,u))})).apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithPhoneNumber",Vn(y,u))})).apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(y,u){const f=yield wn(y,"POST","/v1/accounts:signInWithPhoneNumber",Vn(y,u));if(f.temporaryProof)throw Ur(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const $o={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithPhoneNumber",Vn(y,Object.assign(Object.assign({},u),{operation:"REAUTH"})),$o)})).apply(this,arguments)}class fo extends Ir{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,f){return new fo({verificationId:u,verificationCode:f})}static _fromTokenResponse(u,f){return new fo({phoneNumber:u,temporaryProof:f})}_getIdTokenResponse(u){return function Cs(y,u){return vr.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,f){return function Oo(y,u){return ps.apply(this,arguments)}(u,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function bs(y,u){return os.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:f,verificationId:D,verificationCode:V}=this.params;return u&&f?{temporaryProof:u,phoneNumber:f}:{sessionInfo:D,code:V}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}=u;return D||f||V||X?new fo({verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}):null}}class No{constructor(u){var f,D,V,X,Re,it;const Gt=(0,G.zd)((0,G.pd)(u)),an=null!==(f=Gt.apiKey)&&void 0!==f?f:null,On=null!==(D=Gt.oobCode)&&void 0!==D?D:null,_n=function po(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Gt.mode)&&void 0!==V?V:null);Ce(an&&On&&_n,"argument-error"),this.apiKey=an,this.operation=_n,this.code=On,this.continueUrl=null!==(X=Gt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Re=Gt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(it=Gt.tenantId)&&void 0!==it?it:null}static parseLink(u){const f=function pi(y){const u=(0,G.zd)((0,G.pd)(y)).link,f=u?(0,G.zd)((0,G.pd)(u)).deep_link_id:null,D=(0,G.zd)((0,G.pd)(y)).deep_link_id;return(D?(0,G.zd)((0,G.pd)(D)).link:null)||D||f||u||y}(u);try{return new No(f)}catch(D){return null}}}let ss=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,D){return rs._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const V=No.parseLink(D);return Ce(V,"argument-error"),rs._fromEmailAndCode(f,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class zi{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class $i extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class mi extends $i{static credentialFromJSON(u){const f="string"==typeof u?JSON.parse(u):u;return Ce("providerId"in f&&"signInMethod"in f,"argument-error"),Ti._fromParams(f)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Ce(u.idToken||u.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return mi.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return mi.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:V,pendingToken:X,nonce:Re,providerId:it}=u;if(!D&&!V&&!f&&!X||!it)return null;try{return new mi(it)._credential({idToken:f,accessToken:D,nonce:Re,pendingToken:X})}catch(Gt){return null}}}let Gi=(()=>{class y extends $i{constructor(){super("facebook.com")}static credential(f){return Ti._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(D){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),xi=(()=>{class y extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return Ti._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:V}=f;if(!D&&!V)return null;try{return y.credential(D,V)}catch(X){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ro=(()=>{class y extends $i{constructor(){super("github.com")}static credential(f){return Ti._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(D){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class mo extends Ir{constructor(u,f){super(u,u),this.pendingToken=f}_getIdTokenResponse(u){return cr(u,this.buildRequest())}_linkToIdToken(u,f){const D=this.buildRequest();return D.idToken=f,cr(u,D)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,cr(u,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:D,signInMethod:V,pendingToken:X}=f;return D&&V&&X&&D===V?new mo(D,X):null}static _create(u,f){return new mo(u,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xr extends zi{constructor(u){Ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return xr.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return xr.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const f=mo.fromJSON(u);return Ce(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:f,providerId:D}=u;if(!f||!D)return null;try{return mo._create(D,f)}catch(V){return null}}}let so=(()=>{class y extends $i{constructor(){super("twitter.com")}static credential(f,D){return Ti._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:V}=f;if(!D||!V)return null;try{return y.credential(D,V)}catch(X){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ki(y,u){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signUp",Vn(y,u))})).apply(this,arguments)}class ar{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,f,D,V=!1){return(0,p.Z)(function*(){const X=yield de._fromIdTokenResponse(u,D,V),Re=Br(D);return new ar({user:X,providerId:Re,_tokenResponse:D,operationType:f})})()}static _forOperation(u,f,D){return(0,p.Z)(function*(){yield u._updateTokensIfNecessary(D,!0);const V=Br(D);return new ar({user:u,providerId:V,_tokenResponse:D,operationType:f})})()}}function Br(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Mi(){return(Mi=(0,p.Z)(function*(y){var u;const f=qn(y);if(yield f._initializationPromise,null===(u=f.currentUser)||void 0===u?void 0:u.isAnonymous)return new ar({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield Ki(f,{returnSecureToken:!0}),V=yield ar._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class go extends G.ZR{constructor(u,f,D,V){var X;super(f.code,f.message),this.operationType=D,this.user=V,Object.setPrototypeOf(this,go.prototype),this.customData={appName:u.name,tenantId:null!==(X=u.tenantId)&&void 0!==X?X:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(u,f,D,V){return new go(u,f,D,V)}}function Yo(y,u,f,D){return("reauthenticate"===u?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?go._fromErrorAndOperation(y,X,u,D):X})}function Jr(y){return new Set(y.map(({providerId:u})=>u).filter(u=>!!u))}function yo(){return(yo=(0,p.Z)(function*(y,u){const f=(0,G.m9)(y);yield K(!0,f,u);const{providerUserInfo:D}=yield Rn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[u]}),V=Jr(D||[]);return f.providerData=f.providerData.filter(X=>V.has(X.providerId)),V.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Go(y,u){return k.apply(this,arguments)}function k(){return(k=(0,p.Z)(function*(y,u,f=!1){const D=yield Kt(y,u._linkToIdToken(y.auth,yield y.getIdToken()),f);return ar._forOperation(y,"link",D)})).apply(this,arguments)}function K(y,u,f){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(function*(y,u,f){yield Tn(u);const V=!1===y?"provider-already-linked":"no-such-provider";Ce(Jr(u.providerData).has(f)===y,u.auth,V)})).apply(this,arguments)}function Q(y,u){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,p.Z)(function*(y,u,f=!1){const{auth:D}=y,V="reauthenticate";try{const X=yield Kt(y,Yo(D,V,u,y),f);Ce(X.idToken,D,"internal-error");const Re=bt(X.idToken);Ce(Re,D,"internal-error");const{sub:it}=Re;return Ce(y.uid===it,D,"user-mismatch"),ar._forOperation(y,V,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&Ne(D,"user-mismatch"),X}})).apply(this,arguments)}function nt(y,u){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(y,u,f=!1){const D="signIn",V=yield Yo(y,D,u),X=yield ar._fromIdTokenResponse(y,D,V);return f||(yield y._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Ot(y,u){return R.apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(y,u){return nt(qn(y),u)})).apply(this,arguments)}function x(y,u){return I.apply(this,arguments)}function I(){return(I=(0,p.Z)(function*(y,u){const f=(0,G.m9)(y);return yield K(!1,f,u.providerId),Go(f,u)})).apply(this,arguments)}function W(y,u){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(y,u){return Q((0,G.m9)(y),u)})).apply(this,arguments)}function Rt(y,u){return vn.apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(y,u){return wn(y,"POST","/v1/accounts:signInWithCustomToken",Vn(y,u))})).apply(this,arguments)}function Gr(){return(Gr=(0,p.Z)(function*(y,u){const f=qn(y),D=yield Rt(f,{token:u,returnSecureToken:!0}),V=yield ar._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class gi{constructor(u,f){this.factorId=u,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(u,f){return"phoneInfo"in f?ai._fromServerResponse(u,f):Ne(u,"internal-error")}}class ai extends gi{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,f){return new ai(f)}}function Oi(y,u,f){var D;Ce((null===(D=f.url)||void 0===D?void 0:D.length)>0,y,"invalid-continue-uri"),Ce(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),u.continueUrl=f.url,u.dynamicLinkDomain=f.dynamicLinkDomain,u.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ce(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),u.iOSBundleId=f.iOS.bundleId),f.android&&(Ce(f.android.packageName.length>0,y,"missing-android-pkg-name"),u.androidInstallApp=f.android.installApp,u.androidMinimumVersionCode=f.android.minimumVersion,u.androidPackageName=f.android.packageName)}function Is(){return(Is=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y),V={requestType:"PASSWORD_RESET",email:u};f&&Oi(D,V,f),yield nr(D,V)})).apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(y,u,f){yield kn((0,G.m9)(y),{oobCode:u,newPassword:f})})).apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(y,u){yield co((0,G.m9)(y),{oobCode:u})})).apply(this,arguments)}function Mr(y,u){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(y,u){const f=(0,G.m9)(y),D=yield kn(f,{oobCode:u}),V=D.requestType;switch(Ce(V,f,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(D.mfaInfo,f,"internal-error");default:Ce(D.email,f,"internal-error")}let X=null;return D.mfaInfo&&(X=gi._fromServerResponse(qn(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:X},operation:V}})).apply(this,arguments)}function B(){return(B=(0,p.Z)(function*(y,u){const{data:f}=yield Mr((0,G.m9)(y),u);return f.email})).apply(this,arguments)}function v(){return(v=(0,p.Z)(function*(y,u,f){const D=qn(y),V=yield Ki(D,{returnSecureToken:!0,email:u,password:f}),X=yield ar._fromIdTokenResponse(D,"signIn",V);return yield D._updateCurrentUser(X.user),X})).apply(this,arguments)}function J(){return(J=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y),V={requestType:"EMAIL_SIGNIN",email:u};Ce(f.handleCodeInApp,D,"argument-error"),f&&Oi(D,V,f),yield Zr(D,V)})).apply(this,arguments)}function Be(){return(Be=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y),V=ss.credentialWithLink(u,f||xt());return Ce(V._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ot(D,V)})).apply(this,arguments)}function ut(y,u){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:createAuthUri",Vn(y,u))})).apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(y,u){const D={identifier:u,continueUri:en()?xt():"http://localhost"},{signinMethods:V}=yield ut((0,G.m9)(y),D);return V||[]})).apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(y,u){const f=(0,G.m9)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};u&&Oi(f.auth,V,u);const{email:X}=yield Bi(f.auth,V);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:u};f&&Oi(D.auth,X,f);const{email:Re}=yield Yr(D.auth,X);Re!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ar(y,u){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(y,u){return Dn(y,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(y,{displayName:u,photoURL:f}){if(void 0===u&&void 0===f)return;const D=(0,G.m9)(y),X={idToken:yield D.getIdToken(),displayName:u,photoUrl:f,returnSecureToken:!0},Re=yield Kt(D,Ar(D.auth,X));D.displayName=Re.displayName||null,D.photoURL=Re.photoUrl||null;const it=D.providerData.find(({providerId:Gt})=>"password"===Gt);it&&(it.displayName=D.displayName,it.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Re)})).apply(this,arguments)}function li(y,u,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(y,u,f){const{auth:D}=y,X={idToken:yield y.getIdToken(),returnSecureToken:!0};u&&(X.email=u),f&&(X.password=f);const Re=yield Kt(y,io(D,X));yield y._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class Ni{constructor(u,f,D={}){this.isNewUser=u,this.providerId=f,this.profile=D}}class ms extends Ni{constructor(u,f,D,V){super(u,f,D),this.username=V}}class Wo extends Ni{constructor(u,f){super(u,"facebook.com",f)}}class qo extends ms{constructor(u,f){super(u,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class vi extends Ni{constructor(u,f){super(u,"google.com",f)}}class Wi extends ms{constructor(u,f,D){super(u,"twitter.com",f,D)}}function Yt(y){const{user:u,_tokenResponse:f}=y;return u.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function vo(y){var u,f;if(!y)return null;const{providerId:D}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},X=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!D&&(null==y?void 0:y.idToken)){const Re=null===(f=null===(u=bt(y.idToken))||void 0===u?void 0:u.firebase)||void 0===f?void 0:f.sign_in_provider;if(Re)return new Ni(X,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!D)return null;switch(D){case"facebook.com":return new Wo(X,V);case"github.com":return new qo(X,V);case"google.com":return new vi(X,V);case"twitter.com":return new Wi(X,V,y.screenName||null);case"custom":case"anonymous":return new Ni(X,null);default:return new Ni(X,D,V)}}(f)}class bo{constructor(u,f){this.type=u,this.credential=f}static _fromIdtoken(u){return new bo("enroll",u)}static _fromMfaPendingCredential(u){return new bo("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var f,D;if(null==u?void 0:u.multiFactorSession){if(null===(f=u.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return bo._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null===(D=u.multiFactorSession)||void 0===D?void 0:D.idToken)return bo._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Fi{constructor(u,f,D){this.session=u,this.hints=f,this.signInResolver=D}static _fromError(u,f){const D=qn(u),V=f.customData._serverResponse,X=(V.mfaInfo||[]).map(it=>gi._fromServerResponse(D,it));Ce(V.mfaPendingCredential,D,"internal-error");const Re=bo._fromMfaPendingCredential(V.mfaPendingCredential);return new Fi(Re,X,function(){var it=(0,p.Z)(function*(Gt){const an=yield Gt._process(D,Re);delete V.mfaInfo,delete V.mfaPendingCredential;const On=Object.assign(Object.assign({},V),{idToken:an.idToken,refreshToken:an.refreshToken});switch(f.operationType){case"signIn":const _n=yield ar._fromIdTokenResponse(D,f.operationType,On);return yield D._updateCurrentUser(_n.user),_n;case"reauthenticate":return Ce(f.user,D,"internal-error"),ar._forOperation(f.user,f.operationType,On);default:Ne(D,"internal-error")}});return function(Gt){return it.apply(this,arguments)}}())}resolveSignIn(u){var f=this;return(0,p.Z)(function*(){return f.signInResolver(u)})()}}function Hr(y,u){return Dn(y,"POST","/v2/accounts/mfaEnrollment:start",Vn(y,u))}class ol{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>gi._fromServerResponse(u.auth,D)))})}static _fromUser(u){return new ol(u)}getSession(){var u=this;return(0,p.Z)(function*(){return bo._fromIdtoken(yield u.user.getIdToken())})()}enroll(u,f){var D=this;return(0,p.Z)(function*(){const V=u,X=yield D.getSession(),Re=yield Kt(D.user,V._process(D.user.auth,X,f));return yield D.user._updateTokensIfNecessary(Re),D.user.reload()})()}unenroll(u){var f=this;return(0,p.Z)(function*(){const D="string"==typeof u?u:u.uid,V=yield f.user.getIdToken(),X=yield Kt(f.user,function Zi(y,u){return Dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Vn(y,u))}(f.user.auth,{idToken:V,mfaEnrollmentId:D}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Re})=>Re!==D),yield f.user._updateTokensIfNecessary(X);try{yield f.user.reload()}catch(Re){if("auth/user-token-expired"!==Re.code)throw Re}})()}}const gs=new WeakMap,$s="__sak";class Gs{constructor(u,f){this.storageRetriever=u,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem($s,"1"),this.storage.removeItem($s),Promise.resolve(!0)):Promise.resolve(!1)}catch(u){return Promise.resolve(!1)}}_set(u,f){return this.storage.setItem(u,JSON.stringify(f)),Promise.resolve()}_get(u){const f=this.storage.getItem(u);return Promise.resolve(f?JSON.parse(f):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Li=(()=>{class y extends Gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vo(){const y=(0,G.z$)();return ge(y)||Sn(y)}()&&function er(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const V=this.storage.getItem(D),X=this.localCache[D];V!==X&&f(D,X,V)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((it,Gt,an)=>{this.notifyListeners(it,an)});const V=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(V);if(f.newValue!==it)null!==f.newValue?this.storage.setItem(V,f.newValue):this.storage.removeItem(V);else if(this.localCache[V]===f.newValue&&!D)return}const X=()=>{const it=this.storage.getItem(V);!D&&this.localCache[V]===it||this.notifyListeners(V,it)},Re=this.storage.getItem(V);!function Ei(){return(0,G.w1)()&&10===document.documentMode}()||Re===f.newValue||f.newValue===f.oldValue?X():setTimeout(X,10)}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var V=()=>super._set,X=this;return(0,p.Z)(function*(){yield V().call(X,f,D),X.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,V=this;return(0,p.Z)(function*(){const X=yield D().call(V,f);return V.localCache[f]=JSON.stringify(X),X})()}_remove(f){var D=()=>super._remove,V=this;return(0,p.Z)(function*(){yield D().call(V,f),delete V.localCache[f]})()}}return y.type="LOCAL",y})(),Uo=(()=>{class y extends Gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return y.type="SESSION",y})();let wa=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(X=>X.isListeningto(f));if(D)return D;const V=new y(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,p.Z)(function*(){const V=f,{eventId:X,eventType:Re,data:it}=V.data,Gt=D.handlersMap[Re];if(!(null==Gt?void 0:Gt.size))return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:Re});const an=Array.from(Gt).map(function(){var _n=(0,p.Z)(function*(Ii){return Ii(V.origin,it)});return function(Ii){return _n.apply(this,arguments)}}()),On=yield function Ll(y){return Promise.all(y.map(function(){var u=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return u.apply(this,arguments)}}()))}(an);V.ports[0].postMessage({status:"done",eventId:X,eventType:Re,response:On})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function as(y="",u=10){let f="";for(let D=0;D<u;D++)f+=Math.floor(10*Math.random());return y+f}class _c{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,f,D=50){var V=this;return(0,p.Z)(function*(){const X="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Re,it;return new Promise((Gt,an)=>{const On=as("",20);X.port1.start();const _n=setTimeout(()=>{an(new Error("unsupported_event"))},D);it={messageChannel:X,onMessage(Ii){const Bs=Ii;if(Bs.data.eventId===On)switch(Bs.data.status){case"ack":clearTimeout(_n),Re=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Gt(Bs.data.response);break;default:clearTimeout(_n),clearTimeout(Re),an(new Error("invalid_response"))}}},V.handlers.add(it),X.port1.addEventListener("message",it.onMessage),V.target.postMessage({eventType:u,eventId:On,data:f},[X.port2])}).finally(()=>{it&&V.removeMessageHandler(it)})})()}}function Dr(){return window}function Ys(){return void 0!==Dr().WorkerGlobalScope&&"function"==typeof Dr().importScripts}function T(){return(T=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Y="firebaseLocalStorageDb",re="firebaseLocalStorage",be="fbase_key";class ot{constructor(u){this.request=u}toPromise(){return new Promise((u,f)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function st(y,u){return y.transaction([re],u?"readwrite":"readonly").objectStore(re)}function fn(){const y=indexedDB.open(Y,1);return new Promise((u,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const D=y.result;try{D.createObjectStore(re,{keyPath:be})}catch(V){f(V)}}),y.addEventListener("success",(0,p.Z)(function*(){const D=y.result;D.objectStoreNames.contains(re)?u(D):(D.close(),yield function Ft(){const y=indexedDB.deleteDatabase(Y);return new ot(y).toPromise()}(),u(yield fn()))}))})}function Tt(y,u,f){return $e.apply(this,arguments)}function $e(){return($e=(0,p.Z)(function*(y,u,f){const D=st(y,!0).put({[be]:u,value:f});return new ot(D).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(y,u){const f=st(y,!1).get(u),D=yield new ot(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function _o(y,u){const f=st(y,!0).delete(u);return new ot(f).toPromise()}const Qo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield fn()),f.db})()}_withRetries(f){var D=this;return(0,p.Z)(function*(){let V=0;for(;;)try{const X=yield D._openDb();return yield f(X)}catch(X){if(V++>3)throw X;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return Ys()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=wa._getInstance(function O(){return Ys()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,p.Z)(function*(V,X){return{keyProcessed:(yield f._poll()).includes(X.key)}});return function(V,X){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,p.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var D,V;if(f.activeServiceWorker=yield function C(){return T.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new _c(f.activeServiceWorker);const X=yield f.sender._send("ping",{},800);!X||(null===(D=X[0])||void 0===D?void 0:D.fulfilled)&&(null===(V=X[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,p.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function E(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield fn();return yield Tt(f,$s,"1"),yield _o(f,$s),!0}catch(f){}return!1})()}_withPendingWrite(f){var D=this;return(0,p.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var V=this;return(0,p.Z)(function*(){return V._withPendingWrite((0,p.Z)(function*(){return yield V._withRetries(X=>Tt(X,f,D)),V.localCache[f]=D,V.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,p.Z)(function*(){const V=yield D._withRetries(X=>function Et(y,u){return Sr.apply(this,arguments)}(X,f));return D.localCache[f]=V,V})()}_remove(f){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(V=>_o(V,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const D=yield f._withRetries(Re=>{const it=st(Re,!1).getAll();return new ot(it).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const V=[],X=new Set;for(const{fbase_key:Re,value:it}of D)X.add(Re),JSON.stringify(f.localCache[Re])!==JSON.stringify(it)&&(f.notifyListeners(Re,it),V.push(Re));for(const Re of Object.keys(f.localCache))f.localCache[Re]&&!X.has(Re)&&(f.notifyListeners(Re,null),V.push(Re));return V})()}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Yl(y,u){return Dn(y,"POST","/v2/accounts/mfaSignIn:start",Vn(y,u))}function Wa(){return(Wa=(0,p.Z)(function*(y){return(yield Dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qs(y){return new Promise((u,f)=>{const D=document.createElement("script");D.setAttribute("src",y),D.onload=u,D.onerror=V=>{const X=Ye("internal-error");X.customData=V,f(X)},D.type="text/javascript",D.charset="UTF-8",function Bo(){var y,u;return null!==(u=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==u?u:document}().appendChild(D)})}function da(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class Wr{constructor(u){this.auth=u,this.counter=Zs,this._widgets=new Map}render(u,f){const D=this.counter;return this._widgets.set(D,new Mn(u,this.auth.name,f||{})),this.counter++,D}reset(u){var f;const D=u||Zs;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(u){var f;return(null===(f=this._widgets.get(u||Zs))||void 0===f?void 0:f.getResponse())||""}execute(u){var f=this;return(0,p.Z)(function*(){var D;return null===(D=f._widgets.get(u||Zs))||void 0===D||D.execute(),""})()}}class Mn{constructor(u,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof u?document.getElementById(u):u;Ce(V,"argument-error",{appName:f}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cu(y){const u=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<y;D++)u.push(f.charAt(Math.floor(Math.random()*f.length)));return u.join("")}(50);const{callback:u,"expired-callback":f}=this.params;if(u)try{u(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tr=da("rcb"),rd=new Vt(3e4,6e4);class wr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dr().grecaptcha}load(u,f=""){return Ce(function Zf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),u,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Dr().grecaptcha):new Promise((D,V)=>{const X=Dr().setTimeout(()=>{V(Ye(u,"network-request-failed"))},rd.get());Dr()[Tr]=()=>{Dr().clearTimeout(X),delete Dr()[Tr];const it=Dr().grecaptcha;if(!it)return void V(Ye(u,"internal-error"));const Gt=it.render;it.render=(an,On)=>{const _n=Gt(an,On);return this.counter++,_n},this.hostLanguage=f,D(it)},qs(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Tr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(X),V(Ye(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){return!!Dr().grecaptcha&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eo{load(u){return(0,p.Z)(function*(){return new Wr(u)})()}clearedOneInstance(){}}const Ca="recaptcha",id={theme:"light",type:"image"};class ui{constructor(u,f=Object.assign({},id),D){this.parameters=f,this.type=Ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(D),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof u?document.getElementById(u):u;Ce(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eo:new wr,this.validateStartingState()}verify(){var u=this;return(0,p.Z)(function*(){u.assertNotDestroyed();const f=yield u.render(),D=u.getAssertedRecaptcha();return D.getResponse(f)||new Promise(X=>{const Re=it=>{!it||(u.tokenChangeListeners.delete(Re),X(it))};u.tokenChangeListeners.add(Re),u.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof u)u(f);else if("string"==typeof u){const D=Dr()[u];"function"==typeof D&&D(f)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,p.Z)(function*(){if(yield u.init(),!u.widgetId){let f=u.container;if(!u.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}u.widgetId=u.getAssertedRecaptcha().render(f,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,p.Z)(function*(){Ce(en()&&!Ys(),u.auth,"internal-error"),yield function ph(){let y=null;return new Promise(u=>{"complete"!==document.readyState?(y=()=>u(),window.addEventListener("load",y)):u()}).catch(u=>{throw y&&window.removeEventListener("load",y),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const f=yield function lu(y){return Wa.apply(this,arguments)}(u.auth);Ce(f,u.auth,"internal-error"),u.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nr{constructor(u,f){this.verificationId=u,this.onConfirmation=f}confirm(u){const f=fo._fromVerification(this.verificationId,u);return this.onConfirmation(f)}}function ls(){return(ls=(0,p.Z)(function*(y,u,f){const D=qn(y),V=yield cs(D,u,(0,G.m9)(f));return new Nr(V,X=>Ot(D,X))})).apply(this,arguments)}function Dc(){return(Dc=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y);yield K(!1,D,"phone");const V=yield cs(D.auth,u,(0,G.m9)(f));return new Nr(V,X=>x(D,X))})).apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y),V=yield cs(D.auth,u,(0,G.m9)(f));return new Nr(V,X=>W(D,X))})).apply(this,arguments)}function cs(y,u,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,p.Z)(function*(y,u,f){var D;const V=yield f.verify();try{let X;if(Ce("string"==typeof V,y,"argument-error"),Ce(f.type===Ca,y,"argument-error"),X="string"==typeof u?{phoneNumber:u}:u,"session"in X){const Re=X.session;if("phoneNumber"in X)return Ce("enroll"===Re.type,y,"internal-error"),(yield Hr(y,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Re.type,y,"internal-error");const it=(null===(D=X.multiFactorHint)||void 0===D?void 0:D.uid)||X.multiFactorUid;return Ce(it,y,"missing-multi-factor-info"),(yield Yl(y,{mfaPendingCredential:Re.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield zo(y,{phoneNumber:X.phoneNumber,recaptchaToken:V});return Re}}finally{f._reset()}})).apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(y,u){yield Go((0,G.m9)(y),u)})).apply(this,arguments)}let Ut=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=qn(f)}verifyPhoneNumber(f,D){return cs(this.auth,f,(0,G.m9)(D))}static credential(f,D){return fo._fromVerification(f,D)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:V}=f;return D&&V?fo._fromTokenResponse(D,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Us(y,u){return u?Se(u):(Ce(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class al extends Ir{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return cr(u,this._buildIdpRequest())}_linkToIdToken(u,f){return cr(u,this._buildIdpRequest(f))}_getReauthenticationResolver(u){return cr(u,this._buildIdpRequest())}_buildIdpRequest(u){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(f.idToken=u),f}}function ha(y){return nt(y.auth,new al(y),y.bypassAuthState)}function us(y){const{auth:u,user:f}=y;return Ce(f,u,"internal-error"),Q(f,new al(y),y.bypassAuthState)}function Qi(y){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(y){const{auth:u,user:f}=y;return Ce(f,u,"internal-error"),Go(f,new al(y),y.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(u,f,D,V,X=!1){this.auth=u,this.resolver=D,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var u=this;return new Promise(function(){var f=(0,p.Z)(function*(D,V){u.pendingPromise={resolve:D,reject:V};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(X){u.reject(X)}});return function(D,V){return f.apply(this,arguments)}}())}onAuthEvent(u){var f=this;return(0,p.Z)(function*(){const{urlResponse:D,sessionId:V,postBody:X,tenantId:Re,error:it,type:Gt}=u;if(it)return void f.reject(it);const an={auth:f.auth,requestUri:D,sessionId:V,tenantId:Re||void 0,postBody:X||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Gt)(an))}catch(On){f.reject(On)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return Qi;case"reauthViaPopup":case"reauthViaRedirect":return us;default:Ne(this.auth,"internal-error")}}resolve(u){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vl=new Vt(2e3,1e4);function fa(){return(fa=(0,p.Z)(function*(y,u,f){const D=qn(y);Le(y,u,zi);const V=Us(D,f);return new ds(D,"signInViaPopup",u,V).executeNotNull()})).apply(this,arguments)}function ma(){return(ma=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y);Le(D.auth,u,zi);const V=Us(D.auth,f);return new ds(D.auth,"reauthViaPopup",u,V,D).executeNotNull()})).apply(this,arguments)}function jl(){return(jl=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y);Le(D.auth,u,zi);const V=Us(D.auth,f);return new ds(D.auth,"linkViaPopup",u,V,D).executeNotNull()})).apply(this,arguments)}let ds=(()=>{class y extends Ia{constructor(f,D,V,X,Re){super(f,D,X,Re),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const D=yield f.execute();return Ce(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,p.Z)(function*(){le(1===f.filter.length,"Popup operations only handle one event");const D=as();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(V=>{f.reject(V)}),f.resolver._isIframeWebStorageSupported(f.auth,V=>{V||f.reject(Ye(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,V;this.pollId=(null===(V=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Vl.get())};f()}}return y.currentPopupAction=null,y})();const Jo=new Map;class mh extends Ia{constructor(u,f,D=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var u=()=>super.execute,f=this;return(0,p.Z)(function*(){let D=Jo.get(f.auth._key());if(!D){try{const X=(yield function ll(y,u){return bi.apply(this,arguments)}(f.resolver,f.auth))?yield u().call(f):null;D=()=>Promise.resolve(X)}catch(V){D=()=>Promise.reject(V)}Jo.set(f.auth._key(),D)}return f.bypassAuthState||Jo.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(u){var f=()=>super.onAuthEvent,D=this;return(0,p.Z)(function*(){if("signInViaRedirect"===u.type)return f().call(D,u);if("unknown"!==u.type){if(u.eventId){const V=yield D.auth._redirectUserForId(u.eventId);if(V)return D.user=V,f().call(D,u);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function bi(){return(bi=(0,p.Z)(function*(y,u){const f=N(u),D=A(y);if(!(yield D._isAvailable()))return!1;const V="true"===(yield D._get(f));return yield D._remove(f),V})).apply(this,arguments)}function Aa(y,u){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(y,u){return A(y)._set(N(u),"true")})).apply(this,arguments)}function A(y){return Se(y._redirectPersistence)}function N(y){return We("pendingRedirect",y.config.apiKey,y.name)}function ze(){return(ze=(0,p.Z)(function*(y,u,f){const D=qn(y);Le(y,u,zi);const V=Us(D,f);return yield Aa(V,D),V._openRedirect(D,u,"signInViaRedirect")})).apply(this,arguments)}function rn(){return(rn=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y);Le(D.auth,u,zi);const V=Us(D.auth,f);yield Aa(V,D.auth);const X=yield zr(D);return V._openRedirect(D.auth,u,"reauthViaRedirect",X)})).apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(y,u,f){const D=(0,G.m9)(y);Le(D.auth,u,zi);const V=Us(D.auth,f);yield K(!1,D,u.providerId),yield Aa(V,D.auth);const X=yield zr(D);return V._openRedirect(D.auth,u,"linkViaRedirect",X)})).apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(y,u){return yield qn(y)._initializationPromise,di(y,u,!1)})).apply(this,arguments)}function di(y,u){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(y,u,f=!1){const D=qn(y),V=Us(D,u),Re=yield new mh(D,V,f).execute();return Re&&!f&&(delete Re.user._redirectEventId,yield D._persistUserIfCurrent(Re.user),yield D._setRedirectUser(null,u)),Re})).apply(this,arguments)}function zr(y){return ga.apply(this,arguments)}function ga(){return(ga=(0,p.Z)(function*(y){const u=as(`${y.uid}:::`);return y._redirectEventId=u,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),u})).apply(this,arguments)}class xa{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(u,D)&&(f=!0,this.sendToConsumer(u,D),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function fu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hu(y);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=u,f=!0)),f}sendToConsumer(u,f){var D;if(u.error&&!hu(u)){const V=(null===(D=u.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(Ye(this.auth,V))}else f.onAuthEvent(u)}isEventForConsumer(u,f){const D=null===f.eventId||!!u.eventId&&u.eventId===f.eventId;return f.filter.includes(u.type)&&D}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(u))}saveEventToCache(u){this.cachedEventUids.add(cl(u)),this.lastProcessedEventTime=Date.now()}}function cl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(u=>u).join("-")}function hu({type:y,error:u}){return"unknown"===y&&"auth/no-auth-event"===(null==u?void 0:u.code)}function od(y){return sd.apply(this,arguments)}function sd(){return(sd=(0,p.Z)(function*(y,u={}){return Dn(y,"GET","/v1/projects",u)})).apply(this,arguments)}const qa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Js=/^https?/;function pu(){return(pu=(0,p.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:u}=yield od(y);for(const f of u)try{if(Qf(f))return}catch(D){}Ne(y,"unauthorized-domain")})).apply(this,arguments)}function Qf(y){const u=xt(),{protocol:f,hostname:D}=new URL(u);if(y.startsWith("chrome-extension://")){const Re=new URL(y);return""===Re.hostname&&""===D?"chrome-extension:"===f&&y.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===f&&Re.hostname===D}if(!Js.test(f))return!1;if(qa.test(y))return D===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(D)}const ya=new Vt(3e4,6e4);function ad(){const y=Dr().___jsl;if(null==y?void 0:y.H)for(const u of Object.keys(y.H))if(y.H[u].r=y.H[u].r||[],y.H[u].L=y.H[u].L||[],y.H[u].r=[...y.H[u].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let ul=null;function mu(y){return ul=ul||function Sc(y){return new Promise((u,f)=>{var D,V,X;function Re(){ad(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{ad(),f(Ye(y,"network-request-failed"))},timeout:ya.get()})}if(null===(V=null===(D=Dr().gapi)||void 0===D?void 0:D.iframes)||void 0===V?void 0:V.Iframe)u(gapi.iframes.getContext());else{if(!(null===(X=Dr().gapi)||void 0===X?void 0:X.load)){const it=da("iframefcb");return Dr()[it]=()=>{gapi.load?Re():f(Ye(y,"network-request-failed"))},qs(`https://apis.google.com/js/api.js?onload=${it}`).catch(Gt=>f(Gt))}Re()}}).catch(u=>{throw ul=null,u})}(y),ul}const ld=new Vt(5e3,15e3),Xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},js=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gh(y){const u=y.config;Ce(u.authDomain,y,"auth-domain-config-required");const f=u.emulator?sn(u,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,D={apiKey:u.apiKey,appName:y.name,v:De.SDK_VERSION},V=js.get(y.config.apiHost);V&&(D.eid=V);const X=y._getFrameworks();return X.length&&(D.fw=X.join(",")),`${f}?${(0,G.xO)(D).slice(1)}`}function dl(){return dl=(0,p.Z)(function*(y){const u=yield mu(y),f=Dr().gapi;return Ce(f,y,"internal-error"),u.open({where:document.body,url:gh(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xs,dontclear:!0},D=>new Promise(function(){var V=(0,p.Z)(function*(X,Re){yield D.restyle({setHideOnLeave:!1});const it=Ye(y,"network-request-failed"),Gt=Dr().setTimeout(()=>{Re(it)},ld.get());function an(){Dr().clearTimeout(Gt),X(D)}D.ping(an).then(an,()=>{Re(it)})});return function(X,Re){return V.apply(this,arguments)}}()))}),dl.apply(this,arguments)}const bc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dd{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(u){}}}function ea(y,u,f,D,V,X){Ce(y.config.authDomain,y,"auth-domain-config-required"),Ce(y.config.apiKey,y,"invalid-api-key");const Re={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:D,v:De.SDK_VERSION,eventId:V};if(u instanceof zi){u.setDefaultLanguage(y.languageCode),Re.providerId=u.providerId||"",(0,G.xb)(u.getCustomParameters())||(Re.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Gt,an]of Object.entries(X||{}))Re[Gt]=an}if(u instanceof $i){const Gt=u.getScopes().filter(an=>""!==an);Gt.length>0&&(Re.scopes=Gt.join(","))}y.tenantId&&(Re.tid=y.tenantId);const it=Re;for(const Gt of Object.keys(it))void 0===it[Gt]&&delete it[Gt];return`${function fl({config:y}){return y.emulator?sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,G.xO)(it).slice(1)}`}const ka="webStorageSupport";class _u extends class ml{constructor(u){this.factorId=u}_process(u,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(u,f.credential,D);case"signin":return this._finalizeSignIn(u,f.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new _u(u)}_finalizeEnroll(u,f,D){return function Ci(y,u){return Dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Vn(y,u))}(u,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,f){return function Ws(y,u){return Dn(y,"POST","/v2/accounts/mfaSignIn:finalize",Vn(y,u))}(u,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hl=(()=>{class y{constructor(){}static assertion(f){return _u._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var Eu="@firebase/auth",fd="0.19.11";class Ic{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const f=this.auth.onIdTokenChanged(D=>{var V;u((null===(V=D)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,f),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const f=this.internalListeners.get(u);!f||(this.internalListeners.delete(u),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function va(){return window}function Es(){return(Es=(0,p.Z)(function*(y,u,f){var D;const{BuildInfo:V}=va();le(u.sessionId,"AuthEvent did not contain a session ID");const X=yield np(u.sessionId),Re={};return Sn()?Re.ibi=V.packageName:rt()?Re.apn=V.packageName:Ne(y,"operation-not-supported-in-this-environment"),V.displayName&&(Re.appDisplayName=V.displayName),Re.sessionId=X,ea(y,f,u.type,void 0,null!==(D=u.eventId)&&void 0!==D?D:void 0,Re)})).apply(this,arguments)}function Ac(){return(Ac=(0,p.Z)(function*(y){const{BuildInfo:u}=va(),f={};Sn()?f.iosBundleId=u.packageName:rt()?f.androidPackageName=u.packageName:Ne(y,"operation-not-supported-in-this-environment"),yield od(y,f)})).apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(y,u,f){const{cordova:D}=va();let V=()=>{};try{yield new Promise((X,Re)=>{let it=null;function Gt(){var _n;X();const Ii=null===(_n=D.plugins.browsertab)||void 0===_n?void 0:_n.close;"function"==typeof Ii&&Ii(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function an(){it||(it=window.setTimeout(()=>{Re(Ye(y,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===(null==document?void 0:document.visibilityState)&&an()}u.addPassiveListener(Gt),document.addEventListener("resume",an,!1),rt()&&document.addEventListener("visibilitychange",On,!1),V=()=>{u.removePassiveListener(Gt),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",On,!1),it&&window.clearTimeout(it)}})}finally{V()}})).apply(this,arguments)}function np(y){return $l.apply(this,arguments)}function $l(){return($l=(0,p.Z)(function*(y){const u=gl(y),f=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(f)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gl(y){if(le(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const u=new ArrayBuffer(y.length),f=new Uint8Array(u);for(let D=0;D<y.length;D++)f[D]=y.charCodeAt(D);return f}!function ep(y){(0,De._registerComponent)(new ke.wA("auth",(u,{options:f})=>{const D=u.getProvider("app").getImmediate(),V=u.getProvider("heartbeat"),{apiKey:X,authDomain:Re}=D.options;return((it,Gt)=>{Ce(X&&!X.includes(":"),"invalid-api-key",{appName:it.name}),Ce(!(null==Re?void 0:Re.includes(":")),"argument-error",{appName:it.name});const an={apiKey:X,authDomain:Re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(y)},On=new ns(it,Gt,an);return function _e(y,u){const f=(null==u?void 0:u.persistence)||[],D=(Array.isArray(f)?f:[f]).map(Se);(null==u?void 0:u.errorMap)&&y._updateErrorMap(u.errorMap),y._initializeWithPersistence(D,null==u?void 0:u.popupRedirectResolver)}(On,f),On})(D,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,f,D)=>{u.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new ke.wA("auth-internal",u=>{const f=qn(u.getProvider("auth").getImmediate());return new Ic(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(Eu,fd,function Xf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,De.registerVersion)(Eu,fd,"esm2017")}("Browser");class mg extends xa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(u)),super.onEvent(u)}initialized(){var u=this;return(0,p.Z)(function*(){yield u.initPromise})()}}function md(y){return Du.apply(this,arguments)}function Du(){return(Du=(0,p.Z)(function*(y){const u=yield yl()._get(Yi(y));return u&&(yield yl()._remove(Yi(y))),u})).apply(this,arguments)}function Ji(){const y=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const D=Math.floor(Math.random()*u.length);y.push(u.charAt(D))}return y.join("")}function yl(){return Se(Li)}function Yi(y){return We("authEvent",y.config.apiKey,y.name)}function Ma(y){if(!(null==y?void 0:y.includes("?")))return{};const[u,...f]=y.split("?");return(0,G.zd)(f.join("?"))}function Gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ye("no-auth-event")}}function wu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function kc(y=(0,G.z$)()){return!("file:"!==wu()&&"ionic:"!==wu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Iu(){try{const y=self.localStorage,u=as();if(y)return y.setItem(u,"1"),y.removeItem(u),!function bu(y=(0,G.z$)()){return function Xa(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Xo(y=(0,G.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,G.hl)()}catch(y){return Pu()&&(0,G.hl)()}return!1}function Pu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function To(){return(function Su(){return"http:"===wu()||"https:"===wu()}()||(0,G.ru)()||kc())&&!function Cu(){return(0,G.b$)()||(0,G.UG)()}()&&Iu()&&!Pu()}function vl(){return kc()&&"undefined"!=typeof document}function yd(){return(yd=(0,p.Z)(function*(){return!!vl()&&new Promise(y=>{const u=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),y(!0)})})})).apply(this,arguments)}const Ao={LOCAL:"local",NONE:"none",SESSION:"session"},Wl=Ce,vd="persistence";function ql(y){return Au.apply(this,arguments)}function Au(){return(Au=(0,p.Z)(function*(y){yield y._initializationPromise;const u=ta(),f=We(vd,y.config.apiKey,y.name);u&&u.setItem(f,y._getPersistence())})).apply(this,arguments)}function ta(){var y;try{return(null===(y=function sp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(u){return null}}const Oc=Ce;class Oa{constructor(){this.browserResolver=Se(class pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=di}_openPopup(u,f,D,V){var X=this;return(0,p.Z)(function*(){var Re;le(null===(Re=X.eventManagers[u._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const it=ea(u,f,D,xt(),V);return function yh(y,u,f,D=500,V=600){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),Re=Math.max((window.screen.availWidth-D)/2,0).toString();let it="";const Gt=Object.assign(Object.assign({},bc),{width:D.toString(),height:V.toString(),top:X,left:Re}),an=(0,G.z$)().toLowerCase();f&&(it=oe(an)?"_blank":f),xe(an)&&(u=u||"http://localhost",Gt.scrollbars="yes");const On=Object.entries(Gt).reduce((Ii,[Bs,Rc])=>`${Ii}${Bs}=${Rc},`,"");if(function Vi(y=(0,G.z$)()){var u;return Sn(y)&&!!(null===(u=window.navigator)||void 0===u?void 0:u.standalone)}(an)&&"_self"!==it)return function vh(y,u){const f=document.createElement("a");f.href=y,f.target=u;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(u||"",it),new dd(null);const _n=window.open(u||"",it,On);Ce(_n,y,"popup-blocked");try{_n.focus()}catch(Ii){}return new dd(_n)}(u,it,as())})()}_openRedirect(u,f,D,V){var X=this;return(0,p.Z)(function*(){return yield X._originValidation(u),function sl(y){Dr().location.href=y}(ea(u,f,D,xt(),V)),new Promise(()=>{})})()}_initialize(u){const f=u._key();if(this.eventManagers[f]){const{manager:V,promise:X}=this.eventManagers[f];return V?Promise.resolve(V):(le(X,"If manager is not set, promise should be"),X)}const D=this.initAndGetManager(u);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(u){var f=this;return(0,p.Z)(function*(){const D=yield function gu(y){return dl.apply(this,arguments)}(u),V=new xa(u);return D.register("authEvent",X=>(Ce(null==X?void 0:X.authEvent,u,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[u._key()]={manager:V},f.iframes[u._key()]=D,V})()}_isIframeWebStorageSupported(u,f){this.iframes[u._key()].send(ka,{type:ka},V=>{var X;const Re=null===(X=null==V?void 0:V[0])||void 0===X?void 0:X[ka];void 0!==Re&&f(!!Re),Ne(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const f=u._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function wc(y){return pu.apply(this,arguments)}(u)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ui()||ge()||Sn()}}),this.cordovaResolver=Se(class Ms{constructor(){this._redirectPersistence=Uo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=di}_initialize(u){var f=this;return(0,p.Z)(function*(){const D=u._key();let V=f.eventManagers.get(D);return V||(V=new mg(u),f.eventManagers.set(D,V),f.attachCallbackListeners(u,V)),V})()}_openPopup(u){Ne(u,"operation-not-supported-in-this-environment")}_openRedirect(u,f,D,V){var X=this;return(0,p.Z)(function*(){!function tp(y){var u,f,D,V,X,Re,it,Gt,an,On;const _n=va();Ce("function"==typeof(null===(u=null==_n?void 0:_n.universalLinks)||void 0===u?void 0:u.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(f=null==_n?void 0:_n.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(X=null===(V=null===(D=null==_n?void 0:_n.cordova)||void 0===D?void 0:D.plugins)||void 0===V?void 0:V.browsertab)||void 0===X?void 0:X.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Gt=null===(it=null===(Re=null==_n?void 0:_n.cordova)||void 0===Re?void 0:Re.plugins)||void 0===it?void 0:it.browsertab)||void 0===Gt?void 0:Gt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(On=null===(an=null==_n?void 0:_n.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Re=yield X._initialize(u);yield Re.initialized(),Re.resetRedirect(),function Tc(){Jo.clear()}(),yield X._originValidation(u);const it=function Do(y,u,f=null){return{type:u,eventId:f,urlResponse:null,sessionId:Ji(),postBody:null,tenantId:y.tenantId,error:Ye(y,"no-auth-event")}}(u,D,V);yield function Er(y,u){return yl()._set(Yi(y),u)}(u,it);const Gt=yield function _h(y,u,f){return Es.apply(this,arguments)}(u,it,f),an=yield function pd(y){const{cordova:u}=va();return new Promise(f=>{u.plugins.browsertab.isAvailable(D=>{let V=null;D?u.plugins.browsertab.openUrl(y):V=u.InAppBrowser.open(y,function yr(y=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(V)})})}(Gt);return function zl(y,u,f){return Qa.apply(this,arguments)}(u,Re,an)})()}_isIframeWebStorageSupported(u,f){throw new Error("Method not implemented.")}_originValidation(u){const f=u._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Pc(y){return Ac.apply(this,arguments)}(u)),this.originValidationPromises[f]}attachCallbackListeners(u,f){const{universalLinks:D,handleOpenURL:V,BuildInfo:X}=va(),Re=setTimeout((0,p.Z)(function*(){yield md(u),f.onEvent(Gl())}),500),it=function(){var On=(0,p.Z)(function*(_n){clearTimeout(Re);const Ii=yield md(u);let Bs=null;Ii&&(null==_n?void 0:_n.url)&&(Bs=function Ja(y,u){var f,D;const V=function Tu(y){const u=Ma(y),f=u.link?decodeURIComponent(u.link):void 0,D=Ma(f).link,V=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ma(V).link||V||D||f||y}(u);if(V.includes("/__/auth/callback")){const X=Ma(V),Re=X.firebaseError?function ni(y){try{return JSON.parse(y)}catch(u){return null}}(decodeURIComponent(X.firebaseError)):null,it=null===(D=null===(f=null==Re?void 0:Re.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],Gt=it?Ye(it):null;return Gt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:V,postBody:null}}return null}(Ii,_n.url)),f.onEvent(Bs||Gl())});return function(Ii){return On.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,it);const Gt=V,an=`${X.packageName.toLowerCase()}://`;va().handleOpenURL=function(){var On=(0,p.Z)(function*(_n){if(_n.toLowerCase().startsWith(an)&&it({url:_n}),"function"==typeof Gt)try{Gt(_n)}catch(Ii){console.error(Ii)}});return function(_n){return On.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Uo,this._completeRedirectFn=di}_initialize(u){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,f,D,V){var X=this;return(0,p.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(u,f,D,V)})()}_openRedirect(u,f,D,V){var X=this;return(0,p.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(u,f,D,V)})()}_isIframeWebStorageSupported(u,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,f)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return vl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,p.Z)(function*(){if(u.underlyingResolver)return;const f=yield function gd(){return yd.apply(this,arguments)}();u.underlyingResolver=f?u.cordovaResolver:u.browserResolver})()}}function Zl(y){return y.unwrap()}function xu(y){return Dh(y)}function Dh(y){const{_tokenResponse:u}=y instanceof G.ZR?y.customData:y;if(!u)return null;if(!(y instanceof G.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Ut.credentialFromResult(y);const f=u.providerId;if(!f||"password"===f)return null;let D;switch(f){case"google.com":D=xi;break;case"facebook.com":D=Gi;break;case"github.com":D=Ro;break;case"twitter.com":D=so;break;default:const{oauthIdToken:V,oauthAccessToken:X,oauthTokenSecret:Re,pendingToken:it,nonce:Gt}=u;return X||Re||V||it?it?f.startsWith("saml.")?mo._create(f,it):Ti._fromParams({providerId:f,signInMethod:f,pendingToken:it,idToken:V,accessToken:X}):new mi(f).credential({idToken:V,accessToken:X,rawNonce:Gt}):null}return y instanceof G.ZR?D.credentialFromError(y):D.credentialFromResult(y)}function ko(y,u){return u.catch(f=>{throw f instanceof G.ZR&&function Eh(y,u){var f;const D=null===(f=u.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===u.code)u.resolver=new lp(y,function Zo(y,u){var f;const D=(0,G.m9)(y),V=u;return Ce(u.customData.operationType,D,"argument-error"),Ce(null===(f=V.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),Fi._fromError(D,V)}(y,u));else if(D){const V=Dh(u),X=u;V&&(X.credential=V,X.tenantId=D.tenantId||void 0,X.email=D.email||void 0,X.phoneNumber=D.phoneNumber||void 0)}}(y,f),f}).then(f=>{const V=f.user;return{operationType:f.operationType,credential:xu(f),additionalUserInfo:Yt(f),user:_a.getOrCreate(V)}})}function _l(y,u){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,p.Z)(function*(y,u){const f=yield u;return{verificationId:f.verificationId,confirm:D=>ko(y,f.confirm(D))}})).apply(this,arguments)}class lp{constructor(u,f){this.resolver=f,this.auth=function ap(y){return y.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return ko(Zl(this.auth),this.resolver.resolveSignIn(u))}}class _a{constructor(u){this._delegate=u,this.multiFactor=function xs(y){const u=(0,G.m9)(y);return gs.has(u)||gs.set(u,ol._fromUser(u)),gs.get(u)}(u)}static getOrCreate(u){return _a.USER_MAP.has(u)||_a.USER_MAP.set(u,new _a(u)),_a.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var f=this;return(0,p.Z)(function*(){return ko(f.auth,x(f._delegate,u))})()}linkWithPhoneNumber(u,f){var D=this;return(0,p.Z)(function*(){return _l(D.auth,function uu(y,u,f){return Dc.apply(this,arguments)}(D._delegate,u,f))})()}linkWithPopup(u){var f=this;return(0,p.Z)(function*(){return ko(f.auth,function du(y,u,f){return jl.apply(this,arguments)}(f._delegate,u,Oa))})()}linkWithRedirect(u){var f=this;return(0,p.Z)(function*(){return yield ql(qn(f.auth)),function Hn(y,u,f){return function Fn(y,u,f){return zn.apply(this,arguments)}(y,u,f)}(f._delegate,u,Oa)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var f=this;return(0,p.Z)(function*(){return ko(f.auth,W(f._delegate,u))})()}reauthenticateWithPhoneNumber(u,f){return _l(this.auth,function Io(y,u,f){return ys.apply(this,arguments)}(this._delegate,u,f))}reauthenticateWithPopup(u){return ko(this.auth,function pa(y,u,f){return ma.apply(this,arguments)}(this._delegate,u,Oa))}reauthenticateWithRedirect(u){var f=this;return(0,p.Z)(function*(){return yield ql(qn(f.auth)),function Xe(y,u,f){return function gt(y,u,f){return rn.apply(this,arguments)}(y,u,f)}(f._delegate,u,Oa)})()}sendEmailVerification(u){return function un(y,u){return dn.apply(this,arguments)}(this._delegate,u)}unlink(u){var f=this;return(0,p.Z)(function*(){return yield function Qn(y,u){return yo.apply(this,arguments)}(f._delegate,u),f})()}updateEmail(u){return function Ko(y,u){return li((0,G.m9)(y),u,null)}(this._delegate,u)}updatePassword(u){return function yi(y,u){return li((0,G.m9)(y),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Qs(y,u){return ba.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Xr(y,u){return ei.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,f){return function In(y,u,f){return Bn.apply(this,arguments)}(this._delegate,u,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_a.USER_MAP=new WeakMap;const Ql=Ce;let ku=(()=>{class y{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=f.options;Ql(V,"invalid-api-key",{appName:f.name}),Ql(V,"invalid-api-key",{appName:f.name});const X="undefined"!=typeof window?Oa:void 0;this._delegate=D.initialize({options:{persistence:wh(V,f.name),popupRedirectResolver:X}}),this._delegate._updateErrorMap(ht),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function Cn(y,u,f){const D=qn(y);Ce(D._canInitEmulator,D,"emulator-config-failed"),Ce(/^https?:\/\//.test(u),D,"invalid-emulator-scheme");const V=!!(null==f?void 0:f.disableWarnings),X=Zn(u),{host:Re,port:it}=function kr(y){const u=Zn(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(u.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(D);if(V){const X=V[1];return{host:X,port:Pi(D.substr(X.length+1))}}{const[X,Re]=D.split(":");return{host:X,port:Pi(Re)}}}(u);D.config.emulator={url:`${X}//${Re}${null===it?"":`:${it}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Re,port:it,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function tr(){function y(){const u=document.createElement("p"),f=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,D)}applyActionCode(f){return function Gn(y,u){return Ps.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Mr(this._delegate,f)}confirmPasswordReset(f,D){return function ua(y,u,f){return vt.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var V=this;return(0,p.Z)(function*(){return ko(V._delegate,function m(y,u,f){return v.apply(this,arguments)}(V._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function qt(y,u){return bn.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function pe(y,u){const f=No.parseLink(u);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Ql(To(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function Kn(y,u){return lo.apply(this,arguments)}(f._delegate,Oa);return D?ko(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Kl(y,u){qn(y)._logFramework(u)}(this._delegate,f)}onAuthStateChanged(f,D,V){const{next:X,error:Re,complete:it}=Th(f,D,V);return this._delegate.onAuthStateChanged(X,Re,it)}onIdTokenChanged(f,D,V){const{next:X,error:Re,complete:it}=Th(f,D,V);return this._delegate.onIdTokenChanged(X,Re,it)}sendSignInLinkToEmail(f,D){return function H(y,u,f){return J.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function ao(y,u,f){return Is.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,p.Z)(function*(){let V;switch(function xo(y,u){Wl(Object.values(Ao).includes(u),y,"invalid-persistence-type"),(0,G.b$)()?Wl(u!==Ao.SESSION,y,"unsupported-persistence-type"):(0,G.UG)()?Wl(u===Ao.NONE,y,"unsupported-persistence-type"):Pu()?Wl(u===Ao.NONE||u===Ao.LOCAL&&(0,G.hl)(),y,"unsupported-persistence-type"):Wl(u===Ao.NONE||Iu(),y,"unsupported-persistence-type")}(D._delegate,f),f){case Ao.SESSION:V=Uo;break;case Ao.LOCAL:V=(yield Se(Qo)._isAvailable())?Qo:Li;break;case Ao.NONE:V=ue;break;default:return Ne("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ko(this._delegate,function Lo(y){return Mi.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ko(this._delegate,Ot(this._delegate,f))}signInWithCustomToken(f){return ko(this._delegate,function $t(y,u){return Gr.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return ko(this._delegate,function P(y,u,f){return Ot((0,G.m9)(y),ss.credential(u,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return ko(this._delegate,function ye(y,u,f){return Be.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return _l(this._delegate,function qr(y,u,f){return ls.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,p.Z)(function*(){return Ql(To(),D._delegate,"operation-not-supported-in-this-environment"),ko(D._delegate,function Ul(y,u,f){return fa.apply(this,arguments)}(D._delegate,f,Oa))})()}signInWithRedirect(f){var D=this;return(0,p.Z)(function*(){return Ql(To(),D._delegate,"operation-not-supported-in-this-environment"),yield ql(D._delegate),function q(y,u,f){return function ce(y,u,f){return ze.apply(this,arguments)}(y,u,f)}(D._delegate,f,Oa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function As(y,u){return B.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ao,y})();function Th(y,u,f){let D=y;"function"!=typeof y&&({next:D,error:u,complete:f}=y);const V=D;return{next:Re=>V(Re&&_a.getOrCreate(Re)),error:u,complete:f}}function wh(y,u){const f=function Mc(y,u){const f=ta();if(!f)return[];const D=We(vd,y,u);switch(f.getItem(D)){case Ao.NONE:return[ue];case Ao.LOCAL:return[Qo,Uo];case Ao.SESSION:return[Uo];default:return[]}}(y,u);if("undefined"!=typeof self&&!f.includes(Qo)&&f.push(Qo),"undefined"!=typeof window)for(const D of[Li,Uo])f.includes(D)||f.push(D);return f.includes(ue)||f.push(ue),f}class _d{constructor(){this.providerId="phone",this._delegate=new Ut(Zl(Z.Z.auth()))}static credential(u,f){return Ut.credential(u,f)}verifyPhoneNumber(u,f){return this._delegate.verifyPhoneNumber(u,f)}unwrap(){return this._delegate}}_d.PHONE_SIGN_IN_METHOD=Ut.PHONE_SIGN_IN_METHOD,_d.PROVIDER_ID=Ut.PROVIDER_ID;const cp=Ce;class El{constructor(u,f,D=Z.Z.app()){var V;cp(null===(V=D.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new ui(u,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function up(y){y.INTERNAL.registerComponent(new ke.wA("auth-compat",u=>{const f=u.getProvider("app-compat").getImmediate(),D=u.getProvider("auth");return new ku(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ss,FacebookAuthProvider:Gi,GithubAuthProvider:Ro,GoogleAuthProvider:xi,OAuthProvider:mi,SAMLAuthProvider:xr,PhoneAuthProvider:_d,PhoneMultiFactorGenerator:Hl,RecaptchaVerifier:El,TwitterAuthProvider:so,Auth:ku,AuthCredential:Ir,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(Z.Z)},1135:(Nt,He,L)=>{L.d(He,{X:()=>Z});var p=L(7579);class Z extends p.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const he=super._subscribe(De);return!he.closed&&De.next(this._value),he}getValue(){const{hasError:De,thrownError:he,_value:Te}=this;if(De)throw he;return this._throwIfClosed(),Te}next(De){super.next(this._value=De)}}},8306:(Nt,He,L)=>{L.d(He,{y:()=>te});var p=L(930),Z=L(727),G=L(8822),De=L(4671);var ke=L(2416),Ie=L(576),me=L(2806);let te=(()=>{class Je{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const fe=new Je;return fe.source=this,fe.operator=pt,fe}subscribe(pt,fe,Fe){const ct=function lt(Je){return Je&&Je instanceof p.Lv||function Oe(Je){return Je&&(0,Ie.m)(Je.next)&&(0,Ie.m)(Je.error)&&(0,Ie.m)(Je.complete)}(Je)&&(0,Z.Nn)(Je)}(pt)?pt:new p.Hp(pt,fe,Fe);return(0,me.x)(()=>{const{operator:Ze,source:Ne}=this;ct.add(Ze?Ze.call(ct,Ne):Ne?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(pt){try{return this._subscribe(pt)}catch(fe){pt.error(fe)}}forEach(pt,fe){return new(fe=ae(fe))((Fe,ct)=>{let Ze;Ze=this.subscribe(Ne=>{try{pt(Ne)}catch(Ye){ct(Ye),null==Ze||Ze.unsubscribe()}},ct,Fe)})}_subscribe(pt){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(pt)}[G.L](){return this}pipe(...pt){return function Te(Je){return 0===Je.length?De.y:1===Je.length?Je[0]:function(pt){return Je.reduce((fe,Fe)=>Fe(fe),pt)}}(pt)(this)}toPromise(pt){return new(pt=ae(pt))((fe,Fe)=>{let ct;this.subscribe(Ze=>ct=Ze,Ze=>Fe(Ze),()=>fe(ct))})}}return Je.create=ht=>new Je(ht),Je})();function ae(Je){var ht;return null!==(ht=null!=Je?Je:ke.v.Promise)&&void 0!==ht?ht:Promise}},4707:(Nt,He,L)=>{L.d(He,{t:()=>G});var p=L(7579),Z=L(6063);class G extends p.x{constructor(he=1/0,Te=1/0,ke=Z.l){super(),this._bufferSize=he,this._windowTime=Te,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,Te)}next(he){const{isStopped:Te,_buffer:ke,_infiniteTimeWindow:Ie,_timestampProvider:me,_windowTime:te}=this;Te||(ke.push(he),!Ie&&ke.push(me.now()+te)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(he),{_infiniteTimeWindow:ke,_buffer:Ie}=this,me=Ie.slice();for(let te=0;te<me.length&&!he.closed;te+=ke?1:2)he.next(me[te]);return this._checkFinalizedStatuses(he),Te}_trimBuffer(){const{_bufferSize:he,_timestampProvider:Te,_buffer:ke,_infiniteTimeWindow:Ie}=this,me=(Ie?1:2)*he;if(he<1/0&&me<ke.length&&ke.splice(0,ke.length-me),!Ie){const te=Te.now();let ae=0;for(let Oe=1;Oe<ke.length&&ke[Oe]<=te;Oe+=2)ae=Oe;ae&&ke.splice(0,ae+1)}}}},7579:(Nt,He,L)=>{L.d(He,{x:()=>ke});var p=L(8306),Z=L(727);const De=(0,L(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(8737),Te=L(2806);let ke=(()=>{class me extends p.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Oe=new Ie(this,this);return Oe.operator=ae,Oe}_throwIfClosed(){if(this.closed)throw new De}next(ae){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Oe=this.observers.slice();for(const lt of Oe)lt.next(ae)}})}error(ae){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ae)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Oe,isStopped:lt,observers:Je}=this;return Oe||lt?Z.Lc:(Je.push(ae),new Z.w0(()=>(0,he.P)(Je,ae)))}_checkFinalizedStatuses(ae){const{hasError:Oe,thrownError:lt,isStopped:Je}=this;Oe?ae.error(lt):Je&&ae.complete()}asObservable(){const ae=new p.y;return ae.source=this,ae}}return me.create=(te,ae)=>new Ie(te,ae),me})();class Ie extends ke{constructor(te,ae){super(),this.destination=te,this.source=ae}next(te){var ae,Oe;null===(Oe=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Oe||Oe.call(ae,te)}error(te){var ae,Oe;null===(Oe=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Oe||Oe.call(ae,te)}complete(){var te,ae;null===(ae=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ae||ae.call(te)}_subscribe(te){var ae,Oe;return null!==(Oe=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(te))&&void 0!==Oe?Oe:Z.Lc}}},930:(Nt,He,L)=>{L.d(He,{Hp:()=>lt,Lv:()=>Oe});var p=L(576),Z=L(727),G=L(2416),De=L(7849),he=L(5032);const Te=me("C",void 0,void 0);function me(Fe,ct,Ze){return{kind:Fe,value:ct,error:Ze}}var te=L(3410),ae=L(2806);class Oe extends Z.w0{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,Z.Nn)(ct)&&ct.add(this)):this.destination=fe}static create(ct,Ze,Ne){return new lt(ct,Ze,Ne)}next(ct){this.isStopped?pt(function Ie(Fe){return me("N",Fe,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?pt(function ke(Fe){return me("E",void 0,Fe)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?pt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class lt extends Oe{constructor(ct,Ze,Ne){let Ye;if(super(),(0,p.m)(ct))Ye=ct;else if(ct){let Ge;({next:Ye,error:Ze,complete:Ne}=ct),this&&G.v.useDeprecatedNextContext?(Ge=Object.create(ct),Ge.unsubscribe=()=>this.unsubscribe()):Ge=ct,Ye=null==Ye?void 0:Ye.bind(Ge),Ze=null==Ze?void 0:Ze.bind(Ge),Ne=null==Ne?void 0:Ne.bind(Ge)}this.destination={next:Ye?Je(Ye):he.Z,error:Je(null!=Ze?Ze:ht),complete:Ne?Je(Ne):he.Z}}}function Je(Fe,ct){return(...Ze)=>{try{Fe(...Ze)}catch(Ne){G.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Ne):(0,De.h)(Ne)}}}function ht(Fe){throw Fe}function pt(Fe,ct){const{onStoppedNotification:Ze}=G.v;Ze&&te.z.setTimeout(()=>Ze(Fe,ct))}const fe={closed:!0,next:he.Z,error:ht,complete:he.Z}},727:(Nt,He,L)=>{L.d(He,{Lc:()=>Te,w0:()=>he,Nn:()=>ke});var p=L(576);const G=(0,L(3888).d)(me=>function(ae){me(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Oe,lt)=>`${lt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var De=L(8737);class he{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Je of ae)Je.remove(this);else ae.remove(this);const{initialTeardown:Oe}=this;if((0,p.m)(Oe))try{Oe()}catch(Je){te=Je instanceof G?Je.errors:[Je]}const{_teardowns:lt}=this;if(lt){this._teardowns=null;for(const Je of lt)try{Ie(Je)}catch(ht){te=null!=te?te:[],ht instanceof G?te=[...te,...ht.errors]:te.push(ht)}}if(te)throw new G(te)}}add(te){var ae;if(te&&te!==this)if(this.closed)Ie(te);else{if(te instanceof he){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._teardowns=null!==(ae=this._teardowns)&&void 0!==ae?ae:[]).push(te)}}_hasParent(te){const{_parentage:ae}=this;return ae===te||Array.isArray(ae)&&ae.includes(te)}_addParent(te){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(te),ae):ae?[ae,te]:te}_removeParent(te){const{_parentage:ae}=this;ae===te?this._parentage=null:Array.isArray(ae)&&(0,De.P)(ae,te)}remove(te){const{_teardowns:ae}=this;ae&&(0,De.P)(ae,te),te instanceof he&&te._removeParent(this)}}he.EMPTY=(()=>{const me=new he;return me.closed=!0,me})();const Te=he.EMPTY;function ke(me){return me instanceof he||me&&"closed"in me&&(0,p.m)(me.remove)&&(0,p.m)(me.add)&&(0,p.m)(me.unsubscribe)}function Ie(me){(0,p.m)(me)?me():me.unsubscribe()}},2416:(Nt,He,L)=>{L.d(He,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Nt,He,L)=>{L.d(He,{a:()=>te});var p=L(8306),Z=L(4742),G=L(8996),De=L(4671),he=L(3268),Te=L(3269),ke=L(1810),Ie=L(5403),me=L(9672);function te(...lt){const Je=(0,Te.yG)(lt),ht=(0,Te.jO)(lt),{args:pt,keys:fe}=(0,Z.D)(lt);if(0===pt.length)return(0,G.D)([],Je);const Fe=new p.y(function ae(lt,Je,ht=De.y){return pt=>{Oe(Je,()=>{const{length:fe}=lt,Fe=new Array(fe);let ct=fe,Ze=fe;for(let Ne=0;Ne<fe;Ne++)Oe(Je,()=>{const Ye=(0,G.D)(lt[Ne],Je);let Ge=!1;Ye.subscribe(new Ie.Q(pt,Le=>{Fe[Ne]=Le,Ge||(Ge=!0,Ze--),Ze||pt.next(ht(Fe.slice()))},()=>{--ct||pt.complete()}))},pt)},pt)}}(pt,Je,fe?ct=>(0,ke.n)(fe,ct):De.y));return ht?Fe.pipe((0,he.Z)(ht)):Fe}function Oe(lt,Je,ht){lt?(0,me.f)(ht,lt,Je):Je()}},7272:(Nt,He,L)=>{L.d(He,{z:()=>he});var p=L(8189),G=L(3269),De=L(8996);function he(...Te){return function Z(){return(0,p.J)(1)}()((0,De.D)(Te,(0,G.yG)(Te)))}},9770:(Nt,He,L)=>{L.d(He,{P:()=>G});var p=L(8306),Z=L(8421);function G(De){return new p.y(he=>{(0,Z.Xf)(De()).subscribe(he)})}},515:(Nt,He,L)=>{L.d(He,{E:()=>Z});const Z=new(L(8306).y)(he=>he.complete())},8996:(Nt,He,L)=>{L.d(He,{D:()=>Ye});var p=L(8421),Z=L(5363),G=L(9468),Te=L(8306),Ie=L(2202),me=L(576),te=L(9672);function Oe(Ge,Le){if(!Ge)throw new Error("Iterable cannot be null");return new Te.y(Ct=>{(0,te.f)(Ct,Le,()=>{const Ce=Ge[Symbol.asyncIterator]();(0,te.f)(Ct,Le,()=>{Ce.next().then(ne=>{ne.done?Ct.complete():Ct.next(ne.value)})},0,!0)})})}var lt=L(3670),Je=L(8239),ht=L(1144),pt=L(6495),fe=L(2206),Fe=L(4532),ct=L(3260);function Ye(Ge,Le){return Le?function Ne(Ge,Le){if(null!=Ge){if((0,lt.c)(Ge))return function De(Ge,Le){return(0,p.Xf)(Ge).pipe((0,G.R)(Le),(0,Z.Q)(Le))}(Ge,Le);if((0,ht.z)(Ge))return function ke(Ge,Le){return new Te.y(Ct=>{let Ce=0;return Le.schedule(function(){Ce===Ge.length?Ct.complete():(Ct.next(Ge[Ce++]),Ct.closed||this.schedule())})})}(Ge,Le);if((0,Je.t)(Ge))return function he(Ge,Le){return(0,p.Xf)(Ge).pipe((0,G.R)(Le),(0,Z.Q)(Le))}(Ge,Le);if((0,fe.D)(Ge))return Oe(Ge,Le);if((0,pt.T)(Ge))return function ae(Ge,Le){return new Te.y(Ct=>{let Ce;return(0,te.f)(Ct,Le,()=>{Ce=Ge[Ie.h](),(0,te.f)(Ct,Le,()=>{let ne,le;try{({value:ne,done:le}=Ce.next())}catch(ve){return void Ct.error(ve)}le?Ct.complete():Ct.next(ne)},0,!0)}),()=>(0,me.m)(null==Ce?void 0:Ce.return)&&Ce.return()})}(Ge,Le);if((0,ct.L)(Ge))return function Ze(Ge,Le){return Oe((0,ct.Q)(Ge),Le)}(Ge,Le)}throw(0,Fe.z)(Ge)}(Ge,Le):(0,p.Xf)(Ge)}},8421:(Nt,He,L)=>{L.d(He,{Xf:()=>lt});var p=L(5987),Z=L(1144),G=L(8239),De=L(8306),he=L(3670),Te=L(2206),ke=L(4532),Ie=L(6495),me=L(3260),te=L(576),ae=L(7849),Oe=L(8822);function lt(Ne){if(Ne instanceof De.y)return Ne;if(null!=Ne){if((0,he.c)(Ne))return function Je(Ne){return new De.y(Ye=>{const Ge=Ne[Oe.L]();if((0,te.m)(Ge.subscribe))return Ge.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,Z.z)(Ne))return function ht(Ne){return new De.y(Ye=>{for(let Ge=0;Ge<Ne.length&&!Ye.closed;Ge++)Ye.next(Ne[Ge]);Ye.complete()})}(Ne);if((0,G.t)(Ne))return function pt(Ne){return new De.y(Ye=>{Ne.then(Ge=>{Ye.closed||(Ye.next(Ge),Ye.complete())},Ge=>Ye.error(Ge)).then(null,ae.h)})}(Ne);if((0,Te.D)(Ne))return Fe(Ne);if((0,Ie.T)(Ne))return function fe(Ne){return new De.y(Ye=>{for(const Ge of Ne)if(Ye.next(Ge),Ye.closed)return;Ye.complete()})}(Ne);if((0,me.L)(Ne))return function ct(Ne){return Fe((0,me.Q)(Ne))}(Ne)}throw(0,ke.z)(Ne)}function Fe(Ne){return new De.y(Ye=>{(function Ze(Ne,Ye){var Ge,Le,Ct,Ce;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,p.KL)(Ne);!(Le=yield Ge.next()).done;)if(Ye.next(Le.value),Ye.closed)return}catch(ne){Ct={error:ne}}finally{try{Le&&!Le.done&&(Ce=Ge.return)&&(yield Ce.call(Ge))}finally{if(Ct)throw Ct.error}}Ye.complete()})})(Ne,Ye).catch(Ge=>Ye.error(Ge))})}},6451:(Nt,He,L)=>{L.d(He,{T:()=>Te});var p=L(8189),Z=L(8421),G=L(515),De=L(3269),he=L(8996);function Te(...ke){const Ie=(0,De.yG)(ke),me=(0,De._6)(ke,1/0),te=ke;return te.length?1===te.length?(0,Z.Xf)(te[0]):(0,p.J)(me)((0,he.D)(te,Ie)):G.E}},9646:(Nt,He,L)=>{L.d(He,{of:()=>G});var p=L(3269),Z=L(8996);function G(...De){const he=(0,p.yG)(De);return(0,Z.D)(De,he)}},5403:(Nt,He,L)=>{L.d(He,{Q:()=>Z});var p=L(930);class Z extends p.Lv{constructor(De,he,Te,ke,Ie){super(De),this.onFinalize=Ie,this._next=he?function(me){try{he(me)}catch(te){De.error(te)}}:super._next,this._error=ke?function(me){try{ke(me)}catch(te){De.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(me){De.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;const{closed:he}=this;super.unsubscribe(),!he&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}},262:(Nt,He,L)=>{L.d(He,{K:()=>De});var p=L(8421),Z=L(5403),G=L(4482);function De(he){return(0,G.e)((Te,ke)=>{let te,Ie=null,me=!1;Ie=Te.subscribe(new Z.Q(ke,void 0,void 0,ae=>{te=(0,p.Xf)(he(ae,De(he)(Te))),Ie?(Ie.unsubscribe(),Ie=null,te.subscribe(ke)):me=!0})),me&&(Ie.unsubscribe(),Ie=null,te.subscribe(ke))})}},4351:(Nt,He,L)=>{L.d(He,{b:()=>G});var p=L(5577),Z=L(576);function G(De,he){return(0,Z.m)(he)?(0,p.z)(De,he,1):(0,p.z)(De,1)}},6590:(Nt,He,L)=>{L.d(He,{d:()=>G});var p=L(4482),Z=L(5403);function G(De){return(0,p.e)((he,Te)=>{let ke=!1;he.subscribe(new Z.Q(Te,Ie=>{ke=!0,Te.next(Ie)},()=>{ke||Te.next(De),Te.complete()}))})}},1884:(Nt,He,L)=>{L.d(He,{x:()=>De});var p=L(4671),Z=L(4482),G=L(5403);function De(Te,ke=p.y){return Te=null!=Te?Te:he,(0,Z.e)((Ie,me)=>{let te,ae=!0;Ie.subscribe(new G.Q(me,Oe=>{const lt=ke(Oe);(ae||!Te(te,lt))&&(ae=!1,te=lt,me.next(Oe))}))})}function he(Te,ke){return Te===ke}},9300:(Nt,He,L)=>{L.d(He,{h:()=>G});var p=L(4482),Z=L(5403);function G(De,he){return(0,p.e)((Te,ke)=>{let Ie=0;Te.subscribe(new Z.Q(ke,me=>De.call(he,me,Ie++)&&ke.next(me)))})}},8746:(Nt,He,L)=>{L.d(He,{x:()=>Z});var p=L(4482);function Z(G){return(0,p.e)((De,he)=>{try{De.subscribe(he)}finally{he.add(G)}})}},590:(Nt,He,L)=>{L.d(He,{P:()=>ke});var p=L(6805),Z=L(9300),G=L(5698),De=L(6590),he=L(8068),Te=L(4671);function ke(Ie,me){const te=arguments.length>=2;return ae=>ae.pipe(Ie?(0,Z.h)((Oe,lt)=>Ie(Oe,lt,ae)):Te.y,(0,G.q)(1),te?(0,De.d)(me):(0,he.T)(()=>new p.K))}},4004:(Nt,He,L)=>{L.d(He,{U:()=>G});var p=L(4482),Z=L(5403);function G(De,he){return(0,p.e)((Te,ke)=>{let Ie=0;Te.subscribe(new Z.Q(ke,me=>{ke.next(De.call(he,me,Ie++))}))})}},8189:(Nt,He,L)=>{L.d(He,{J:()=>G});var p=L(5577),Z=L(4671);function G(De=1/0){return(0,p.z)(Z.y,De)}},5577:(Nt,He,L)=>{L.d(He,{z:()=>Ie});var p=L(4004),Z=L(8421),G=L(4482),De=L(9672),he=L(5403),ke=L(576);function Ie(me,te,ae=1/0){return(0,ke.m)(te)?Ie((Oe,lt)=>(0,p.U)((Je,ht)=>te(Oe,Je,lt,ht))((0,Z.Xf)(me(Oe,lt))),ae):("number"==typeof te&&(ae=te),(0,G.e)((Oe,lt)=>function Te(me,te,ae,Oe,lt,Je,ht,pt){const fe=[];let Fe=0,ct=0,Ze=!1;const Ne=()=>{Ze&&!fe.length&&!Fe&&te.complete()},Ye=Le=>Fe<Oe?Ge(Le):fe.push(Le),Ge=Le=>{Je&&te.next(Le),Fe++;let Ct=!1;(0,Z.Xf)(ae(Le,ct++)).subscribe(new he.Q(te,Ce=>{null==lt||lt(Ce),Je?Ye(Ce):te.next(Ce)},()=>{Ct=!0},void 0,()=>{if(Ct)try{for(Fe--;fe.length&&Fe<Oe;){const Ce=fe.shift();ht?(0,De.f)(te,ht,()=>Ge(Ce)):Ge(Ce)}Ne()}catch(Ce){te.error(Ce)}}))};return me.subscribe(new he.Q(te,Ye,()=>{Ze=!0,Ne()})),()=>{null==pt||pt()}}(Oe,lt,me,ae)))}},5363:(Nt,He,L)=>{L.d(He,{Q:()=>De});var p=L(9672),Z=L(4482),G=L(5403);function De(he,Te=0){return(0,Z.e)((ke,Ie)=>{ke.subscribe(new G.Q(Ie,me=>(0,p.f)(Ie,he,()=>Ie.next(me),Te),()=>(0,p.f)(Ie,he,()=>Ie.complete(),Te),me=>(0,p.f)(Ie,he,()=>Ie.error(me),Te)))})}},1520:(Nt,He,L)=>{L.d(He,{G:()=>G});var p=L(4482),Z=L(5403);function G(){return(0,p.e)((De,he)=>{let Te,ke=!1;De.subscribe(new Z.Q(he,Ie=>{const me=Te;Te=Ie,ke&&he.next([me,Ie]),ke=!0}))})}},5026:(Nt,He,L)=>{L.d(He,{R:()=>De});var p=L(4482),Z=L(5403);function G(he,Te,ke,Ie,me){return(te,ae)=>{let Oe=ke,lt=Te,Je=0;te.subscribe(new Z.Q(ae,ht=>{const pt=Je++;lt=Oe?he(lt,ht,pt):(Oe=!0,ht),Ie&&ae.next(lt)},me&&(()=>{Oe&&ae.next(lt),ae.complete()})))}}function De(he,Te){return(0,p.e)(G(he,Te,arguments.length>=2,!0))}},3099:(Nt,He,L)=>{L.d(He,{B:()=>Te});var p=L(8996),Z=L(5698),G=L(7579),De=L(930),he=L(4482);function Te(Ie={}){const{connector:me=(()=>new G.x),resetOnError:te=!0,resetOnComplete:ae=!0,resetOnRefCountZero:Oe=!0}=Ie;return lt=>{let Je=null,ht=null,pt=null,fe=0,Fe=!1,ct=!1;const Ze=()=>{null==ht||ht.unsubscribe(),ht=null},Ne=()=>{Ze(),Je=pt=null,Fe=ct=!1},Ye=()=>{const Ge=Je;Ne(),null==Ge||Ge.unsubscribe()};return(0,he.e)((Ge,Le)=>{fe++,!ct&&!Fe&&Ze();const Ct=pt=null!=pt?pt:me();Le.add(()=>{fe--,0===fe&&!ct&&!Fe&&(ht=ke(Ye,Oe))}),Ct.subscribe(Le),Je||(Je=new De.Hp({next:Ce=>Ct.next(Ce),error:Ce=>{ct=!0,Ze(),ht=ke(Ne,te,Ce),Ct.error(Ce)},complete:()=>{Fe=!0,Ze(),ht=ke(Ne,ae),Ct.complete()}}),(0,p.D)(Ge).subscribe(Je))})(lt)}}function ke(Ie,me,...te){return!0===me?(Ie(),null):!1===me?null:me(...te).pipe((0,Z.q)(1)).subscribe(()=>Ie())}},4782:(Nt,He,L)=>{L.d(He,{d:()=>G});var p=L(4707),Z=L(3099);function G(De,he,Te){var ke,Ie;let me,te=!1;return De&&"object"==typeof De?(me=null!==(ke=De.bufferSize)&&void 0!==ke?ke:1/0,he=null!==(Ie=De.windowTime)&&void 0!==Ie?Ie:1/0,te=!!De.refCount,Te=De.scheduler):me=null!=De?De:1/0,(0,Z.B)({connector:()=>new p.t(me,he,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:te})}},8675:(Nt,He,L)=>{L.d(He,{O:()=>De});var p=L(7272),Z=L(3269),G=L(4482);function De(...he){const Te=(0,Z.yG)(he);return(0,G.e)((ke,Ie)=>{(Te?(0,p.z)(he,ke,Te):(0,p.z)(he,ke)).subscribe(Ie)})}},9468:(Nt,He,L)=>{L.d(He,{R:()=>Z});var p=L(4482);function Z(G,De=0){return(0,p.e)((he,Te)=>{Te.add(G.schedule(()=>he.subscribe(Te),De))})}},3900:(Nt,He,L)=>{L.d(He,{w:()=>De});var p=L(8421),Z=L(4482),G=L(5403);function De(he,Te){return(0,Z.e)((ke,Ie)=>{let me=null,te=0,ae=!1;const Oe=()=>ae&&!me&&Ie.complete();ke.subscribe(new G.Q(Ie,lt=>{null==me||me.unsubscribe();let Je=0;const ht=te++;(0,p.Xf)(he(lt,ht)).subscribe(me=new G.Q(Ie,pt=>Ie.next(Te?Te(lt,pt,ht,Je++):pt),()=>{me=null,Oe()}))},()=>{ae=!0,Oe()}))})}},5698:(Nt,He,L)=>{L.d(He,{q:()=>De});var p=L(515),Z=L(4482),G=L(5403);function De(he){return he<=0?()=>p.E:(0,Z.e)((Te,ke)=>{let Ie=0;Te.subscribe(new G.Q(ke,me=>{++Ie<=he&&(ke.next(me),he<=Ie&&ke.complete())}))})}},8505:(Nt,He,L)=>{L.d(He,{b:()=>he});var p=L(576),Z=L(4482),G=L(5403),De=L(4671);function he(Te,ke,Ie){const me=(0,p.m)(Te)||ke||Ie?{next:Te,error:ke,complete:Ie}:Te;return me?(0,Z.e)((te,ae)=>{var Oe;null===(Oe=me.subscribe)||void 0===Oe||Oe.call(me);let lt=!0;te.subscribe(new G.Q(ae,Je=>{var ht;null===(ht=me.next)||void 0===ht||ht.call(me,Je),ae.next(Je)},()=>{var Je;lt=!1,null===(Je=me.complete)||void 0===Je||Je.call(me),ae.complete()},Je=>{var ht;lt=!1,null===(ht=me.error)||void 0===ht||ht.call(me,Je),ae.error(Je)},()=>{var Je,ht;lt&&(null===(Je=me.unsubscribe)||void 0===Je||Je.call(me)),null===(ht=me.finalize)||void 0===ht||ht.call(me)}))}):De.y}},8068:(Nt,He,L)=>{L.d(He,{T:()=>De});var p=L(6805),Z=L(4482),G=L(5403);function De(Te=he){return(0,Z.e)((ke,Ie)=>{let me=!1;ke.subscribe(new G.Q(Ie,te=>{me=!0,Ie.next(te)},()=>me?Ie.complete():Ie.error(Te())))})}function he(){return new p.K}},4408:(Nt,He,L)=>{L.d(He,{o:()=>he});var p=L(727);class Z extends p.w0{constructor(ke,Ie){super()}schedule(ke,Ie=0){return this}}const G={setInterval(...Te){const{delegate:ke}=G;return((null==ke?void 0:ke.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:ke}=G;return((null==ke?void 0:ke.clearInterval)||clearInterval)(Te)},delegate:void 0};var De=L(8737);class he extends Z{constructor(ke,Ie){super(ke,Ie),this.scheduler=ke,this.work=Ie,this.pending=!1}schedule(ke,Ie=0){if(this.closed)return this;this.state=ke;const me=this.id,te=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(te,me,Ie)),this.pending=!0,this.delay=Ie,this.id=this.id||this.requestAsyncId(te,this.id,Ie),this}requestAsyncId(ke,Ie,me=0){return G.setInterval(ke.flush.bind(ke,this),me)}recycleAsyncId(ke,Ie,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Ie;G.clearInterval(Ie)}execute(ke,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ke,Ie);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Ie){let te,me=!1;try{this.work(ke)}catch(ae){me=!0,te=ae||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Ie}=this,{actions:me}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(me,this),null!=ke&&(this.id=this.recycleAsyncId(Ie,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,He,L)=>{L.d(He,{v:()=>G});var p=L(6063);class Z{constructor(he,Te=Z.now){this.schedulerActionCtor=he,this.now=Te}schedule(he,Te=0,ke){return new this.schedulerActionCtor(this,he).schedule(ke,Te)}}Z.now=p.l.now;class G extends Z{constructor(he,Te=Z.now){super(he,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:Te}=this;if(this._active)return void Te.push(he);let ke;this._active=!0;do{if(ke=he.execute(he.state,he.delay))break}while(he=Te.shift());if(this._active=!1,ke){for(;he=Te.shift();)he.unsubscribe();throw ke}}}},4986:(Nt,He,L)=>{L.d(He,{P:()=>De,z:()=>G});var p=L(4408);const G=new(L(7565).v)(p.o),De=G},6063:(Nt,He,L)=>{L.d(He,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Nt,He,L)=>{L.d(He,{z:()=>p});const p={setTimeout(...Z){const{delegate:G}=p;return((null==G?void 0:G.setTimeout)||setTimeout)(...Z)},clearTimeout(Z){const{delegate:G}=p;return((null==G?void 0:G.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(Nt,He,L)=>{L.d(He,{h:()=>Z});const Z=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,He,L)=>{L.d(He,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Nt,He,L)=>{L.d(He,{K:()=>Z});const Z=(0,L(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Nt,He,L)=>{L.d(He,{_6:()=>Te,jO:()=>De,yG:()=>he});var p=L(576),Z=L(3532);function G(ke){return ke[ke.length-1]}function De(ke){return(0,p.m)(G(ke))?ke.pop():void 0}function he(ke){return(0,Z.K)(G(ke))?ke.pop():void 0}function Te(ke,Ie){return"number"==typeof G(ke)?ke.pop():Ie}},4742:(Nt,He,L)=>{L.d(He,{D:()=>he});const{isArray:p}=Array,{getPrototypeOf:Z,prototype:G,keys:De}=Object;function he(ke){if(1===ke.length){const Ie=ke[0];if(p(Ie))return{args:Ie,keys:null};if(function Te(ke){return ke&&"object"==typeof ke&&Z(ke)===G}(Ie)){const me=De(Ie);return{args:me.map(te=>Ie[te]),keys:me}}}return{args:ke,keys:null}}},8737:(Nt,He,L)=>{function p(Z,G){if(Z){const De=Z.indexOf(G);0<=De&&Z.splice(De,1)}}L.d(He,{P:()=>p})},3888:(Nt,He,L)=>{function p(Z){const De=Z(he=>{Error.call(he),he.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}L.d(He,{d:()=>p})},1810:(Nt,He,L)=>{function p(Z,G){return Z.reduce((De,he,Te)=>(De[he]=G[Te],De),{})}L.d(He,{n:()=>p})},2806:(Nt,He,L)=>{L.d(He,{O:()=>De,x:()=>G});var p=L(2416);let Z=null;function G(he){if(p.v.useDeprecatedSynchronousErrorHandling){const Te=!Z;if(Te&&(Z={errorThrown:!1,error:null}),he(),Te){const{errorThrown:ke,error:Ie}=Z;if(Z=null,ke)throw Ie}}else he()}function De(he){p.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=he)}},9672:(Nt,He,L)=>{function p(Z,G,De,he=0,Te=!1){const ke=G.schedule(function(){De(),Te?Z.add(this.schedule(null,he)):this.unsubscribe()},he);if(Z.add(ke),!Te)return ke}L.d(He,{f:()=>p})},4671:(Nt,He,L)=>{function p(Z){return Z}L.d(He,{y:()=>p})},1144:(Nt,He,L)=>{L.d(He,{z:()=>p});const p=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(Nt,He,L)=>{L.d(He,{D:()=>Z});var p=L(576);function Z(G){return Symbol.asyncIterator&&(0,p.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Nt,He,L)=>{function p(Z){return"function"==typeof Z}L.d(He,{m:()=>p})},3670:(Nt,He,L)=>{L.d(He,{c:()=>G});var p=L(8822),Z=L(576);function G(De){return(0,Z.m)(De[p.L])}},6495:(Nt,He,L)=>{L.d(He,{T:()=>G});var p=L(2202),Z=L(576);function G(De){return(0,Z.m)(null==De?void 0:De[p.h])}},8239:(Nt,He,L)=>{L.d(He,{t:()=>Z});var p=L(576);function Z(G){return(0,p.m)(null==G?void 0:G.then)}},3260:(Nt,He,L)=>{L.d(He,{L:()=>De,Q:()=>G});var p=L(5987),Z=L(576);function G(he){return(0,p.FC)(this,arguments,function*(){const ke=he.getReader();try{for(;;){const{value:Ie,done:me}=yield(0,p.qq)(ke.read());if(me)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ie)}}finally{ke.releaseLock()}})}function De(he){return(0,Z.m)(null==he?void 0:he.getReader)}},3532:(Nt,He,L)=>{L.d(He,{K:()=>Z});var p=L(576);function Z(G){return G&&(0,p.m)(G.schedule)}},4482:(Nt,He,L)=>{L.d(He,{A:()=>Z,e:()=>G});var p=L(576);function Z(De){return(0,p.m)(null==De?void 0:De.lift)}function G(De){return he=>{if(Z(he))return he.lift(function(Te){try{return De(Te,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Nt,He,L)=>{L.d(He,{Z:()=>De});var p=L(4004);const{isArray:Z}=Array;function De(he){return(0,p.U)(Te=>function G(he,Te){return Z(Te)?he(...Te):he(Te)}(he,Te))}},5032:(Nt,He,L)=>{function p(){}L.d(He,{Z:()=>p})},7849:(Nt,He,L)=>{L.d(He,{h:()=>G});var p=L(2416),Z=L(3410);function G(De){Z.z.setTimeout(()=>{const{onUnhandledError:he}=p.v;if(!he)throw De;he(De)})}},4532:(Nt,He,L)=>{function p(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(He,{z:()=>p})},5987:(Nt,He,L)=>{function Ie(ne,le,ve,Se){return new(ve||(ve=Promise))(function(_e,xt){function en(Bt){try{Dt(Se.next(Bt))}catch(Vt){xt(Vt)}}function Jt(Bt){try{Dt(Se.throw(Bt))}catch(Vt){xt(Vt)}}function Dt(Bt){Bt.done?_e(Bt.value):function je(_e){return _e instanceof ve?_e:new ve(function(xt){xt(_e)})}(Bt.value).then(en,Jt)}Dt((Se=Se.apply(ne,le||[])).next())})}function fe(ne){return this instanceof fe?(this.v=ne,this):new fe(ne)}function Fe(ne,le,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Se=ve.apply(ne,le||[]),_e=[];return je={},xt("next"),xt("throw"),xt("return"),je[Symbol.asyncIterator]=function(){return this},je;function xt(sn){Se[sn]&&(je[sn]=function(gr){return new Promise(function(pr,Jn){_e.push([sn,gr,pr,Jn])>1||en(sn,gr)})})}function en(sn,gr){try{!function Jt(sn){sn.value instanceof fe?Promise.resolve(sn.value.v).then(Dt,Bt):Vt(_e[0][2],sn)}(Se[sn](gr))}catch(pr){Vt(_e[0][3],pr)}}function Dt(sn){en("next",sn)}function Bt(sn){en("throw",sn)}function Vt(sn,gr){sn(gr),_e.shift(),_e.length&&en(_e[0][0],_e[0][1])}}function Ze(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,le=ne[Symbol.asyncIterator];return le?le.call(ne):(ne=function Oe(ne){var le="function"==typeof Symbol&&Symbol.iterator,ve=le&&ne[le],Se=0;if(ve)return ve.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Se>=ne.length&&(ne=void 0),{value:ne&&ne[Se++],done:!ne}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ve={},Se("next"),Se("throw"),Se("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Se(_e){ve[_e]=ne[_e]&&function(xt){return new Promise(function(en,Jt){!function je(_e,xt,en,Jt){Promise.resolve(Jt).then(function(Dt){_e({value:Dt,done:en})},xt)}(en,Jt,(xt=ne[_e](xt)).done,xt.value)})}}}L.d(He,{FC:()=>Fe,KL:()=>Ze,mG:()=>Ie,qq:()=>fe})},655:(Nt,He,L)=>{function De(ne,le){var ve={};for(var Se in ne)Object.prototype.hasOwnProperty.call(ne,Se)&&le.indexOf(Se)<0&&(ve[Se]=ne[Se]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Se=Object.getOwnPropertySymbols(ne);je<Se.length;je++)le.indexOf(Se[je])<0&&Object.prototype.propertyIsEnumerable.call(ne,Se[je])&&(ve[Se[je]]=ne[Se[je]])}return ve}function he(ne,le,ve,Se){var xt,je=arguments.length,_e=je<3?le:null===Se?Se=Object.getOwnPropertyDescriptor(le,ve):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ne,le,ve,Se);else for(var en=ne.length-1;en>=0;en--)(xt=ne[en])&&(_e=(je<3?xt(_e):je>3?xt(le,ve,_e):xt(le,ve))||_e);return je>3&&_e&&Object.defineProperty(le,ve,_e),_e}function Ie(ne,le,ve,Se){return new(ve||(ve=Promise))(function(_e,xt){function en(Bt){try{Dt(Se.next(Bt))}catch(Vt){xt(Vt)}}function Jt(Bt){try{Dt(Se.throw(Bt))}catch(Vt){xt(Vt)}}function Dt(Bt){Bt.done?_e(Bt.value):function je(_e){return _e instanceof ve?_e:new ve(function(xt){xt(_e)})}(Bt.value).then(en,Jt)}Dt((Se=Se.apply(ne,le||[])).next())})}L.d(He,{_T:()=>De,gn:()=>he,mG:()=>Ie})},1777:(Nt,He,L)=>{L.d(He,{EY:()=>pt,IO:()=>ht,LC:()=>Z,SB:()=>me,X$:()=>De,ZE:()=>ct,ZN:()=>Fe,_j:()=>p,eR:()=>ae,jt:()=>he,k1:()=>Ze,l3:()=>G,oB:()=>Ie,vP:()=>ke});class p{}class Z{}const G="*";function De(Ne,Ye){return{type:7,name:Ne,definitions:Ye,options:{}}}function he(Ne,Ye=null){return{type:4,styles:Ye,timings:Ne}}function ke(Ne,Ye=null){return{type:2,steps:Ne,options:Ye}}function Ie(Ne){return{type:6,styles:Ne,offset:null}}function me(Ne,Ye,Ge){return{type:0,name:Ne,styles:Ye,options:Ge}}function ae(Ne,Ye,Ge=null){return{type:1,expr:Ne,animation:Ye,options:Ge}}function ht(Ne,Ye,Ge=null){return{type:11,selector:Ne,animation:Ye,options:Ge}}function pt(Ne,Ye){return{type:12,timings:Ne,animation:Ye}}function fe(Ne){Promise.resolve(null).then(Ne)}class Fe{constructor(Ye=0,Ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ye+Ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ye=>Ye()),this._onDoneFns=[])}onStart(Ye){this._onStartFns.push(Ye)}onDone(Ye){this._onDoneFns.push(Ye)}onDestroy(Ye){this._onDestroyFns.push(Ye)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ye=>Ye()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ye=>Ye()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ye){this._position=this.totalTime?Ye*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ye){const Ge="start"==Ye?this._onStartFns:this._onDoneFns;Ge.forEach(Le=>Le()),Ge.length=0}}class ct{constructor(Ye){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ye;let Ge=0,Le=0,Ct=0;const Ce=this.players.length;0==Ce?fe(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++Ge==Ce&&this._onFinish()}),ne.onDestroy(()=>{++Le==Ce&&this._onDestroy()}),ne.onStart(()=>{++Ct==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((ne,le)=>Math.max(ne,le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ye=>Ye()),this._onDoneFns=[])}init(){this.players.forEach(Ye=>Ye.init())}onStart(Ye){this._onStartFns.push(Ye)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ye=>Ye()),this._onStartFns=[])}onDone(Ye){this._onDoneFns.push(Ye)}onDestroy(Ye){this._onDestroyFns.push(Ye)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ye=>Ye.play())}pause(){this.players.forEach(Ye=>Ye.pause())}restart(){this.players.forEach(Ye=>Ye.restart())}finish(){this._onFinish(),this.players.forEach(Ye=>Ye.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ye=>Ye.destroy()),this._onDestroyFns.forEach(Ye=>Ye()),this._onDestroyFns=[])}reset(){this.players.forEach(Ye=>Ye.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ye){const Ge=Ye*this.totalTime;this.players.forEach(Le=>{const Ct=Le.totalTime?Math.min(1,Ge/Le.totalTime):1;Le.setPosition(Ct)})}getPosition(){const Ye=this.players.reduce((Ge,Le)=>null===Ge||Le.totalTime>Ge.totalTime?Le:Ge,null);return null!=Ye?Ye.getPosition():0}beforeDestroy(){this.players.forEach(Ye=>{Ye.beforeDestroy&&Ye.beforeDestroy()})}triggerCallback(Ye){const Ge="start"==Ye?this._onStartFns:this._onDoneFns;Ge.forEach(Le=>Le()),Ge.length=0}}const Ze="!"},9808:(Nt,He,L)=>{L.d(He,{Do:()=>Ne,ED:()=>Yr,EM:()=>go,HT:()=>he,JF:()=>Go,JJ:()=>zi,K0:()=>ke,Mx:()=>yn,NF:()=>Fo,O5:()=>Bi,PC:()=>Qr,PM:()=>ar,RF:()=>Zr,S$:()=>fe,V_:()=>te,Ye:()=>Ye,b0:()=>Ze,bD:()=>ki,ez:()=>mo,lw:()=>Ie,mk:()=>co,mr:()=>ct,n9:()=>fi,q:()=>G,qS:()=>io,sg:()=>ji,tP:()=>ho,w_:()=>Te});var p=L(5e3);let Z=null;function G(){return Z}function he(k){Z||(Z=k)}class Te{}const ke=new p.OlP("DocumentToken");let Ie=(()=>{class k{historyGo(M){throw new Error("Not implemented")}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275prov=p.Yz7({token:k,factory:function(){return function me(){return(0,p.LFG)(ae)}()},providedIn:"platform"}),k})();const te=new p.OlP("Location Initialized");let ae=(()=>{class k extends Ie{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(M){const Q=G().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",M,!1),()=>Q.removeEventListener("popstate",M)}onHashChange(M){const Q=G().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",M,!1),()=>Q.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,Q,Ee){Oe()?this._history.pushState(M,Q,Ee):this.location.hash=Ee}replaceState(M,Q,Ee){Oe()?this._history.replaceState(M,Q,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return k.\u0275fac=function(M){return new(M||k)(p.LFG(ke))},k.\u0275prov=p.Yz7({token:k,factory:function(){return function lt(){return new ae((0,p.LFG)(ke))}()},providedIn:"platform"}),k})();function Oe(){return!!window.history.pushState}function Je(k,K){if(0==k.length)return K;if(0==K.length)return k;let M=0;return k.endsWith("/")&&M++,K.startsWith("/")&&M++,2==M?k+K.substring(1):1==M?k+K:k+"/"+K}function ht(k){const K=k.match(/#|\?|$/),M=K&&K.index||k.length;return k.slice(0,M-("/"===k[M-1]?1:0))+k.slice(M)}function pt(k){return k&&"?"!==k[0]?"?"+k:k}let fe=(()=>{class k{historyGo(M){throw new Error("Not implemented")}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275prov=p.Yz7({token:k,factory:function(){return function Fe(k){const K=(0,p.LFG)(ke).location;return new Ze((0,p.LFG)(Ie),K&&K.origin||"")}()},providedIn:"root"}),k})();const ct=new p.OlP("appBaseHref");let Ze=(()=>{class k extends fe{constructor(M,Q){if(super(),this._platformLocation=M,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Je(this._baseHref,M)}path(M=!1){const Q=this._platformLocation.pathname+pt(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&M?`${Q}${Ee}`:Q}pushState(M,Q,Ee,nt){const yt=this.prepareExternalUrl(Ee+pt(nt));this._platformLocation.pushState(M,Q,yt)}replaceState(M,Q,Ee,nt){const yt=this.prepareExternalUrl(Ee+pt(nt));this._platformLocation.replaceState(M,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(M=0){var Q,Ee;null===(Ee=(Q=this._platformLocation).historyGo)||void 0===Ee||Ee.call(Q,M)}}return k.\u0275fac=function(M){return new(M||k)(p.LFG(Ie),p.LFG(ct,8))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})(),Ne=(()=>{class k extends fe{constructor(M,Q){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(M){const Q=Je(this._baseHref,M);return Q.length>0?"#"+Q:Q}pushState(M,Q,Ee,nt){let yt=this.prepareExternalUrl(Ee+pt(nt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(M,Q,yt)}replaceState(M,Q,Ee,nt){let yt=this.prepareExternalUrl(Ee+pt(nt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(M,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(M=0){var Q,Ee;null===(Ee=(Q=this._platformLocation).historyGo)||void 0===Ee||Ee.call(Q,M)}}return k.\u0275fac=function(M){return new(M||k)(p.LFG(Ie),p.LFG(ct,8))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})(),Ye=(()=>{class k{constructor(M,Q){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=M;const Ee=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=ht(Ct(Ee)),this._platformStrategy.onPopState(nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:nt.state,type:nt.type})})}path(M=!1){return this.normalize(this._platformStrategy.path(M))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(M,Q=""){return this.path()==this.normalize(M+pt(Q))}normalize(M){return k.stripTrailingSlash(function Le(k,K){return k&&K.startsWith(k)?K.substring(k.length):K}(this._baseHref,Ct(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._platformStrategy.prepareExternalUrl(M)}go(M,Q="",Ee=null){this._platformStrategy.pushState(Ee,"",M,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+pt(Q)),Ee)}replaceState(M,Q="",Ee=null){this._platformStrategy.replaceState(Ee,"",M,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+pt(Q)),Ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(M=0){var Q,Ee;null===(Ee=(Q=this._platformStrategy).historyGo)||void 0===Ee||Ee.call(Q,M)}onUrlChange(M){this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(M="",Q){this._urlChangeListeners.forEach(Ee=>Ee(M,Q))}subscribe(M,Q,Ee){return this._subject.subscribe({next:M,error:Q,complete:Ee})}}return k.normalizeQueryParams=pt,k.joinWithSlash=Je,k.stripTrailingSlash=ht,k.\u0275fac=function(M){return new(M||k)(p.LFG(fe),p.LFG(Ie))},k.\u0275prov=p.Yz7({token:k,factory:function(){return function Ge(){return new Ye((0,p.LFG)(fe),(0,p.LFG)(Ie))}()},providedIn:"root"}),k})();function Ct(k){return k.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne))(),le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function Dn(k,K){const M=(0,p.cg1)(k),Q=M[p.wAp.NumberSymbols][K];if(void 0===Q){if(K===_e.CurrencyDecimal)return M[p.wAp.NumberSymbols][_e.Decimal];if(K===_e.CurrencyGroup)return M[p.wAp.NumberSymbols][_e.Group]}return Q}const Pn=p.kL8,rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tr(k){const K=parseInt(k);if(isNaN(K))throw new Error("Invalid integer literal when parsing "+k);return K}class Ir{}let Ai=(()=>{class k extends Ir{constructor(M){super(),this.locale=M}getPluralCategory(M,Q){switch(Pn(Q||this.locale)(M)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return k.\u0275fac=function(M){return new(M||k)(p.LFG(p.soG))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function io(k,K,M){return(0,p.dwT)(k,K,M)}function yn(k,K){K=encodeURIComponent(K);for(const M of k.split(";")){const Q=M.indexOf("="),[Ee,nt]=-1==Q?[M,""]:[M.slice(0,Q),M.slice(Q+1)];if(Ee.trim()===K)return decodeURIComponent(nt)}return null}let co=(()=>{class k{constructor(M,Q,Ee,nt){this._iterableDiffers=M,this._keyValueDiffers=Q,this._ngEl=Ee,this._renderer=nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),M.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),M.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),M.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(M).forEach(Q=>this._toggleClass(Q,!!M[Q])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(M).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(M,Q){(M=M.trim())&&M.split(/\s+/g).forEach(Ee=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),k})();class uo{constructor(K,M,Q,Ee){this.$implicit=K,this.ngForOf=M,this.index=Q,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ji=(()=>{class k{constructor(M,Q,Ee){this._viewContainer=M,this._template=Q,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;if(!this._differ&&M)try{this._differ=this._differs.find(M).create(this.ngForTrackBy)}catch(Q){throw new Error(`Cannot find a differ supporting object '${M}' of type '${function hi(k){return k.name||typeof k}(M)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const Q=[];M.forEachOperation((Ee,nt,yt)=>{if(null==Ee.previousIndex){const Ot=this._viewContainer.createEmbeddedView(this._template,new uo(null,this._ngForOf,-1,-1),null===yt?void 0:yt),R=new Pr(Ee,Ot);Q.push(R)}else if(null==yt)this._viewContainer.remove(null===nt?void 0:nt);else if(null!==nt){const Ot=this._viewContainer.get(nt);this._viewContainer.move(Ot,yt);const R=new Pr(Ee,Ot);Q.push(R)}});for(let Ee=0;Ee<Q.length;Ee++)this._perViewChange(Q[Ee].view,Q[Ee].record);for(let Ee=0,nt=this._viewContainer.length;Ee<nt;Ee++){const yt=this._viewContainer.get(Ee);yt.context.index=Ee,yt.context.count=nt,yt.context.ngForOf=this._ngForOf}M.forEachIdentityChange(Ee=>{this._viewContainer.get(Ee.currentIndex).context.$implicit=Ee.item})}_perViewChange(M,Q){M.context.$implicit=Q.item}static ngTemplateContextGuard(M,Q){return!0}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();class Pr{constructor(K,M){this.record=K,this.view=M}}let Bi=(()=>{class k{constructor(M,Q){this._viewContainer=M,this._context=new jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){nr("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){nr("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,Q){return!0}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.s_b),p.Y36(p.Rgc))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class jr{constructor(){this.$implicit=null,this.ngIf=null}}function nr(k,K){if(K&&!K.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,p.AaK)(K)}'.`)}class Hi{constructor(K,M){this._viewContainerRef=K,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let Zr=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(M)}_matchCase(M){const Q=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(M){if(this._defaultViews&&M!==this._defaultUsed){this._defaultUsed=M;for(let Q=0;Q<this._defaultViews.length;Q++)this._defaultViews[Q].enforceState(M)}}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275dir=p.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),k})(),fi=(()=>{class k{constructor(M,Q,Ee){this.ngSwitch=Ee,Ee._addCase(),this._view=new Hi(M,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Zr,9))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),k})(),Yr=(()=>{class k{constructor(M,Q,Ee){Ee._addDefault(new Hi(M,Q))}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Zr,9))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngSwitchDefault",""]]}),k})(),Qr=(()=>{class k{constructor(M,Q,Ee){this._ngEl=M,this._differs=Q,this._renderer=Ee,this._ngStyle=null,this._differ=null}set ngStyle(M){this._ngStyle=M,!this._differ&&M&&(this._differ=this._differs.find(M).create())}ngDoCheck(){if(this._differ){const M=this._differ.diff(this._ngStyle);M&&this._applyChanges(M)}}_setStyle(M,Q){const[Ee,nt]=M.split(".");null!=(Q=null!=Q&&nt?`${Q}${nt}`:Q)?this._renderer.setStyle(this._ngEl.nativeElement,Ee,Q):this._renderer.removeStyle(this._ngEl.nativeElement,Ee)}_applyChanges(M){M.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),M.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),M.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),k})(),ho=(()=>{class k{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(M){if(M.ngTemplateOutlet){const Q=this._viewContainerRef;this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Q.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.s_b))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),k})();let zi=(()=>{class k{constructor(M){this._locale=M}transform(M,Q,Ee){if(!function Gi(k){return!(null==k||""===k||k!=k)}(M))return null;Ee=Ee||this._locale;try{return function Ht(k,K,M){return function Un(k,K,M,Q,Ee,nt,yt=!1){let Ot="",R=!1;if(isFinite(k)){let x=function kr(k){let Q,Ee,nt,yt,Ot,K=Math.abs(k)+"",M=0;for((Ee=K.indexOf("."))>-1&&(K=K.replace(".","")),(nt=K.search(/e/i))>0?(Ee<0&&(Ee=nt),Ee+=+K.slice(nt+1),K=K.substring(0,nt)):Ee<0&&(Ee=K.length),nt=0;"0"===K.charAt(nt);nt++);if(nt===(Ot=K.length))Q=[0],Ee=1;else{for(Ot--;"0"===K.charAt(Ot);)Ot--;for(Ee-=nt,Q=[],yt=0;nt<=Ot;nt++,yt++)Q[yt]=Number(K.charAt(nt))}return Ee>22&&(Q=Q.splice(0,21),M=Ee-1,Ee=1),{digits:Q,exponent:M,integerLen:Ee}}(k);yt&&(x=function Zn(k){if(0===k.digits[0])return k;const K=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===K?k.digits.push(0,0):1===K&&k.digits.push(0),k.integerLen+=2),k}(x));let I=K.minInt,W=K.minFrac,qe=K.maxFrac;if(nt){const ai=nt.match(rt);if(null===ai)throw new Error(`${nt} is not a valid digit info`);const Oi=ai[1],ao=ai[3],Is=ai[5];null!=Oi&&(I=tr(Oi)),null!=ao&&(W=tr(ao)),null!=Is?qe=tr(Is):null!=ao&&W>qe&&(qe=W)}!function Pi(k,K,M){if(K>M)throw new Error(`The minimum number of digits after fraction (${K}) is higher than the maximum (${M}).`);let Q=k.digits,Ee=Q.length-k.integerLen;const nt=Math.min(Math.max(K,Ee),M);let yt=nt+k.integerLen,Ot=Q[yt];if(yt>0){Q.splice(Math.max(k.integerLen,yt));for(let W=yt;W<Q.length;W++)Q[W]=0}else{Ee=Math.max(0,Ee),k.integerLen=1,Q.length=Math.max(1,yt=nt+1),Q[0]=0;for(let W=1;W<yt;W++)Q[W]=0}if(Ot>=5)if(yt-1<0){for(let W=0;W>yt;W--)Q.unshift(0),k.integerLen++;Q.unshift(1),k.integerLen++}else Q[yt-1]++;for(;Ee<Math.max(0,nt);Ee++)Q.push(0);let R=0!==nt;const x=K+k.integerLen,I=Q.reduceRight(function(W,qe,Rt,vn){return vn[Rt]=(qe+=W)<10?qe:qe-10,R&&(0===vn[Rt]&&Rt>=x?vn.pop():R=!1),qe>=10?1:0},0);I&&(Q.unshift(I),k.integerLen++)}(x,W,qe);let Rt=x.digits,vn=x.integerLen;const $t=x.exponent;let Gr=[];for(R=Rt.every(ai=>!ai);vn<I;vn++)Rt.unshift(0);for(;vn<0;vn++)Rt.unshift(0);vn>0?Gr=Rt.splice(vn,Rt.length):(Gr=Rt,Rt=[0]);const gi=[];for(Rt.length>=K.lgSize&&gi.unshift(Rt.splice(-K.lgSize,Rt.length).join(""));Rt.length>K.gSize;)gi.unshift(Rt.splice(-K.gSize,Rt.length).join(""));Rt.length&&gi.unshift(Rt.join("")),Ot=gi.join(Dn(M,Q)),Gr.length&&(Ot+=Dn(M,Ee)+Gr.join("")),$t&&(Ot+=Dn(M,_e.Exponential)+"+"+$t)}else Ot=Dn(M,_e.Infinity);return Ot=k<0&&!R?K.negPre+Ot+K.negSuf:K.posPre+Ot+K.posSuf,Ot}(k,function Cn(k,K="-"){const M={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Q=k.split(";"),Ee=Q[0],nt=Q[1],yt=-1!==Ee.indexOf(".")?Ee.split("."):[Ee.substring(0,Ee.lastIndexOf("0")+1),Ee.substring(Ee.lastIndexOf("0")+1)],Ot=yt[0],R=yt[1]||"";M.posPre=Ot.substr(0,Ot.indexOf("#"));for(let I=0;I<R.length;I++){const W=R.charAt(I);"0"===W?M.minFrac=M.maxFrac=I+1:"#"===W?M.maxFrac=I+1:M.posSuf+=W}const x=Ot.split(",");if(M.gSize=x[1]?x[1].length:0,M.lgSize=x[2]||x[1]?(x[2]||x[1]).length:0,nt){const I=Ee.length-M.posPre.length-M.posSuf.length,W=nt.indexOf("#");M.negPre=nt.substr(0,W).replace(/'/g,""),M.negSuf=nt.substr(W+I).replace(/'/g,"")}else M.negPre=K+M.posPre,M.negSuf=M.posSuf;return M}(function Wn(k,K){return(0,p.cg1)(k)[p.wAp.NumberFormats][K]}(K,ne.Decimal),Dn(K,_e.MinusSign)),K,_e.Group,_e.Decimal,M)}(function xi(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}(M),Ee,Q)}catch(nt){throw function cr(k,K){return Error(`InvalidPipeArgument: '${K}' for pipe '${(0,p.AaK)(k)}'`)}(k,nt.message)}}}return k.\u0275fac=function(M){return new(M||k)(p.Y36(p.soG,16))},k.\u0275pipe=p.Yjl({name:"number",type:k,pure:!0}),k})();let mo=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({providers:[{provide:Ir,useClass:Ai}]}),k})();const ki="browser";function Fo(k){return k===ki}function ar(k){return"server"===k}let go=(()=>{class k{}return k.\u0275prov=(0,p.Yz7)({token:k,providedIn:"root",factory:()=>new Yo((0,p.LFG)(ke),window)}),k})();class Yo{constructor(K,M){this.document=K,this.window=M,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const M=function Qn(k,K){const M=k.getElementById(K)||k.getElementsByName(K)[0];if(M)return M;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const Q=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let Ee=Q.currentNode;for(;Ee;){const nt=Ee.shadowRoot;if(nt){const yt=nt.getElementById(K)||nt.querySelector(`[name="${K}"]`);if(yt)return yt}Ee=Q.nextNode()}}return null}(this.document,K);M&&(this.scrollToElement(M),this.attemptFocus(M))}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=K)}}scrollToElement(K){const M=K.getBoundingClientRect(),Q=M.left+this.window.pageXOffset,Ee=M.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(Q-nt[0],Ee-nt[1])}attemptFocus(K){return K.focus(),this.document.activeElement===K}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Jr(this.window.history)||Jr(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function Jr(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Go{}},520:(Nt,He,L)=>{L.d(He,{JF:()=>Rn,eN:()=>_e,jN:()=>me});var p=L(9808),Z=L(5e3),G=L(9646),De=L(8306),he=L(4351),Te=L(9300),ke=L(4004);class Ie{}class me{}class te{constructor(Pe){this.normalizedNames=new Map,this.lazyUpdate=null,Pe?this.lazyInit="string"==typeof Pe?()=>{this.headers=new Map,Pe.split("\n").forEach(Ae=>{const et=Ae.indexOf(":");if(et>0){const ft=Ae.slice(0,et),Lt=ft.toLowerCase(),bt=Ae.slice(et+1).trim();this.maybeSetNormalizedName(ft,Lt),this.headers.has(Lt)?this.headers.get(Lt).push(bt):this.headers.set(Lt,[bt])}})}:()=>{this.headers=new Map,Object.keys(Pe).forEach(Ae=>{let et=Pe[Ae];const ft=Ae.toLowerCase();"string"==typeof et&&(et=[et]),et.length>0&&(this.headers.set(ft,et),this.maybeSetNormalizedName(Ae,ft))})}:this.headers=new Map}has(Pe){return this.init(),this.headers.has(Pe.toLowerCase())}get(Pe){this.init();const Ae=this.headers.get(Pe.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pe){return this.init(),this.headers.get(Pe.toLowerCase())||null}append(Pe,Ae){return this.clone({name:Pe,value:Ae,op:"a"})}set(Pe,Ae){return this.clone({name:Pe,value:Ae,op:"s"})}delete(Pe,Ae){return this.clone({name:Pe,value:Ae,op:"d"})}maybeSetNormalizedName(Pe,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,Pe)}init(){this.lazyInit&&(this.lazyInit instanceof te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pe=>this.applyUpdate(Pe)),this.lazyUpdate=null))}copyFrom(Pe){Pe.init(),Array.from(Pe.headers.keys()).forEach(Ae=>{this.headers.set(Ae,Pe.headers.get(Ae)),this.normalizedNames.set(Ae,Pe.normalizedNames.get(Ae))})}clone(Pe){const Ae=new te;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof te?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([Pe]),Ae}applyUpdate(Pe){const Ae=Pe.name.toLowerCase();switch(Pe.op){case"a":case"s":let et=Pe.value;if("string"==typeof et&&(et=[et]),0===et.length)return;this.maybeSetNormalizedName(Pe.name,Ae);const ft=("a"===Pe.op?this.headers.get(Ae):void 0)||[];ft.push(...et),this.headers.set(Ae,ft);break;case"d":const Lt=Pe.value;if(Lt){let bt=this.headers.get(Ae);if(!bt)return;bt=bt.filter(zt=>-1===Lt.indexOf(zt)),0===bt.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,bt)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach(Pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>Pe(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class ae{encodeKey(Pe){return ht(Pe)}encodeValue(Pe){return ht(Pe)}decodeKey(Pe){return decodeURIComponent(Pe)}decodeValue(Pe){return decodeURIComponent(Pe)}}const lt=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ht(dt){return encodeURIComponent(dt).replace(lt,(Pe,Ae)=>{var et;return null!==(et=Je[Ae])&&void 0!==et?et:Pe})}function pt(dt){return`${dt}`}class fe{constructor(Pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pe.encoder||new ae,Pe.fromString){if(Pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oe(dt,Pe){const Ae=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(ft=>{const Lt=ft.indexOf("="),[bt,zt]=-1==Lt?[Pe.decodeKey(ft),""]:[Pe.decodeKey(ft.slice(0,Lt)),Pe.decodeValue(ft.slice(Lt+1))],Kt=Ae.get(bt)||[];Kt.push(zt),Ae.set(bt,Kt)}),Ae}(Pe.fromString,this.encoder)}else Pe.fromObject?(this.map=new Map,Object.keys(Pe.fromObject).forEach(Ae=>{const et=Pe.fromObject[Ae];this.map.set(Ae,Array.isArray(et)?et:[et])})):this.map=null}has(Pe){return this.init(),this.map.has(Pe)}get(Pe){this.init();const Ae=this.map.get(Pe);return Ae?Ae[0]:null}getAll(Pe){return this.init(),this.map.get(Pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pe,Ae){return this.clone({param:Pe,value:Ae,op:"a"})}appendAll(Pe){const Ae=[];return Object.keys(Pe).forEach(et=>{const ft=Pe[et];Array.isArray(ft)?ft.forEach(Lt=>{Ae.push({param:et,value:Lt,op:"a"})}):Ae.push({param:et,value:ft,op:"a"})}),this.clone(Ae)}set(Pe,Ae){return this.clone({param:Pe,value:Ae,op:"s"})}delete(Pe,Ae){return this.clone({param:Pe,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(Pe=>{const Ae=this.encoder.encodeKey(Pe);return this.map.get(Pe).map(et=>Ae+"="+this.encoder.encodeValue(et)).join("&")}).filter(Pe=>""!==Pe).join("&")}clone(Pe){const Ae=new fe({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(Pe),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pe=>this.map.set(Pe,this.cloneFrom.map.get(Pe))),this.updates.forEach(Pe=>{switch(Pe.op){case"a":case"s":const Ae=("a"===Pe.op?this.map.get(Pe.param):void 0)||[];Ae.push(pt(Pe.value)),this.map.set(Pe.param,Ae);break;case"d":if(void 0===Pe.value){this.map.delete(Pe.param);break}{let et=this.map.get(Pe.param)||[];const ft=et.indexOf(pt(Pe.value));-1!==ft&&et.splice(ft,1),et.length>0?this.map.set(Pe.param,et):this.map.delete(Pe.param)}}}),this.cloneFrom=this.updates=null)}}class ct{constructor(){this.map=new Map}set(Pe,Ae){return this.map.set(Pe,Ae),this}get(Pe){return this.map.has(Pe)||this.map.set(Pe,Pe.defaultValue()),this.map.get(Pe)}delete(Pe){return this.map.delete(Pe),this}keys(){return this.map.keys()}}function Ne(dt){return"undefined"!=typeof ArrayBuffer&&dt instanceof ArrayBuffer}function Ye(dt){return"undefined"!=typeof Blob&&dt instanceof Blob}function Ge(dt){return"undefined"!=typeof FormData&&dt instanceof FormData}class Ct{constructor(Pe,Ae,et,ft){let Lt;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pe.toUpperCase(),function Ze(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==et?et:null,Lt=ft):Lt=et,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params)),this.headers||(this.headers=new te),this.context||(this.context=new ct),this.params){const bt=this.params.toString();if(0===bt.length)this.urlWithParams=Ae;else{const zt=Ae.indexOf("?");this.urlWithParams=Ae+(-1===zt?"?":zt<Ae.length-1?"&":"")+bt}}else this.params=new fe,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:Ne(this.body)||Ye(this.body)||Ge(this.body)||function Le(dt){return"undefined"!=typeof URLSearchParams&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ge(this.body)?null:Ye(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pe={}){var Ae;const et=Pe.method||this.method,ft=Pe.url||this.url,Lt=Pe.responseType||this.responseType,bt=void 0!==Pe.body?Pe.body:this.body,zt=void 0!==Pe.withCredentials?Pe.withCredentials:this.withCredentials,Kt=void 0!==Pe.reportProgress?Pe.reportProgress:this.reportProgress;let An=Pe.headers||this.headers,hr=Pe.params||this.params;const Yn=null!==(Ae=Pe.context)&&void 0!==Ae?Ae:this.context;return void 0!==Pe.setHeaders&&(An=Object.keys(Pe.setHeaders).reduce((fr,Tn)=>fr.set(Tn,Pe.setHeaders[Tn]),An)),Pe.setParams&&(hr=Object.keys(Pe.setParams).reduce((fr,Tn)=>fr.set(Tn,Pe.setParams[Tn]),hr)),new Ct(et,ft,bt,{params:hr,headers:An,context:Yn,reportProgress:Kt,responseType:Lt,withCredentials:zt})}}var Ce=(()=>((Ce=Ce||{})[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce))();class ne{constructor(Pe,Ae=200,et="OK"){this.headers=Pe.headers||new te,this.status=void 0!==Pe.status?Pe.status:Ae,this.statusText=Pe.statusText||et,this.url=Pe.url||null,this.ok=this.status>=200&&this.status<300}}class le extends ne{constructor(Pe={}){super(Pe),this.type=Ce.ResponseHeader}clone(Pe={}){return new le({headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class ve extends ne{constructor(Pe={}){super(Pe),this.type=Ce.Response,this.body=void 0!==Pe.body?Pe.body:null}clone(Pe={}){return new ve({body:void 0!==Pe.body?Pe.body:this.body,headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class Se extends ne{constructor(Pe){super(Pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pe.url||"(unknown url)"}`:`Http failure response for ${Pe.url||"(unknown url)"}: ${Pe.status} ${Pe.statusText}`,this.error=Pe.error||null}}function je(dt,Pe){return{body:Pe,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let _e=(()=>{class dt{constructor(Ae){this.handler=Ae}request(Ae,et,ft={}){let Lt;if(Ae instanceof Ct)Lt=Ae;else{let Kt,An;Kt=ft.headers instanceof te?ft.headers:new te(ft.headers),ft.params&&(An=ft.params instanceof fe?ft.params:new fe({fromObject:ft.params})),Lt=new Ct(Ae,et,void 0!==ft.body?ft.body:null,{headers:Kt,context:ft.context,params:An,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const bt=(0,G.of)(Lt).pipe((0,he.b)(Kt=>this.handler.handle(Kt)));if(Ae instanceof Ct||"events"===ft.observe)return bt;const zt=bt.pipe((0,Te.h)(Kt=>Kt instanceof ve));switch(ft.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return zt.pipe((0,ke.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kt.body}));case"blob":return zt.pipe((0,ke.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof Blob))throw new Error("Response is not a Blob.");return Kt.body}));case"text":return zt.pipe((0,ke.U)(Kt=>{if(null!==Kt.body&&"string"!=typeof Kt.body)throw new Error("Response is not a string.");return Kt.body}));default:return zt.pipe((0,ke.U)(Kt=>Kt.body))}case"response":return zt;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(Ae,et={}){return this.request("DELETE",Ae,et)}get(Ae,et={}){return this.request("GET",Ae,et)}head(Ae,et={}){return this.request("HEAD",Ae,et)}jsonp(Ae,et){return this.request("JSONP",Ae,{params:(new fe).append(et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,et={}){return this.request("OPTIONS",Ae,et)}patch(Ae,et,ft={}){return this.request("PATCH",Ae,je(ft,et))}post(Ae,et,ft={}){return this.request("POST",Ae,je(ft,et))}put(Ae,et,ft={}){return this.request("PUT",Ae,je(ft,et))}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(Z.LFG(Ie))},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class xt{constructor(Pe,Ae){this.next=Pe,this.interceptor=Ae}handle(Pe){return this.interceptor.intercept(Pe,this.next)}}const en=new Z.OlP("HTTP_INTERCEPTORS");let Jt=(()=>{class dt{intercept(Ae,et){return et.handle(Ae)}}return dt.\u0275fac=function(Ae){return new(Ae||dt)},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Vn=/^\)\]\}',?\n/;let Wn=(()=>{class dt{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(et=>{const ft=this.xhrFactory.build();if(ft.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(ft.withCredentials=!0),Ae.headers.forEach((Tn,on)=>ft.setRequestHeader(Tn,on.join(","))),Ae.headers.has("Accept")||ft.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const Tn=Ae.detectContentTypeHeader();null!==Tn&&ft.setRequestHeader("Content-Type",Tn)}if(Ae.responseType){const Tn=Ae.responseType.toLowerCase();ft.responseType="json"!==Tn?Tn:"text"}const Lt=Ae.serializeBody();let bt=null;const zt=()=>{if(null!==bt)return bt;const Tn=1223===ft.status?204:ft.status,on=ft.statusText||"OK",pn=new te(ft.getAllResponseHeaders()),gn=function Dn(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(ft)||Ae.url;return bt=new le({headers:pn,status:Tn,statusText:on,url:gn}),bt},Kt=()=>{let{headers:Tn,status:on,statusText:pn,url:gn}=zt(),kt=null;204!==on&&(kt=void 0===ft.response?ft.responseText:ft.response),0===on&&(on=kt?200:0);let tt=on>=200&&on<300;if("json"===Ae.responseType&&"string"==typeof kt){const Wt=kt;kt=kt.replace(Vn,"");try{kt=""!==kt?JSON.parse(kt):null}catch(Zt){kt=Wt,tt&&(tt=!1,kt={error:Zt,text:kt})}}tt?(et.next(new ve({body:kt,headers:Tn,status:on,statusText:pn,url:gn||void 0})),et.complete()):et.error(new Se({error:kt,headers:Tn,status:on,statusText:pn,url:gn||void 0}))},An=Tn=>{const{url:on}=zt(),pn=new Se({error:Tn,status:ft.status||0,statusText:ft.statusText||"Unknown Error",url:on||void 0});et.error(pn)};let hr=!1;const Yn=Tn=>{hr||(et.next(zt()),hr=!0);let on={type:Ce.DownloadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(on.total=Tn.total),"text"===Ae.responseType&&!!ft.responseText&&(on.partialText=ft.responseText),et.next(on)},fr=Tn=>{let on={type:Ce.UploadProgress,loaded:Tn.loaded};Tn.lengthComputable&&(on.total=Tn.total),et.next(on)};return ft.addEventListener("load",Kt),ft.addEventListener("error",An),ft.addEventListener("timeout",An),ft.addEventListener("abort",An),Ae.reportProgress&&(ft.addEventListener("progress",Yn),null!==Lt&&ft.upload&&ft.upload.addEventListener("progress",fr)),ft.send(Lt),et.next({type:Ce.Sent}),()=>{ft.removeEventListener("error",An),ft.removeEventListener("abort",An),ft.removeEventListener("load",Kt),ft.removeEventListener("timeout",An),Ae.reportProgress&&(ft.removeEventListener("progress",Yn),null!==Lt&&ft.upload&&ft.upload.removeEventListener("progress",fr)),ft.readyState!==ft.DONE&&ft.abort()}})}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(Z.LFG(p.JF))},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const dr=new Z.OlP("XSRF_COOKIE_NAME"),Fr=new Z.OlP("XSRF_HEADER_NAME");class wn{}let br=(()=>{class dt{constructor(Ae,et,ft){this.doc=Ae,this.platform=et,this.cookieName=ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(Z.LFG(p.K0),Z.LFG(Z.Lbi),Z.LFG(dr))},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Pn=(()=>{class dt{constructor(Ae,et){this.tokenService=Ae,this.headerName=et}intercept(Ae,et){const ft=Ae.url.toLowerCase();if("GET"===Ae.method||"HEAD"===Ae.method||ft.startsWith("http://")||ft.startsWith("https://"))return et.handle(Ae);const Lt=this.tokenService.getToken();return null!==Lt&&!Ae.headers.has(this.headerName)&&(Ae=Ae.clone({headers:Ae.headers.set(this.headerName,Lt)})),et.handle(Ae)}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(Z.LFG(wn),Z.LFG(Fr))},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Lr=(()=>{class dt{constructor(Ae,et){this.backend=Ae,this.injector=et,this.chain=null}handle(Ae){if(null===this.chain){const et=this.injector.get(en,[]);this.chain=et.reduceRight((ft,Lt)=>new xt(ft,Lt),this.backend)}return this.chain.handle(Ae)}}return dt.\u0275fac=function(Ae){return new(Ae||dt)(Z.LFG(me),Z.LFG(Z.zs3))},dt.\u0275prov=Z.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),tn=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:Pn,useClass:Jt}]}}static withOptions(Ae={}){return{ngModule:dt,providers:[Ae.cookieName?{provide:dr,useValue:Ae.cookieName}:[],Ae.headerName?{provide:Fr,useValue:Ae.headerName}:[]]}}}return dt.\u0275fac=function(Ae){return new(Ae||dt)},dt.\u0275mod=Z.oAB({type:dt}),dt.\u0275inj=Z.cJS({providers:[Pn,{provide:en,useExisting:Pn,multi:!0},{provide:wn,useClass:br},{provide:dr,useValue:"XSRF-TOKEN"},{provide:Fr,useValue:"X-XSRF-TOKEN"}]}),dt})(),Rn=(()=>{class dt{}return dt.\u0275fac=function(Ae){return new(Ae||dt)},dt.\u0275mod=Z.oAB({type:dt}),dt.\u0275inj=Z.cJS({providers:[_e,{provide:Ie,useClass:Lr},Wn,{provide:me,useExisting:Wn}],imports:[[tn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),dt})()},5e3:(Nt,He,L)=>{L.d(He,{$8M:()=>Bo,$Z:()=>Ry,AFp:()=>xT,ALo:()=>hg,AaK:()=>Ie,BQk:()=>Va,CHM:()=>Ps,CRH:()=>cT,CZH:()=>qf,CqO:()=>Fy,DdM:()=>sg,DyG:()=>qr,EJc:()=>RT,EiD:()=>ni,EpF:()=>Ua,F$t:()=>_m,F4k:()=>Wd,FYo:()=>HE,FiY:()=>zr,G48:()=>Kw,Gf:()=>aT,GfV:()=>Fv,Gpc:()=>ae,Hsn:()=>_f,JOm:()=>it,JVY:()=>pl,L6k:()=>hd,LAX:()=>_u,LFG:()=>gt,LSH:()=>Gl,Lbi:()=>MT,MAs:()=>hf,MGl:()=>Ef,NdJ:()=>vm,O4$:()=>mn,OlP:()=>Tr,Oqu:()=>bm,PXZ:()=>Uw,Q6J:()=>gf,QGY:()=>Al,Qsj:()=>tg,R0b:()=>Ga,RDi:()=>go,Rgc:()=>g,SBq:()=>zf,Sil:()=>uD,Suo:()=>lT,TTD:()=>xi,TgZ:()=>gm,Tol:()=>Sm,Udp:()=>wm,VKq:()=>ag,VLi:()=>Lw,W1O:()=>fT,WFA:()=>vf,WLB:()=>QE,X6Q:()=>Gw,XFs:()=>tn,Xpm:()=>de,Y36:()=>Kd,YKP:()=>WE,YNc:()=>df,Yjl:()=>Ve,Yz7:()=>Jn,ZZ4:()=>t_,_Bn:()=>Xm,_UZ:()=>K_,_Vd:()=>ed,_c5:()=>hS,_uU:()=>tv,aQg:()=>n_,c2e:()=>NT,cJS:()=>Dn,cg1:()=>Ol,d8E:()=>ru,dDg:()=>YT,deG:()=>rd,dqk:()=>Yn,dwT:()=>Zu,eBb:()=>ml,eFA:()=>jT,ekj:()=>bf,f3M:()=>Hn,g9A:()=>kT,h0i:()=>uh,hGG:()=>_S,hij:()=>nh,iGM:()=>sT,ifc:()=>bt,ip1:()=>lD,kL8:()=>gc,lG2:()=>oe,lcZ:()=>Gv,lnq:()=>Pm,mCW:()=>Za,n5z:()=>lu,oAB:()=>At,oJD:()=>Ms,oxw:()=>Zd,pB0:()=>Hl,q3G:()=>Xi,q4F:()=>ng,qLn:()=>ko,qOj:()=>Ud,qZA:()=>ym,qzn:()=>fl,sBO:()=>Ww,sIi:()=>Bd,s_b:()=>we,soG:()=>Xv,tBr:()=>hs,tb:()=>OT,tp0:()=>_s,uIk:()=>$d,vHH:()=>ht,vpe:()=>o,wAp:()=>Ln,xi3:()=>Kv,xp6:()=>bd,yhl:()=>ka,ynx:()=>yf,z2F:()=>pg,z3N:()=>ea,zSh:()=>ic,zs3:()=>sa});var p=L(7579),Z=L(727),G=L(8306),De=L(6451),he=L(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function ke(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function me(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const te=Te({__forward_ref__:Te});function ae(n){return n.__forward_ref__=ae,n.toString=function(){return Ie(this())},n}function Oe(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(te)&&n.__forward_ref__===ae}class ht extends Error{constructor(r,s){super(function fe(n,r){return`${n?`NG0${n}: `:""}${r}`}(r,s)),this.code=r}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function Ge(n,r){const s=r?` in ${r}`:"";throw new ht("201",`No provider for ${ct(n)} found${s}`)}function Bt(n,r){null==n&&function Vt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Jn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wn(n){return dr(n,Pn)||dr(n,Ur)}function dr(n,r){return n.hasOwnProperty(r)?n[r]:null}function br(n){return n&&(n.hasOwnProperty(Lr)||n.hasOwnProperty(ln))?n[Lr]:null}const Pn=Te({\u0275prov:Te}),Lr=Te({\u0275inj:Te}),Ur=Te({ngInjectableDef:Te}),ln=Te({ngInjectorDef:Te});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let Rn;function sr(n){const r=Rn;return Rn=n,r}function dt(n,r,s){const a=Wn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tn.Optional?null:void 0!==r?r:void Ge(Ie(n),"Injector")}function Ae(n){return{toString:n}.toString()}var et=(()=>((et=et||{})[et.OnPush=0]="OnPush",et[et.Default=1]="Default",et))(),bt=(()=>{return(n=bt||(bt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",bt;var n})();const zt="undefined"!=typeof globalThis&&globalThis,Kt="undefined"!=typeof window&&window,An="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yn=zt||"undefined"!=typeof global&&global||Kt||An,on={},pn=[],gn=Te({\u0275cmp:Te}),kt=Te({\u0275dir:Te}),tt=Te({\u0275pipe:Te}),Wt=Te({\u0275mod:Te}),Zt=Te({\u0275fac:Te}),Mt=Te({__NG_ELEMENT_ID__:Te});let En=0;function de(n){return Ae(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===et.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||bt.Emulated,id:"c",styles:n.styles||pn,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,h=n.features,_=n.pipes;return a.id+=En++,a.inputs=ge(n.inputs,s),a.outputs=ge(n.outputs),h&&h.forEach(w=>w(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(ue):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(We):null,a})}function ue(n){return rt(n)||function It(n){return n[kt]||null}(n)}function We(n){return function Xt(n){return n[tt]||null}(n)}const Ue={};function At(n){return Ae(()=>{const r={type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ue[n.id]=n.type),r})}function ge(n,r){if(null==n)return on;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const oe=de;function Ve(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function rt(n){return n[gn]||null}function Sn(n,r){const s=n[Wt]||null;if(!s&&!0===r)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return s}function fi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Yr(n){return Array.isArray(n)&&!0===n[1]}function Di(n){return 0!=(8&n.flags)}function So(n){return 2==(2&n.flags)}function oi(n){return 1==(1&n.flags)}function Qr(n){return null!==n.template}function ho(n){return 0!=(512&n[2])}function mi(n,r){return n.hasOwnProperty(Zt)?n[Zt]:null}class Gi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function xi(){return Ro}function Ro(n){return n.type.prototype.ngOnChanges&&(n.setInput=mo),Co}function Co(){const n=xr(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===on)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function mo(n,r,s,a){const c=xr(n)||function so(n,r){return n[ki]=r}(n,{previous:on,current:null}),h=c.current||(c.current={}),_=c.previous,w=this.declaredInputs[s],b=_[w];h[w]=new Gi(b&&b.currentValue,r,_===on),n[a]=r}xi.ngInherit=!0;const ki="__ngSimpleChanges__";function xr(n){return n[ki]||null}const Br="http://www.w3.org/2000/svg";let Mi;function go(n){Mi=n}function Yo(){return void 0!==Mi?Mi:"undefined"!=typeof document?document:void 0}function Qn(n){return!!n.listen}const yo={createRenderer:(n,r)=>Yo()};function k(n){for(;Array.isArray(n);)n=n[0];return n}function Q(n,r){return k(r[n])}function Ee(n,r){return k(r[n.index])}function yt(n,r){return n.data[r]}function Ot(n,r){return n[r]}function R(n,r){const s=r[n];return fi(s)?s:s[0]}function x(n){return 4==(4&n[2])}function I(n){return 128==(128&n[2])}function qe(n,r){return null==r?null:n[r]}function Rt(n){n[18]=0}function vn(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const $t={lFrame:Kr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ao(){return $t.bindingsEnabled}function vt(){return $t.lFrame.lView}function Gn(){return $t.lFrame.tView}function Ps(n){return $t.lFrame.contextLView=n,n[8]}function Mr(){let n=Fs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fs(){return $t.lFrame.currentTNode}function B(n,r){const s=$t.lFrame;s.currentTNode=n,s.isParent=r}function m(){return $t.lFrame.isParent}function v(){$t.lFrame.isParent=!1}function J(){return $t.isInCheckNoChangesMode}function pe(n){$t.isInCheckNoChangesMode=n}function ye(){const n=$t.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Pt(){return $t.lFrame.bindingIndex++}function qt(n){const r=$t.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function dn(n,r){const s=$t.lFrame;s.bindingIndex=s.bindingRootIndex=n,Bn(r)}function Bn(n){$t.lFrame.currentDirectiveIndex=n}function Ar(n){const r=$t.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Or(){return $t.lFrame.currentQueryIndex}function Xr(n){$t.lFrame.currentQueryIndex=n}function ei(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ko(n,r,s){if(s&tn.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&tn.Host||(c=ei(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=$t.lFrame=li();return a.currentTNode=r,a.lView=n,!0}function yi(n){const r=li(),s=n[1];$t.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function li(){const n=$t.lFrame,r=null===n?null:n.child;return null===r?Kr(n):r}function Kr(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function vo(){const n=$t.lFrame;return $t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ni=vo;function ms(){const n=vo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vi(){return $t.lFrame.selectedIndex}function Wi(n){$t.lFrame.selectedIndex=n}function Yt(){const n=$t.lFrame;return yt(n.tView,n.selectedIndex)}function mn(){$t.lFrame.currentNamespace=Br}function Ri(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:U,ngOnDestroy:$}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),b&&(n.viewHooks||(n.viewHooks=[])).push(-s,b),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=$&&(n.destroyHooks||(n.destroyHooks=[])).push(s,$)}}function _r(n,r,s){Zo(n,r,3,s)}function bo(n,r,s,a){(3&n[2])===s&&Zo(n,r,s,a)}function Fi(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Zo(n,r,s,a){const h=null!=a?a:-1,_=r.length-1;let w=0;for(let b=void 0!==a?65535&n[18]:0;b<_;b++)if("number"==typeof r[b+1]){if(w=r[b],null!=a&&w>=a)break}else r[b]<0&&(n[18]+=65536),(w<h||-1==h)&&(Hr(n,s,r,b),n[18]=(4294901760&n[18])+b+2),b++}function Hr(n,r,s,a){const c=s[a]<0,h=s[a+1],w=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class Zi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ls(n,r,s){const a=Qn(n);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const _=s[c++],w=s[c++],b=s[c++];a?n.setAttribute(r,w,b,_):r.setAttributeNS(_,w,b)}else{const _=h,w=s[++c];Fl(_)?a&&n.setProperty(r,_,w):a?n.setAttribute(r,_,w):r.setAttribute(_,w),c++}}return c}function Li(n){return 3===n||4===n||6===n}function Fl(n){return 64===n.charCodeAt(0)}function Uo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ll(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function Ll(n,r,s,a,c){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===r){_=-1;break}if(w>r){_=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function wa(n){return-1!==n}function as(n){return 32767&n}function Dr(n,r){let s=function _c(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let sl=!0;function Ys(n){const r=sl;return sl=n,r}let O=0;function j(n,r){const s=be(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,re(a.data,n),re(r,null),re(a.blueprint,null));const c=ot(n,r),h=n.injectorIndex;if(wa(c)){const _=as(c),w=Dr(c,r),b=w[1].data;for(let U=0;U<8;U++)r[h+U]=w[_+U]|b[_+U]}return r[h+8]=c,h}function re(n,r){n.push(0,0,0,0,0,0,0,0,r)}function be(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ot(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){const h=c[1],_=h.type;if(a=2===_?h.declTNode:1===_?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function st(n,r,s){!function Y(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Mt)&&(a=s[Mt]),null==a&&(a=s[Mt]=O++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function fn(n,r,s){if(s&tn.Optional)return n;Ge(r,"NodeInjector")}function Tt(n,r,s,a){if(s&tn.Optional&&void 0===a&&(a=null),0==(s&(tn.Self|tn.Host))){const c=n[9],h=sr(void 0);try{return c?c.get(r,a,s&tn.Optional):dt(r,a,s&tn.Optional)}finally{sr(h)}}return fn(a,r,s)}function $e(n,r,s,a=tn.Default,c){if(null!==n){const h=function Vs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Mt)?n[Mt]:void 0;return"number"==typeof r?r>=0?255&r:Sr:r}(s);if("function"==typeof h){if(!Ko(r,n,a))return a&tn.Host?fn(c,s,a):Tt(r,s,a,c);try{const _=h(a);if(null!=_||a&tn.Optional)return _;Ge(s)}finally{Ni()}}else if("number"==typeof h){let _=null,w=be(n,r),b=-1,U=a&tn.Host?r[16][6]:null;for((-1===w||a&tn.SkipSelf)&&(b=-1===w?ot(n,r):r[w+8],-1!==b&&Yl(a,!1)?(_=r[1],w=as(b),r=Dr(b,r)):w=-1);-1!==w;){const $=r[1];if(Qo(h,w,$.data)){const ie=_o(w,r,s,_,a,U);if(ie!==Et)return ie}b=r[w+8],-1!==b&&Yl(a,r[1].data[w+8]===U)&&Qo(h,w,r)?(_=$,w=as(b),r=Dr(b,r)):w=-1}}}return Tt(r,s,a,c)}const Et={};function Sr(){return new Ws(Mr(),vt())}function _o(n,r,s,a,c,h){const _=r[1],w=_.data[n+8],$=jo(w,_,s,null==a?So(w)&&sl:a!=_&&0!=(3&w.type),c&tn.Host&&h===w);return null!==$?Ks(r,_,$,w):Et}function jo(n,r,s,a,c){const h=n.providerIndexes,_=r.data,w=1048575&h,b=n.directiveStart,$=h>>20,Me=c?w+$:n.directiveEnd;for(let Ke=a?w:w+$;Ke<Me;Ke++){const mt=_[Ke];if(Ke<b&&s===mt||Ke>=b&&mt.type===s)return Ke}if(c){const Ke=_[b];if(Ke&&Qr(Ke)&&Ke.type===s)return b}return null}function Ks(n,r,s,a){let c=n[s];const h=r.data;if(function ol(n){return n instanceof Zi}(c)){const _=c;_.resolving&&function Ze(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ht("200",`Circular dependency in DI detected for ${n}${s}`)}(ct(h[s]));const w=Ys(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?sr(_.injectImpl):null;Ko(n,a,tn.Default);try{c=n[s]=_.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ci(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const _=Ro(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==b&&sr(b),Ys(w),_.resolving=!1,Ni()}}return c}function Qo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Yl(n,r){return!(n&tn.Self||n&tn.Host&&r)}class Ws{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return $e(this._tNode,this._lView,r,a,s)}}function lu(n){return Ae(()=>{const r=n.prototype.constructor,s=r[Zt]||Wa(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[Zt]||Wa(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Wa(n){return lt(n)?()=>{const r=Wa(Oe(n));return r&&r()}:mi(n)}function Bo(n){return function Ft(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Li(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Mr(),n)}const da="__parameters__";function Wr(n,r,s){return Ae(()=>{const a=function Zs(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const _=new c(...h);return w.annotation=_,w;function w(b,U,$){const ie=b.hasOwnProperty(da)?b[da]:Object.defineProperty(b,da,{value:[]})[da];for(;ie.length<=$;)ie.push(null);return(ie[$]=ie[$]||[]).push(_),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Tr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Jn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rd=new Tr("AnalyzeForEntryComponents"),qr=Function;function Io(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Io(a,r)):r!==n&&r.push(a)}return r}function ys(n,r){n.forEach(s=>Array.isArray(s)?ys(s,r):r(s))}function cs(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function vs(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Qs(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function Qi(n,r,s){let a=Ia(n,r);return a>=0?n[1|a]=s:(a=~a,function Us(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function ks(n,r){const s=Ia(n,r);if(s>=0)return n[1|s]}function Ia(n,r){return function Ul(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),_=n[h<<s];if(r===_)return h<<s;_>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const ll={},bi="__NG_DI_FLAG__",Aa="ngTempTokenPath",Tc=/\n/gm,N="__source",q=Te({provide:String,useValue:Te});let ce;function ze(n){const r=ce;return ce=n,r}function Xe(n,r=tn.Default){if(void 0===ce)throw new Error("inject() must be called from an injection context");return null===ce?dt(n,void 0,r):ce.get(n,r&tn.Optional?null:void 0,r)}function gt(n,r=tn.Default){return(function Xn(){return Rn}()||Xe)(Oe(n),r)}const Hn=gt;function Fn(n){const r=[];for(let s=0;s<n.length;s++){const a=Oe(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let c,h=tn.Default;for(let _=0;_<a.length;_++){const w=a[_],b=Kn(w);"number"==typeof b?-1===b?c=w.token:h|=b:c=w}r.push(gt(c,h))}else r.push(gt(a))}return r}function zn(n,r){return n[bi]=r,n.prototype[bi]=r,n}function Kn(n){return n[bi]}const hs=zn(Wr("Inject",n=>({token:n})),-1),zr=zn(Wr("Optional"),8),_s=zn(Wr("SkipSelf"),4);let Bl,dl;function Xs(n){var r;return(null===(r=function Cc(){if(void 0===Bl&&(Bl=null,Yn.trustedTypes))try{Bl=Yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Bl}())||void 0===r?void 0:r.createHTML(n))||n}function yu(n){var r;return(null===(r=function bc(){if(void 0===dl&&(dl=null,Yn.trustedTypes))try{dl=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return dl}())||void 0===r?void 0:r.createHTML(n))||n}class hl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dd extends hl{getTypeName(){return"HTML"}}class yh extends hl{getTypeName(){return"Style"}}class vh extends hl{getTypeName(){return"Script"}}class vu extends hl{getTypeName(){return"URL"}}class Jf extends hl{getTypeName(){return"ResourceURL"}}function ea(n){return n instanceof hl?n.changingThisBreaksApplicationSecurity:n}function fl(n,r){const s=ka(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function ka(n){return n instanceof hl&&n.getTypeName()||null}function pl(n){return new dd(n)}function hd(n){return new yh(n)}function ml(n){return new vh(n)}function _u(n){return new vu(n)}function Hl(n){return new Jf(n)}class fd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Xs(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Ic{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Xs(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Xs(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let c=s.length-1;0<c;c--){const _=s.item(c).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&r.removeAttribute(_)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ep=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,va=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Za(n){return(n=String(n)).match(ep)||n.match(va)?n:"unsafe:"+n}function Es(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Pc(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ac=Es("area,br,col,hr,img,wbr"),pd=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zl=Es("rp,rt"),$l=Pc(Ac,Pc(pd,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pc(zl,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pc(zl,pd)),gl=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xc=Es("srcset"),Er=Pc(gl,xc,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),md=Es("script,style,template");class Du{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!$l.hasOwnProperty(s))return this.sanitizedSomething=!0,!md.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),_=h.name,w=_.toLowerCase();if(!Er.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=h.value;gl[w]&&(b=Za(b)),xc[w]&&(n=b,b=(n=String(n)).split(",").map(r=>Za(r.trim())).join(", ")),this.buf.push(" ",_,'="',yl(b),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();$l.hasOwnProperty(s)&&!Ac.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(yl(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Ja=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function yl(n){return n.replace(/&/g,"&amp;").replace(Ja,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ji,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yi;function ni(n,r){let s=null;try{Yi=Yi||function Eu(n){const r=new Ic(n);return function Xf(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch(n){return!1}}()?new fd(r):r}(n);let a=r?String(r):"";s=Yi.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=s.innerHTML,s=Yi.getInertBodyElement(a)}while(a!==h);return Xs((new Du).sanitizeChildren(Tu(s)||s))}finally{if(s){const a=Tu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Tu(n){return"content"in n&&function Ma(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xi=(()=>((Xi=Xi||{})[Xi.NONE=0]="NONE",Xi[Xi.HTML=1]="HTML",Xi[Xi.STYLE=2]="STYLE",Xi[Xi.SCRIPT=3]="SCRIPT",Xi[Xi.URL=4]="URL",Xi[Xi.RESOURCE_URL=5]="RESOURCE_URL",Xi))();function Ms(n){const r=Xa();return r?yu(r.sanitize(Xi.HTML,n)||""):fl(n,"HTML")?yu(ea(n)):ni(Yo(),Fe(n))}function Gl(n){const r=Xa();return r?r.sanitize(Xi.URL,n)||"":fl(n,"URL")?ea(n):Za(Fe(n))}function Xa(){const n=vt();return n&&n[12]}const Pu="__ngContext__";function To(n,r){n[Pu]=r}function gd(n){const r=function vl(n){return n[Pu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function xu(n){return n.ngOriginalError}function Dh(n,...r){n.error(...r)}class ko{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Eh(n){return n&&n.ngErrorLogger||Dh}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&xu(r);for(;s&&xu(s);)s=xu(s);return s||null}}const El=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yn))();function f(n){return n instanceof Function?n():n}var it=(()=>((it=it||{})[it.Important=1]="Important",it[it.DashCase=2]="DashCase",it))();function an(n,r){return undefined(n,r)}function Ii(n){const r=n[3];return Yr(r)?r[3]:r}function Mu(n){return Ed(n[13])}function Fc(n){return Ed(n[4])}function Ed(n){for(;null!==n&&!Yr(n);)n=n[4];return n}function el(n,r,s,a,c){if(null!=a){let h,_=!1;Yr(a)?h=a:fi(a)&&(_=!0,a=a[0]);const w=k(a);0===n&&null!==s?null==c?mp(r,s,w):ra(r,s,w,c||null,!0):1===n&&null!==s?ra(r,s,w,c||null,!0):2===n?function Yc(n,r,s){const a=wo(n,r);a&&function _g(n,r,s,a){Qn(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,w,_):3===n&&r.destroyNode(w),null!=h&&function Dg(n,r,s,a,c){const h=s[7];h!==k(s)&&el(r,n,a,h,c);for(let w=10;w<s.length;w++){const b=s[w];Fu(b[1],b,n,r,a,h)}}(r,n,h,s,c)}}function Nu(n,r,s){return Qn(n)?n.createElement(r,s):null===s?n.createElement(r):n.createElementNS(s,r)}function pp(n,r){const s=n[9],a=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,vn(c,-1)),s.splice(a,1)}function at(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&pp(c,a),r>0&&(n[s-1][4]=a[4]);const h=vs(n,10+r);!function hp(n,r){Fu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function wd(n,r){if(!(256&r[2])){const s=r[11];Qn(s)&&s.destroyNode&&Fu(n,r,s,3,null,null),function gg(n){let r=n[13];if(!r)return na(n[1],n);for(;r;){let s=null;if(fi(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)fi(r)&&na(r[1],r),r=r[3];null===r&&(r=n),fi(r)&&na(r[1],r),s=r&&r[4]}r=s}}(r)}}function na(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Sd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Zi)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const w=c[h[_]],b=h[_+1];try{b.call(w)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function i_(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],w="function"==typeof _?_(r):k(r[_]),b=a[c=s[h+2]],U=s[h+3];"boolean"==typeof U?w.removeEventListener(s[h],b,U):U>=0?a[c=U]():a[c=-U].unsubscribe(),h+=2}else{const _=a[c=s[h+1]];s[h].call(_)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&Qn(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Yr(r[3])){s!==r[3]&&pp(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Xl(n,r,s){return function vg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===bt.None||c===bt.Emulated)return null}return Ee(a,s)}(n,r.parent,s)}function ra(n,r,s,a,c){Qn(n)?n.insertBefore(r,s,a,c):r.insertBefore(s,a,c)}function mp(n,r,s){Qn(n)?n.appendChild(r,s):r.appendChild(s)}function Sh(n,r,s,a,c){null!==a?ra(n,r,s,a,c):mp(n,r,s)}function wo(n,r){return Qn(n)?n.parentNode(r):r.parentNode}function Ch(n,r,s){return Dl(n,r,s)}let Dl=function bh(n,r,s){return 40&n.type?Ee(n,s):null};function Cd(n,r,s,a){const c=Xl(n,a,r),h=r[11],w=Ch(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)Sh(h,c,s[b],w,!1);else Sh(h,c,s,w,!1)}function Lc(n,r){if(null!==r){const s=r.type;if(3&s)return Ee(r,n);if(4&s)return Tl(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Lc(n,a);{const c=n[r.index];return Yr(c)?Tl(-1,c):k(c)}}if(32&s)return an(r,n)()||k(n[r.index]);{const a=ec(n,r);return null!==a?Array.isArray(a)?a[0]:Lc(Ii(n[16]),a):Lc(n,r.next)}}return null}function ec(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Tl(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Lc(a,c)}return r[7]}function Vc(n,r,s,a,c,h,_){for(;null!=s;){const w=a[s.index],b=s.type;if(_&&0===r&&(w&&To(k(w),a),s.flags|=4),64!=(64&s.flags))if(8&b)Vc(n,r,s.child,a,c,h,!1),el(r,n,c,w,h);else if(32&b){const U=an(s,a);let $;for(;$=U();)el(r,n,c,$,h);el(r,n,c,w,h)}else 16&b?Ph(n,r,a,s,c,h):el(r,n,c,w,h);s=_?s.projectionNext:s.next}}function Fu(n,r,s,a,c,h){Vc(s,a,n.firstChild,r,c,h,!1)}function Ph(n,r,s,a,c,h){const _=s[16],b=_[6].projection[a.projection];if(Array.isArray(b))for(let U=0;U<b.length;U++)el(r,n,c,b[U],h);else Vc(n,r,b,_[3],c,h,!0)}function vp(n,r,s){Qn(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Ah(n,r,s){Qn(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function xh(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const Uc="ng-template";function s_(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==xh(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function _p(n){return 4===n.type&&n.value!==Uc}function a_(n,r,s){return r===(4!==n.type||s?n.value:Uc)}function l_(n,r,s){let a=4;const c=n.attrs||[],h=function Tg(n){for(let r=0;r<n.length;r++)if(Li(n[r]))return r;return n.length}(c);let _=!1;for(let w=0;w<r.length;w++){const b=r[w];if("number"!=typeof b){if(!_)if(4&a){if(a=2|1&a,""!==b&&!a_(n,b,s)||""===b&&1===r.length){if(Na(a))return!1;_=!0}}else{const U=8&a?b:r[++w];if(8&a&&null!==n.attrs){if(!s_(n.attrs,U,s)){if(Na(a))return!1;_=!0}continue}const ie=Mh(8&a?"class":b,c,_p(n),s);if(-1===ie){if(Na(a))return!1;_=!0;continue}if(""!==U){let Me;Me=ie>h?"":c[ie+1].toLowerCase();const Ke=8&a?Me:null;if(Ke&&-1!==xh(Ke,U,0)||2&a&&U!==Me){if(Na(a))return!1;_=!0}}}}else{if(!_&&!Na(a)&&!Na(b))return!1;if(_&&Na(b))continue;_=!1,a=b|1&a}}return Na(a)||_}function Na(n){return 0==(1&n)}function Mh(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const _=r[c];if(_===n)return c;if(3===_||6===_)h=!0;else{if(1===_||2===_){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=h?1:2}return-1}return function c_(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function wl(n,r,s=!1){for(let a=0;a<r.length;a++)if(l_(n,r[a],s))return!0;return!1}function u_(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function Oh(n,r){return n?":not("+r.trim()+")":r}function Nh(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const w=n[++s];c+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+_:4&a&&(c+=" "+_);else""!==c&&!Na(_)&&(r+=Oh(h,c),c=""),a=_,h=h||!Na(a);s++}return""!==c&&(r+=Oh(h,c)),r}const $n={};function bd(n){Id(Gn(),vt(),vi()+n,J())}function Id(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&_r(r,h,s)}else{const h=n.preOrderHooks;null!==h&&bo(r,h,0,s)}Wi(s)}function fs(n,r){return n<<17|r<<2}function Ea(n){return n>>17&32767}function Rh(n){return 2|n}function Ds(n){return(131068&n)>>2}function tc(n,r){return-131069&n|r<<2}function Sl(n){return 1|n}function Ap(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];Xr(c),_.contentQueries(2,r[h],h)}}}function zc(n,r,s,a,c,h,_,w,b,U){const $=r.blueprint.slice();return $[0]=c,$[2]=140|a,Rt($),$[3]=$[15]=n,$[8]=s,$[10]=_||n&&n[10],$[11]=w||n&&n[11],$[12]=b||n&&n[12]||null,$[9]=U||n&&n[9]||null,$[6]=h,$[16]=2==r.type?n[16]:$,$}function Uu(n,r,s,a,c){let h=n.data[r];if(null===h)h=function xd(n,r,s,a,c){const h=Fs(),_=m(),b=n.data[r]=function Od(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=b),null!==h&&(_?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(n,r,s,a,c),function bn(){return $t.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const _=function As(){const n=$t.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return B(h,!0),h}function ju(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function kd(n,r,s){yi(r);try{const a=n.viewQuery;null!==a&&jp(1,a,s);const c=n.template;null!==c&&Fg(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ap(n,r),n.staticViewQueries&&jp(2,n.viewQuery,s);const h=n.components;null!==h&&function v_(n,r){for(let s=0;s<r.length;s++)b_(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,ms()}}function nc(n,r,s,a){const c=r[2];if(256==(256&c))return;yi(r);const h=J();try{Rt(r),function ut(n){return $t.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Fg(n,r,s,2,a);const _=3==(3&c);if(!h)if(_){const U=n.preOrderCheckHooks;null!==U&&_r(r,U,null)}else{const U=n.preOrderHooks;null!==U&&bo(r,U,0,null),Fi(r,0)}if(function Kg(n){for(let r=Mu(n);null!==r;r=Fc(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(1024&c[2])&&vn(h,1),c[2]|=1024}}}(r),function rc(n){for(let r=Mu(n);null!==r;r=Fc(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];I(a)&&nc(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Ap(n,r),!h)if(_){const U=n.contentCheckHooks;null!==U&&_r(r,U)}else{const U=n.contentHooks;null!==U&&bo(r,U,1),Fi(r,1)}!function Ng(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Wi(~c);else{const h=c,_=s[++a],w=s[++a];dn(_,h),w(2,r[h])}}}finally{Wi(-1)}}(n,r);const w=n.components;null!==w&&function Rg(n,r){for(let s=0;s<r.length;s++)C_(n,r[s])}(r,w);const b=n.viewQuery;if(null!==b&&jp(2,b,a),!h)if(_){const U=n.viewCheckHooks;null!==U&&_r(r,U)}else{const U=n.viewHooks;null!==U&&bo(r,U,2),Fi(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,vn(r[3],-1))}finally{ms()}}function es(n,r,s,a){const c=r[10],h=!J(),_=x(r);try{h&&!_&&c.begin&&c.begin(),_&&kd(n,r,a),nc(n,r,s,a)}finally{h&&!_&&c.end&&c.end()}}function Fg(n,r,s,a,c){const h=vi(),_=2&a;try{Wi(-1),_&&r.length>20&&Id(n,r,20,J()),s(a,c)}finally{Wi(h)}}function Lg(n,r,s){if(Di(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}function xp(n,r,s){!ao()||(function Bg(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||j(s,r),To(a,r);const _=s.initialInputs;for(let w=c;w<h;w++){const b=n.data[w],U=Qr(b);U&&Lp(r,s,b);const $=Ks(r,n,w,s);To($,r),null!==_&&Yp(0,w-c,$,b,0,_),U&&(R(s.index,r)[8]=$)}}(n,r,s,Ee(s,r)),128==(128&s.flags)&&function T_(n,r,s){const a=s.directiveStart,c=s.directiveEnd,_=s.index,w=function In(){return $t.lFrame.currentDirectiveIndex}();try{Wi(_);for(let b=a;b<c;b++){const U=n.data[b],$=r[b];Bn(b),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Hg(U,$)}}finally{Wi(-1),Bn(w)}}(n,r,s))}function kp(n,r,s=Ee){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],w=-1===_?s(r,n):n[_];n[c++]=w}}}function Yg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Bh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Bh(n,r,s,a,c,h,_,w,b,U){const $=20+a,ie=$+c,Me=function Mp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:$n);return s}($,ie),Ke="function"==typeof U?U():U;return Me[1]={type:n,blueprint:Me,template:s,queries:null,viewQuery:w,declTNode:r,data:Me.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Ke,incompleteFirstPass:!1}}function Md(n,r,s,a){const c=qg(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&qh(n).push(a,c.length-1))}function Nd(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Os(n,r,s,a,c,h,_,w){const b=Ee(r,s);let $,U=r.inputs;!w&&null!=U&&($=U[a])?(Qg(n,s,$,a,c),So(r)&&function Vg(n,r){const s=R(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Rp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=_?_(c,r.value||"",a):c,Qn(h)?h.setProperty(b,a,c):Fl(a)||(b.setProperty?b.setProperty(a,c):b[a]=c))}function Bu(n,r,s,a){let c=!1;if(ao()){const h=function w_(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];wl(s,_.selectors,!1)&&(c||(c=[]),st(j(s,r),n,_.type),Qr(_)?(zg(n,s),c.unshift(_)):c.push(_))}return c}(n,r,s),_=null===a?null:{"":-1};if(null!==h){c=!0,zh(s,n.data.length,h.length);for(let $=0;$<h.length;$++){const ie=h[$];ie.providersResolver&&ie.providersResolver(ie)}let w=!1,b=!1,U=ju(n,r,h.length,null);for(let $=0;$<h.length;$++){const ie=h[$];s.mergedAttrs=Uo(s.mergedAttrs,ie.hostAttrs),$c(n,s,r,U,ie),Rd(U,ie,_),null!==ie.contentQueries&&(s.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(s.flags|=128);const Me=ie.type.prototype;!w&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),w=!0),!b&&(Me.ngOnChanges||Me.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),b=!0),U++}!function Np(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,_=[];let w=null,b=null;for(let U=r.directiveStart;U<a;U++){const $=c[U],ie=$.inputs,Me=null===h||_p(r)?null:$g(ie,h);_.push(Me),w=Nd(ie,U,w),b=Nd($.outputs,U,b)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=w,r.outputs=b}(n,s)}_&&function S_(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new ht("301",`Export of name '${r[c+1]}' not found!`);a.push(r[c],h)}}}(s,a,_)}return s.mergedAttrs=Uo(s.mergedAttrs,s.attrs),c}function Hu(n,r,s,a,c,h){const _=h.hostBindings;if(_){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const b=~r.index;(function Fp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=b&&w.push(b),w.push(a,c,_)}}function Hg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function zg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Rd(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Qr(r)&&(s[""]=n)}}function zh(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function $c(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=mi(c.type)),_=new Zi(h,Qr(c),null);n.blueprint[a]=_,s[a]=_,Hu(n,r,0,a,ju(n,s,c.hostVars,$n),c)}function Lp(n,r,s){const a=Ee(r,n),c=Yg(s),h=n[10],_=Gh(n,zc(n,c,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));n[r.index]=_}function oa(n,r,s,a,c,h){const _=Ee(n,r);!function Gc(n,r,s,a,c,h,_){if(null==h)Qn(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const w=null==_?Fe(h):_(h,a||"",c);Qn(n)?n.setAttribute(r,c,w,s):s?r.setAttributeNS(s,c,w):r.setAttribute(c,w)}}(r[11],_,h,n.value,s,a,c)}function Yp(n,r,s,a,c,h){const _=h[r];if(null!==_){const w=a.setInput;for(let b=0;b<_.length;){const U=_[b++],$=_[b++],ie=_[b++];null!==w?a.setInput(s,ie,U,$):s[$]=ie}}}function $g(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function $h(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function C_(n,r){const s=R(r,n);if(I(s)){const a=s[1];80&s[2]?nc(a,s,a.template,s[8]):s[5]>0&&Fd(s)}}function Fd(n){for(let a=Mu(n);null!==a;a=Fc(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const _=h[1];nc(_,h,_.template,h[8])}else h[5]>0&&Fd(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=R(s[a],n);I(c)&&c[5]>0&&Fd(c)}}function b_(n,r){const s=R(r,n),a=s[1];(function Vp(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),kd(a,s,s[8])}function Gh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ld(n){for(;n;){n[2]|=64;const r=Ii(n);if(ho(n)&&!r)return n;n=r}return null}function Wh(n,r,s){const a=r[10];a.begin&&a.begin();try{nc(n,r,n.template,s)}catch(c){throw Zh(r,c),c}finally{a.end&&a.end()}}function Kc(n){!function Yd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=gd(s),c=a[1];es(c,a,c.template,s)}}(n[8])}function jp(n,r,s){Xr(0),r(n,s)}const Wg=(()=>Promise.resolve(null))();function qg(n){return n[7]||(n[7]=[])}function qh(n){return n.cleanup||(n.cleanup=[])}function Zg(n,r,s){return(null===n||Qr(n))&&(s=function K(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}function Zh(n,r){const s=n[9],a=s?s.get(ko,null):null;a&&a.handleError(r)}function Qg(n,r,s,a,c){for(let h=0;h<s.length;){const _=s[h++],w=s[h++],b=r[_],U=n.data[_];null!==U.setInput?U.setInput(b,c,a,w):b[w]=c}}function Fa(n,r,s){const a=Q(r,n);!function Dd(n,r,s){Qn(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Qh(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?h=w:1==h?c=me(c,w):2==h&&(a=me(a,w+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}const Vd=new Tr("INJECTOR",-1);class Jh{get(r,s=ll){if(s===ll){const a=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw a.name="NullInjectorError",a}return s}}const ic=new Tr("Set Injector scope."),Da={},Hp={};let oc;function Wc(){return void 0===oc&&(oc=new Jh),oc}function zp(n,r=null,s=null,a){const c=qc(n,r,s,a);return c._resolveInjectorDefTypes(),c}function qc(n,r=null,s=null,a){return new A_(n,s,r||Wc(),a)}class A_{constructor(r,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&ys(s,w=>this.processProvider(w,r,s)),ys([r],w=>this.processInjectorType(w,[],h)),this.records.set(Vd,sc(void 0,this));const _=this.records.get(ic);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof r?null:Ie(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=ll,a=tn.Default){this.assertNotDestroyed();const c=ze(this),h=sr(void 0);try{if(!(a&tn.SkipSelf)){let w=this.records.get(r);if(void 0===w){const b=function ny(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(r)&&Wn(r);w=b&&this.injectableDefInScope(b)?sc($p(r),Da):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&tn.Self?Wc():this.parent).get(r,s=a&tn.Optional&&s===ll?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Aa]=_[Aa]||[]).unshift(Ie(r)),c)throw _;return function lo(n,r,s,a){const c=n[Aa];throw r[N]&&c.unshift(r[N]),n.message=function di(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=Ie(r);if(Array.isArray(r))c=r.map(Ie).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let w=r[_];h.push(_+":"+("string"==typeof w?JSON.stringify(w):Ie(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Tc,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[Aa]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{sr(h),ze(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,c)=>r.push(Ie(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,a){if(!(r=Oe(r)))return!1;let c=br(r);const h=null==c&&r.ngModule||void 0,_=void 0===h?r:h,w=-1!==a.indexOf(_);if(void 0!==h&&(c=br(h)),null==c)return!1;if(null!=c.imports&&!w){let $;a.push(_);try{ys(c.imports,ie=>{this.processInjectorType(ie,s,a)&&(void 0===$&&($=[]),$.push(ie))})}finally{}if(void 0!==$)for(let ie=0;ie<$.length;ie++){const{ngModule:Me,providers:Ke}=$[ie];ys(Ke,mt=>this.processProvider(mt,Me,Ke||pn))}}this.injectorDefTypes.add(_);const b=mi(_)||(()=>new _);this.records.set(_,sc(b,Da));const U=c.providers;if(null!=U&&!w){const $=r;ys(U,ie=>this.processProvider(ie,$,U))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let c=ac(r=Oe(r))?r:Oe(r&&r.provide);const h=function Kp(n,r,s){return ey(n)?sc(void 0,n.useValue):sc(Xh(n),Da)}(r);if(ac(r)||!0!==r.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=sc(void 0,Da,!0),_.factory=()=>Fn(_.multi),this.records.set(c,_)),c=r,_.multi.push(r)}this.records.set(c,h)}hydrate(r,s){return s.value===Da&&(s.value=Hp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function M_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Oe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function $p(n){const r=Wn(n),s=null!==r?r.factory:mi(n);if(null!==s)return s;if(n instanceof Tr)throw new Error(`Token ${Ie(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function Gp(n){const r=n.length;if(r>0){const a=Qs(r,"?");throw new Error(`Can't resolve all parameters for ${Ie(n)}: (${a.join(", ")}).`)}const s=function Fr(n){const r=n&&(n[Pn]||n[Ur]);if(r){const s=function wn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Error("unreachable")}function Xh(n,r,s){let a;if(ac(n)){const c=Oe(n);return mi(c)||$p(c)}if(ey(n))a=()=>Oe(n.useValue);else if(function Wp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Fn(n.deps||[]));else if(function x_(n){return!(!n||!n.useExisting)}(n))a=()=>gt(Oe(n.useExisting));else{const c=Oe(n&&(n.useClass||n.provide));if(!function ty(n){return!!n.deps}(n))return mi(c)||$p(c);a=()=>new c(...Fn(n.deps))}return a}function sc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function ey(n){return null!==n&&"object"==typeof n&&q in n}function ac(n){return"function"==typeof n}let sa=(()=>{class n{static create(s,a){var c;if(Array.isArray(s))return zp({name:""},a,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return zp({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=ll,n.NULL=new Jh,n.\u0275prov=Jn({token:n,providedIn:"any",factory:()=>gt(Vd)}),n.__NG_ELEMENT_ID__=-1,n})();function fy(n,r){Ri(gd(n)[1],Mr())}function Ud(n){let r=function my(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Qr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");c=r.\u0275dir}if(c){if(s){a.push(c);const _=n;_.inputs=jd(n.inputs),_.declaredInputs=jd(n.declaredInputs),_.outputs=jd(n.outputs);const w=c.hostBindings;w&&F_(n,w);const b=c.viewQuery,U=c.contentQueries;if(b&&R_(n,b),U&&nm(n,U),ke(n.inputs,c.inputs),ke(n.declaredInputs,c.declaredInputs),ke(n.outputs,c.outputs),Qr(c)&&c.data.animation){const $=n.data;$.animation=($.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let _=0;_<h.length;_++){const w=h[_];w&&w.ngInherit&&w(n),w===Ud&&(s=!1)}}r=Object.getPrototypeOf(r)}!function bl(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Uo(c.hostAttrs,s=Uo(s,c.hostAttrs))}}(a)}function jd(n){return n===on?{}:n===pn?[]:n}function R_(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function nm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function F_(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let zu=null;function $u(){if(!zu){const n=Yn.Symbol;if(n&&n.iterator)zu=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(zu=a)}}}return zu}function Bd(n){return!!Hd(n)&&(Array.isArray(n)||!(n instanceof Map)&&$u()in n)}function Hd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function La(n,r,s){return n[r]=s}function Ts(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Il(n,r,s,a){const c=Ts(n,r,s);return Ts(n,r+1,a)||c}function $d(n,r,s,a){const c=vt();return Ts(c,Pt(),r)&&(Gn(),oa(Yt(),c,n,r,s,a)),$d}function Gu(n,r,s,a){return Ts(n,Pt(),s)?r+Fe(s)+a:$n}function Jc(n,r,s,a,c,h,_,w){const U=function of(n,r,s,a,c){const h=Il(n,r,s,a);return Ts(n,r+2,c)||h}(n,function Be(){return $t.lFrame.bindingIndex}(),s,c,_);return qt(3),U?r+Fe(s)+a+Fe(c)+h+Fe(_)+w:$n}function df(n,r,s,a,c,h,_,w){const b=vt(),U=Gn(),$=n+20,ie=U.firstCreatePass?function uf(n,r,s,a,c,h,_,w,b){const U=r.consts,$=Uu(r,n,4,_||null,qe(U,w));Bu(r,s,$,qe(U,b)),Ri(r,$);const ie=$.tViews=Bh(2,$,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,$),ie.queries=r.queries.embeddedTView($)),$}($,U,b,r,s,a,c,h,_):U.data[$];B(ie,!1);const Me=b[11].createComment("");Cd(U,b,Me,ie),To(Me,b),Gh(b,b[$]=$h(Me,b,Me,ie)),oi(ie)&&xp(U,b,ie),null!=_&&kp(b,ie,w)}function hf(n){return Ot(function H(){return $t.lFrame.contextLView}(),20+n)}function Kd(n,r=tn.Default){const s=vt();return null===s?gt(n,r):$e(Mr(),s,Oe(n),r)}function Ry(){throw new Error("invalid")}function gf(n,r,s){const a=vt();return Ts(a,Pt(),r)&&Os(Gn(),Yt(),a,n,r,a[11],s,!1),gf}function mm(n,r,s,a,c){const _=c?"class":"style";Qg(n,s,r.inputs[_],_,a)}function gm(n,r,s,a){const c=vt(),h=Gn(),_=20+n,w=c[11],b=c[_]=Nu(w,r,function qi(){return $t.lFrame.currentNamespace}()),U=h.firstCreatePass?function G_(n,r,s,a,c,h,_){const w=r.consts,U=Uu(r,n,2,c,qe(w,h));return Bu(r,s,U,qe(w,_)),null!==U.attrs&&Qh(U,U.attrs,!1),null!==U.mergedAttrs&&Qh(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(_,h,c,0,r,s,a):h.data[_];B(U,!0);const $=U.mergedAttrs;null!==$&&Ls(w,b,$);const ie=U.classes;null!==ie&&Ah(w,b,ie);const Me=U.styles;null!==Me&&vp(w,b,Me),64!=(64&U.flags)&&Cd(h,c,b,U),0===function gi(){return $t.lFrame.elementDepthCount}()&&To(b,c),function ai(){$t.lFrame.elementDepthCount++}(),oi(U)&&(xp(h,c,U),Lg(h,U,c)),null!==a&&kp(c,U)}function ym(){let n=Mr();m()?v():(n=n.parent,B(n,!1));const r=n;!function Oi(){$t.lFrame.elementDepthCount--}();const s=Gn();s.firstCreatePass&&(Ri(s,n),Di(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Gs(n){return 0!=(16&n.flags)}(r)&&mm(s,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vo(n){return 0!=(32&n.flags)}(r)&&mm(s,r,vt(),r.stylesWithoutHost,!1)}function K_(n,r,s,a){gm(n,r,s,a),ym()}function yf(n,r,s){const a=vt(),c=Gn(),h=n+20,_=c.firstCreatePass?function W_(n,r,s,a,c){const h=r.consts,_=qe(h,a),w=Uu(r,n,8,"ng-container",_);return null!==_&&Qh(w,_,!0),Bu(r,s,w,qe(h,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(h,c,a,r,s):c.data[h];B(_,!0);const w=a[h]=a[11].createComment("");Cd(c,a,w,_),To(w,a),oi(_)&&(xp(c,a,_),Lg(c,_,a)),null!=s&&kp(a,_)}function Va(){let n=Mr();const r=Gn();m()?v():(n=n.parent,B(n,!1)),r.firstCreatePass&&(Ri(r,n),Di(n)&&r.queries.elementEnd(n))}function Ua(){return vt()}function Al(n){return!!n&&"function"==typeof n.then}function Wd(n){return!!n&&"function"==typeof n.subscribe}const Fy=Wd;function vm(n,r,s,a){const c=vt(),h=Gn(),_=Mr();return qd(h,c,c[11],_,n,r,!!s,a),vm}function vf(n,r){const s=Mr(),a=vt(),c=Gn();return qd(c,a,Zg(Ar(c.data),s,a),s,n,r,!1),vf}function qd(n,r,s,a,c,h,_,w){const b=oi(a),$=n.firstCreatePass&&qh(n),ie=r[8],Me=qg(r);let Ke=!0;if(3&a.type||w){const Qt=Ee(a,r),hn=w?w(Qt):Qt,wt=Me.length,Nn=w?Cr=>w(k(Cr[a.index])):a.index;if(Qn(s)){let Cr=null;if(!w&&b&&(Cr=function Ly(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const _=c[h];if(_===s&&c[h+1]===a){const w=r[7],b=c[h+2];return w.length>b?w[b]:null}"string"==typeof _&&(h+=2)}return null}(n,r,c,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=h,Cr.__ngLastListenerFn__=h,Ke=!1;else{h=xl(a,r,ie,h,!1);const ii=s.listen(hn,c,h);Me.push(h,ii),$&&$.push(c,Nn,wt,wt+1)}}else h=xl(a,r,ie,h,!0),hn.addEventListener(c,h,_),Me.push(h),$&&$.push(c,Nn,wt,_)}else h=xl(a,r,ie,h,!1);const mt=a.outputs;let jt;if(Ke&&null!==mt&&(jt=mt[c])){const Qt=jt.length;if(Qt)for(let hn=0;hn<Qt;hn+=2){const Ka=r[jt[hn]][jt[hn+1]].subscribe(h),fh=Me.length;Me.push(h,Ka),$&&$.push(c,a.index,fh,-(fh+1))}}}function Yy(n,r,s,a){try{return!1!==s(a)}catch(c){return Zh(n,c),!1}}function xl(n,r,s,a,c){return function h(_){if(_===Function)return a;const w=2&n.flags?R(n.index,r):r;0==(32&r[2])&&Ld(w);let b=Yy(r,0,a,_),U=h.__ngNextListenerFn__;for(;U;)b=Yy(r,0,U,_)&&b,U=U.__ngNextListenerFn__;return c&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Zd(n=1){return function Wo(n){return($t.lFrame.contextLView=function qo(n,r){for(;n>0;)r=r[15],n--;return r}(n,$t.lFrame.contextLView))[8]}(n)}function Qd(n,r){let s=null;const a=function jc(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===a?wl(n,h,!0):u_(a,h))return c}else s=c}return s}function _m(n){const r=vt()[16][6];if(!r.projection){const a=r.projection=Qs(n?n.length:1,null),c=a.slice();let h=r.child;for(;null!==h;){const _=n?Qd(h,n):0;null!==_&&(c[_]?c[_].projectionNext=h:a[_]=h,c[_]=h),h=h.next}}}function _f(n,r=0,s){const a=vt(),c=Gn(),h=Uu(c,20+n,16,null,s||null);null===h.projection&&(h.projection=r),v(),64!=(64&h.flags)&&function yp(n,r,s){Ph(r[11],0,r,s,Xl(n,s,r),Ch(s.parent||r[6],s,r))}(c,a,h)}function Ef(n,r,s,a,c){const h=vt(),_=Gu(h,r,s,a);return _!==$n&&Os(Gn(),Yt(),h,n,_,h[11],c,!1),Ef}function Jd(n,r,s,a,c){const h=n[s+1],_=null===r;let w=a?Ea(h):Ds(h),b=!1;for(;0!==w&&(!1===b||_);){const $=n[w+1];By(n[w],r)&&(b=!0,n[w+1]=a?Sl($):Rh($)),w=a?Ea($):Ds($)}b&&(n[s+1]=a?Rh(h):Sl(h))}function By(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ia(n,r)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hy(n){return n.substring(eo.key,eo.keyEnd)}function nl(n,r){const s=eo.textEnd;return s===r?-1:(r=eo.keyEnd=function $y(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,eo.key=r,s),tu(n,r,s))}function tu(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function wm(n,r,s){return ja(n,r,s,!1),wm}function bf(n,r){return ja(n,r,null,!0),bf}function Sm(n){!function Ta(n,r,s,a){const c=Gn(),h=qt(2);c.firstUpdatePass&&Wy(c,null,h,a);const _=vt();if(s!==$n&&Ts(_,h,s)){const w=c.data[vi()];if(ev(w,a)&&!Ky(c,h)){let b=a?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(s=me(b,s||"")),mm(c,w,_,s,a)}else!function hc(n,r,s,a,c,h,_,w){c===$n&&(c=pn);let b=0,U=0,$=0<c.length?c[0]:null,ie=0<h.length?h[0]:null;for(;null!==$||null!==ie;){const Me=b<c.length?c[b+1]:void 0,Ke=U<h.length?h[U+1]:void 0;let jt,mt=null;$===ie?(b+=2,U+=2,Me!==Ke&&(mt=ie,jt=Ke)):null===ie||null!==$&&$<ie?(b+=2,mt=$):(U+=2,mt=ie,jt=Ke),null!==mt&&Xy(n,r,s,a,mt,jt,_,w),$=b<c.length?c[b]:null,ie=U<h.length?h[U]:null}}(c,w,_,_[11],_[h+1],_[h+1]=function J_(n,r,s){if(null==s||""===s)return pn;const a=[],c=ea(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(a,h,c[h]);else"string"==typeof c&&r(a,c);return a}(n,r,s),a,h)}}(Qi,il,n,!0)}function il(n,r){for(let s=function eu(n){return function zy(n){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=n.length}(n),nl(n,tu(n,0,eo.textEnd))}(r);s>=0;s=nl(r,s))Qi(n,Hy(r),!0)}function ja(n,r,s,a){const c=vt(),h=Gn(),_=qt(2);h.firstUpdatePass&&Wy(h,n,_,a),r!==$n&&Ts(c,_,r)&&Xy(h,h.data[vi()],c,c[11],n,c[_+1]=function X_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ie(ea(n)))),n}(r,s),a,_)}function Ky(n,r){return r>=n.expandoStartIndex}function Wy(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[vi()],_=Ky(n,s);ev(h,a)&&null===r&&!_&&(r=!1),r=function qy(n,r,s,a){const c=Ar(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=dc(s=th(null,n,r,s,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==c)if(s=th(c,n,r,s,a),null===h){let b=function Zy(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ds(a))return n[Ea(a)]}(n,r,a);void 0!==b&&Array.isArray(b)&&(b=th(null,n,r,b[1],a),b=dc(b,r.attrs,a),function Qy(n,r,s,a){n[Ea(s?r.classBindings:r.styleBindings)]=a}(n,r,a,b))}else h=function Jy(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=dc(a,n[h].hostAttrs,s);return dc(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function q_(n,r,s,a,c,h){let _=h?r.classBindings:r.styleBindings,w=Ea(_),b=Ds(_);n[a]=s;let $,U=!1;if(Array.isArray(s)){const ie=s;$=ie[1],(null===$||Ia(ie,$)>0)&&(U=!0)}else $=s;if(c)if(0!==b){const Me=Ea(n[w+1]);n[a+1]=fs(Me,w),0!==Me&&(n[Me+1]=tc(n[Me+1],a)),n[w+1]=function Dp(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=fs(w,0),0!==w&&(n[w+1]=tc(n[w+1],a)),w=a;else n[a+1]=fs(b,0),0===w?w=a:n[b+1]=tc(n[b+1],a),b=a;U&&(n[a+1]=Rh(n[a+1])),Jd(n,$,a,!0),Jd(n,$,a,!1),function Sf(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&Ia(h,r)>=0&&(s[a+1]=Sl(s[a+1]))}(r,$,n,a,h),_=fs(w,b),h?r.classBindings=_:r.styleBindings=_}(c,h,r,s,_,a)}}function th(n,r,s,a,c){let h=null;const _=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<_&&(h=r[w],a=dc(a,h.hostAttrs,c),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function dc(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?c=_:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qi(n,_,!!s||r[++h]))}return void 0===n?null:n}function Xy(n,r,s,a,c,h,_,w){if(!(3&r.type))return;const b=n.data,U=b[w+1];If(function Tp(n){return 1==(1&n)}(U)?fc(b,r,s,c,Ds(U),_):void 0)||(If(h)||function Pd(n){return 2==(2&n)}(U)&&(h=fc(b,null,s,c,w,_)),function o_(n,r,s,a,c){const h=Qn(n);if(r)c?h?n.addClass(s,a):s.classList.add(a):h?n.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:it.DashCase;if(null==c)h?n.removeStyle(s,a,_):s.style.removeProperty(a);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),_|=it.Important),h?n.setStyle(s,a,c,_):s.style.setProperty(a,c,w?"important":"")}}}(a,_,Q(vi(),s),c,h))}function fc(n,r,s,a,c,h){const _=null===r;let w;for(;c>0;){const b=n[c],U=Array.isArray(b),$=U?b[1]:b,ie=null===$;let Me=s[c+1];Me===$n&&(Me=ie?pn:void 0);let Ke=ie?ks(Me,a):$===a?Me:void 0;if(U&&!If(Ke)&&(Ke=ks(b,a)),If(Ke)&&(w=Ke,_))return w;const mt=n[c+1];c=_?Ea(mt):Ds(mt)}if(null!==r){let b=h?r.residualClasses:r.residualStyles;null!=b&&(w=ks(b,a))}return w}function If(n){return void 0!==n}function ev(n,r){return 0!=(n.flags&(r?16:32))}function tv(n,r=""){const s=vt(),a=Gn(),c=n+20,h=a.firstCreatePass?Uu(a,c,1,r,null):a.data[c],_=s[c]=function Ou(n,r){return Qn(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Cd(a,s,_,h),B(h,!1)}function bm(n){return nh("",n,""),bm}function nh(n,r,s){const a=vt(),c=Gu(a,n,r,s);return c!==$n&&Fa(a,vi(),c),nh}function Pm(n,r,s,a,c,h,_){const w=vt(),b=Jc(w,n,r,s,a,c,h,_);return b!==$n&&Fa(w,vi(),b),Pm}function ru(n,r,s){const a=vt();if(Ts(a,Pt(),r)){const h=Gn(),_=Yt();Os(h,_,a,n,r,Zg(Ar(h.data),_,a),s,!0)}return ru}const Ba=void 0;var uE=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ns(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let mc={};function Zu(n,r,s){"string"!=typeof r&&(s=r,r=n[Ln.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),mc[r]=n,s&&(mc[r][Ln.ExtraData]=s)}function Ol(n){const r=function dE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=uv(r);if(s)return s;const a=r.split("-")[0];if(s=uv(a),s)return s;if("en"===a)return uE;throw new Error(`Missing locale data for the locale "${n}".`)}function gc(n){return Ol(n)[Ln.PluralCase]}function uv(n){return n in mc||(mc[n]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[n]),mc[n]}var Ln=(()=>((Ln=Ln||{})[Ln.LocaleId=0]="LocaleId",Ln[Ln.DayPeriodsFormat=1]="DayPeriodsFormat",Ln[Ln.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ln[Ln.DaysFormat=3]="DaysFormat",Ln[Ln.DaysStandalone=4]="DaysStandalone",Ln[Ln.MonthsFormat=5]="MonthsFormat",Ln[Ln.MonthsStandalone=6]="MonthsStandalone",Ln[Ln.Eras=7]="Eras",Ln[Ln.FirstDayOfWeek=8]="FirstDayOfWeek",Ln[Ln.WeekendRange=9]="WeekendRange",Ln[Ln.DateFormat=10]="DateFormat",Ln[Ln.TimeFormat=11]="TimeFormat",Ln[Ln.DateTimeFormat=12]="DateTimeFormat",Ln[Ln.NumberSymbols=13]="NumberSymbols",Ln[Ln.NumberFormats=14]="NumberFormats",Ln[Ln.CurrencyCode=15]="CurrencyCode",Ln[Ln.CurrencySymbol=16]="CurrencySymbol",Ln[Ln.CurrencyName=17]="CurrencyName",Ln[Ln.Currencies=18]="Currencies",Ln[Ln.Directionality=19]="Directionality",Ln[Ln.PluralCase=20]="PluralCase",Ln[Ln.ExtraData=21]="ExtraData",Ln))();const Ha="en-US";let Lm=Ha;function Zm(n,r,s,a,c){if(n=Oe(n),Array.isArray(n))for(let h=0;h<n.length;h++)Zm(n[h],r,s,a,c);else{const h=Gn(),_=vt();let w=ac(n)?n:Oe(n.provide),b=Xh(n);const U=Mr(),$=1048575&U.providerIndexes,ie=U.directiveStart,Me=U.providerIndexes>>20;if(ac(n)||!n.multi){const Ke=new Zi(b,c,Kd),mt=Jm(w,r,c?$:$+Me,ie);-1===mt?(st(j(U,_),h,w),Qm(h,n,r.length),r.push(w),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(Ke),_.push(Ke)):(s[mt]=Ke,_[mt]=Ke)}else{const Ke=Jm(w,r,$+Me,ie),mt=Jm(w,r,$,$+Me),jt=Ke>=0&&s[Ke],Qt=mt>=0&&s[mt];if(c&&!Qt||!c&&!jt){st(j(U,_),h,w);const hn=function xv(n,r,s,a,c){const h=new Zi(n,s,Kd);return h.multi=[],h.index=r,h.componentProviders=0,Av(h,c,a&&!s),h}(c?VE:YE,s.length,c,a,b);!c&&Qt&&(s[mt].providerFactory=hn),Qm(h,n,r.length,0),r.push(w),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(hn),_.push(hn)}else Qm(h,n,Ke>-1?Ke:mt,Av(s[c?mt:Ke],b,!c&&a));!c&&a&&Qt&&s[mt].componentProviders++}}}function Qm(n,r,s,a){const c=ac(r),h=function k_(n){return!!n.useClass}(r);if(c||h){const b=(h?Oe(r.useClass):r).prototype.ngOnDestroy;if(b){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const $=U.indexOf(s);-1===$?U.push(s,[a,b]):U[$+1].push(a,b)}else U.push(s,b)}}}function Av(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Jm(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function YE(n,r,s,a){return Xu(this.multi,[])}function VE(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ks(s,s[1],this.providerFactory.index,a);h=w.slice(0,_),Xu(c,h);for(let b=_;b<w.length;b++)h.push(w[b])}else h=[],Xu(c,h);return h}function Xu(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Xm(n,r=[]){return s=>{s.providersResolver=(a,c)=>function LE(n,r,s){const a=Gn();if(a.firstCreatePass){const c=Qr(n);Zm(s,a.data,a.blueprint,c,!0),Zm(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class kv{}class Ov{resolveComponentFactory(r){throw function UE(n){const r=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ed=(()=>{class n{}return n.NULL=new Ov,n})();function Nv(){return su(Mr(),vt())}function su(n,r){return new zf(Ee(n,r))}let zf=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Nv,n})();function BE(n){return n instanceof zf?n.nativeElement:n}class HE{}let tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zE(){const n=vt(),s=R(Mr().index,n);return function JD(n){return n[11]}(fi(s)?s:n)}(),n})(),Rv=(()=>{class n{}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:()=>null}),n})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ng=new Fv("13.0.3"),ch={};function td(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(k(h)),Yr(h))for(let w=10;w<h.length;w++){const b=h[w],U=b[1].firstChild;null!==U&&td(b[1],b,U,a)}const _=s.type;if(8&_)td(n,r,s.child,a);else if(32&_){const w=an(s,r);let b;for(;b=w();)a.push(b)}else if(16&_){const w=ec(r,s);if(Array.isArray(w))a.push(...w);else{const b=Ii(r[16]);td(b[1],b,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class $f{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return td(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Yr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(at(r,a),vs(s,a))}this._attachedToViewContainer=!1}wd(this._lView[1],this._lView)}onDestroy(r){Md(this._lView[1],this._lView,null,r)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Up(n,r,s){pe(!0);try{Wh(n,r,s)}finally{pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fp(n,r){Fu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class rg extends $f{constructor(r){super(r),this._view=r}detectChanges(){Kc(this._view)}checkNoChanges(){!function I_(n){pe(!0);try{Kc(n)}finally{pe(!1)}}(this._view)}get context(){return null}}class $E extends ed{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=rt(r);return new Yv(s,this.ngModule)}}function Lv(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const GE=new Tr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>El});class Yv extends kv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function d_(n){return n.map(Nh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Lv(this.componentDef.inputs)}get outputs(){return Lv(this.componentDef.outputs)}create(r,s,a,c){const h=(c=c||this.ngModule)?function KE(n,r){return{get:(s,a,c)=>{const h=n.get(s,ch,c);return h!==ch||a===ch?h:r.get(s,a,c)}}}(r,c.injector):r,_=h.get(HE,yo),w=h.get(Rv,null),b=_.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",$=a?function Hh(n,r,s){if(Qn(n))return n.selectRootElement(r,s===bt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(b,a,this.componentDef.encapsulation):Nu(_.createRenderer(null,this.componentDef),U,function XD(n){const r=n.toLowerCase();return"svg"===r?Br:"math"===r?"http://www.w3.org/1998/MathML/":null}(U)),ie=this.componentDef.onPush?576:528,Me=function Zc(n,r){return{components:[],scheduler:n||El,clean:Wg,playerHandler:r||null,flags:0}}(),Ke=Bh(0,null,null,1,0,null,null,null,null,null),mt=zc(null,Ke,Me,ie,null,null,_,b,w,h);let jt,Qt;yi(mt);try{const hn=function nf(n,r,s,a,c,h){const _=s[1];s[20]=n;const b=Uu(_,20,2,"#host",null),U=b.mergedAttrs=r.hostAttrs;null!==U&&(Qh(b,U,!0),null!==n&&(Ls(c,n,U),null!==b.classes&&Ah(c,n,b.classes),null!==b.styles&&vp(c,n,b.styles)));const $=a.createRenderer(n,r),ie=zc(s,Yg(r),null,r.onPush?64:16,s[20],b,a,$,h||null,null);return _.firstCreatePass&&(st(j(b,s),_,r.type),zg(_,b),zh(b,s.length,1)),Gh(s,ie),s[20]=ie}($,this.componentDef,mt,_,b);if($)if(a)Ls(b,$,["ng-version",ng.full]);else{const{attrs:wt,classes:Nn}=function wg(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!Na(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);wt&&Ls(b,$,wt),Nn&&Nn.length>0&&Ah(b,$,Nn.join(" "))}if(Qt=yt(Ke,20),void 0!==s){const wt=Qt.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const Cr=s[Nn];wt.push(null!=Cr?Array.from(Cr):null)}}jt=function rf(n,r,s,a,c){const h=s[1],_=function jg(n,r,s){const a=Mr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),$c(n,a,r,ju(n,r,1,null),s));const c=Ks(r,n,a.directiveStart,a);To(c,r);const h=Ee(a,r);return h&&To(h,r),c}(h,s,r);if(a.components.push(_),n[8]=_,c&&c.forEach(b=>b(_,r)),r.contentQueries){const b=Mr();r.contentQueries(1,_,b.directiveStart)}const w=Mr();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Wi(w.index),Hu(s[1],w,0,w.directiveStart,w.directiveEnd,r),Hg(r,_)),_}(hn,this.componentDef,mt,Me,[fy]),kd(Ke,mt,null)}finally{ms()}return new nT(this.componentType,jt,su(Qt,mt),mt,Qt)}}class nT extends class eg{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new rg(c),this.componentType=r}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class uh{}class WE{}const dh=new Map;class og extends uh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $E(this);const a=Sn(r);this._bootstrapComponents=f(a.bootstrap),this._r3Injector=qc(r,s,[{provide:uh,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],Ie(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=sa.THROW_IF_NOT_FOUND,a=tn.Default){return r===sa||r===uh||r===Vd?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Gf extends WE{constructor(r){super(),this.moduleType=r,null!==Sn(r)&&function Uv(n){const r=new Set;!function s(a){const c=Sn(a,!0),h=c.id;null!==h&&(function Vv(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Ie(r)} vs ${Ie(r.name)}`)}(h,dh.get(h),a),dh.set(h,a));const _=f(c.imports);for(const w of _)r.has(w)||(r.add(w),s(w))}(n)}(r)}create(r){return new og(this.moduleType,r)}}function sg(n,r,s){const a=ye()+n,c=vt();return c[a]===$n?La(c,a,s?r.call(s):r()):function zd(n,r){return n[r]}(c,a)}function ag(n,r,s,a){return Hv(vt(),ye(),n,r,s,a)}function QE(n,r,s,a,c){return cg(vt(),ye(),n,r,s,a,c)}function au(n,r){const s=n[r];return s===$n?void 0:s}function Hv(n,r,s,a,c,h){const _=r+s;return Ts(n,_,c)?La(n,_+1,h?a.call(h,c):a(c)):au(n,_+1)}function cg(n,r,s,a,c,h,_){const w=r+s;return Il(n,w,c,h)?La(n,w+2,_?a.call(_,c,h):a(c,h)):au(n,w+2)}function hg(n,r){const s=Gn();let a;const c=n+20;s.firstCreatePass?(a=function $v(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=mi(a.type)),_=sr(Kd);try{const w=Ys(!1),b=h();return Ys(w),function Ey(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,vt(),c,b),b}finally{sr(_)}}function Gv(n,r,s){const a=n+20,c=vt(),h=Ot(c,a);return i(c,a)?Hv(c,ye(),r,h.transform,s,h):h.transform(s)}function Kv(n,r,s,a){const c=n+20,h=vt(),_=Ot(h,c);return i(h,c)?cg(h,ye(),r,_.transform,s,a,_):_.transform(s,a)}function i(n,r){return n[1].data[r].pure}function t(n){return r=>{setTimeout(n,void 0,r)}}const o=class e extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var c,h,_;let w=r,b=s||(()=>null),U=a;if(r&&"object"==typeof r){const ie=r;w=null===(c=ie.next)||void 0===c?void 0:c.bind(ie),b=null===(h=ie.error)||void 0===h?void 0:h.bind(ie),U=null===(_=ie.complete)||void 0===_?void 0:_.bind(ie)}this.__isAsync&&(b=t(b),w&&(w=t(w)),U&&(U=t(U)));const $=super.subscribe({next:w,error:b,complete:U});return r instanceof Z.w0&&r.add($),$}};function l(){return this._results[$u()]()}class d{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=$u(),a=d.prototype;a[s]||(a[s]=l)}get changes(){return this._changes||(this._changes=new o)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Io(r);(this._changesDetected=!function Dc(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let g=(()=>{class n{}return n.__NG_ELEMENT_ID__=z,n})();const S=g,F=class extends S{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=zc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),kd(s,a,r),new $f(a)}};function z(){return se(Mr(),vt())}function se(n,r){return 4&n.type?new F(r,n,su(n,r)):null}let we=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qe,n})();function Qe(){return $r(Mr(),vt())}const _t=we,St=class extends _t{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const r=ot(this._hostTNode,this._hostLView);if(wa(r)){const s=Dr(r,this._hostLView),a=as(r);return new Ws(s[1].data[a+8],s)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=nn(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const c=r.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(r,s,a,c,h){const _=r&&!function ls(n){return"function"==typeof n}(r);let w;if(_)w=s;else{const ie=s||{};w=ie.index,a=ie.injector,c=ie.projectableNodes,h=ie.ngModuleRef}const b=_?r:new Yv(rt(r)),U=a||this.parentInjector;if(!h&&null==b.ngModule&&U){const ie=U.get(uh,null);ie&&(h=ie)}const $=b.create(U,c,void 0,h);return this.insert($.hostView,w),$}insert(r,s){const a=r._lView,c=a[1];if(function W(n){return Yr(n[3])}(a)){const $=this.indexOf(r);if(-1!==$)this.detach($);else{const ie=a[3],Me=new St(ie,ie[6],ie[3]);Me.detach(Me.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function r_(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],cs(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function yg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const w=r[19];null!==w&&w.insertView(n),r[2]|=128}(c,a,_,h);const w=Tl(h,_),b=a[11],U=wo(b,_[7]);return null!==U&&function Ru(n,r,s,a,c,h){a[0]=c,a[6]=r,Fu(n,a,s,1,c,h)}(c,_[6],b,a,U,w),r.attachToViewContainerRef(),cs(xn(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=nn(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=at(this._lContainer,s);a&&(vs(xn(this._lContainer),s),wd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=at(this._lContainer,s);return a&&null!=vs(xn(this._lContainer),s)?new $f(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function nn(n){return n[8]}function xn(n){return n[8]||(n[8]=[])}function $r(n,r){let s;const a=r[n.index];if(Yr(a))s=a;else{let c;if(8&n.type)c=k(a);else{const h=r[11];c=h.createComment("");const _=Ee(n,r);ra(h,wo(h,_),c,function gp(n,r){return Qn(n)?n.nextSibling(r):r.nextSibling}(h,_),!1)}r[n.index]=s=$h(a,r,c,n),Gh(r,s)}return new St(s,n,r)}class mr{constructor(r){this.queryList=r,this.matches=null}clone(){return new mr(this.queryList)}setDirty(){this.queryList.setDirty()}}class lr{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);c.push(this.queries[_.indexInDeclarationView].clone())}return new lr(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==hT(r,s).matches&&this.queries[s].setDirty()}}class $a{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Rs{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Rs(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Nl{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Nl(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,Ho(s,h)),this.matchTNodeWithReadOption(r,s,jo(s,r,h,!1,!1))}else a===g?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,jo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===zf||c===we||c===g&&4&s.type)this.addMatch(s.index,-2);else{const h=jo(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Ho(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function nd(n,r,s,a){return-1===s?function ro(n,r){return 11&n.type?su(n,r):4&n.type?se(n,r):null}(r,n):-2===s?function aw(n,r,s){return s===zf?su(r,n):s===g?se(r,n):s===we?$r(r,n):void 0}(n,r,a):Ks(n,n[1],s,r)}function oT(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const h=n.data,_=s.matches,w=[];for(let b=0;b<_.length;b+=2){const U=_[b];w.push(U<0?null:nd(r,h[U],_[b+1],s.metadata.read))}c.matches=w}return c.matches}function nD(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const _=oT(n,r,c,s);for(let w=0;w<h.length;w+=2){const b=h[w];if(b>0)a.push(_[w/2]);else{const U=h[w+1],$=r[-b];for(let ie=10;ie<$.length;ie++){const Me=$[ie];Me[17]===Me[3]&&nD(Me[1],Me,U,a)}if(null!==$[9]){const ie=$[9];for(let Me=0;Me<ie.length;Me++){const Ke=ie[Me];nD(Ke[1],Ke,U,a)}}}}}return a}function sT(n){const r=vt(),s=Gn(),a=Or();Xr(a+1);const c=hT(s,a);if(n.dirty&&x(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?nD(s,r,a,[]):oT(s,r,c,a);n.reset(h,BE),n.notifyOnChanges()}return!0}return!1}function aT(n,r,s){const a=Gn();a.firstCreatePass&&(dT(a,new $a(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),uT(a,vt(),r)}function lT(n,r,s,a){const c=Gn();if(c.firstCreatePass){const h=Mr();dT(c,new $a(r,s,a),h.index),function cw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}uT(c,vt(),s)}function cT(){return function lw(n,r){return n[19].queries[r].queryList}(vt(),Or())}function uT(n,r,s){const a=new d(4==(4&s));Md(n,r,a,a.destroy),null===r[19]&&(r[19]=new lr),r[19].queries.push(new mr(a))}function dT(n,r,s){null===n.queries&&(n.queries=new Rs),n.queries.track(new Nl(r,s))}function hT(n,r){return n.queries.getByIndex(r)}function fT(n,r){return se(n,r)}function Jv(...n){}const lD=new Tr("Application Initializer");let qf=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Jv,this.reject=Jv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Al(h))s.push(h);else if(Fy(h)){const _=new Promise((w,b)=>{h.subscribe({complete:w,error:b})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(gt(lD,8))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();const xT=new Tr("AppId"),Iw={provide:xT,useFactory:function bw(){return`${cD()}${cD()}${cD()}`},deps:[]};function cD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kT=new Tr("Platform Initializer"),MT=new Tr("Platform ID"),OT=new Tr("appBootstrapListener");let NT=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();const Xv=new Tr("LocaleId"),RT=new Tr("DefaultCurrencyCode");class Pw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let uD=(()=>{class n{compileModuleSync(s){return new Gf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=f(Sn(s).declarations).reduce((_,w)=>{const b=rt(w);return b&&_.push(new Yv(b)),_},[]);return new Pw(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();const xw=(()=>Promise.resolve(0))();function dD(n){"undefined"==typeof Zone?xw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ga{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new o(!1),this.onMicrotaskEmpty=new o(!1),this.onStable=new o(!1),this.onError=new o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function kw(){let n=Yn.requestAnimationFrame,r=Yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Nw(n){const r=()=>{!function Ow(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fD(n),n.isCheckStableRunning=!0,hD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,_,w)=>{try{return FT(n),s.invokeTask(c,h,_,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),LT(n)}},onInvoke:(s,a,c,h,_,w,b)=>{try{return FT(n),s.invoke(c,h,_,w,b)}finally{n.shouldCoalesceRunChangeDetection&&r(),LT(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,fD(n),hD(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+c,r,Mw,Jv,Jv);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Mw={};function hD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LT(n){n._nesting--,hD(n)}class Rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new o,this.onMicrotaskEmpty=new o,this.onStable=new o,this.onError=new o}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}let YT=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ga.assertNotInAngularZone(),dD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dD(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(gt(Ga))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})(),VT=(()=>{class n{constructor(){this._applications=new Map,pD.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return pD.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();class Fw{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Lw(n){pD=n}let Rl,pD=new Fw;const UT=new Tr("AllowMultipleToken");class Uw{constructor(r,s){this.name=r,this.token=s}}function jT(n,r,s=[]){const a=`Platform: ${r}`,c=new Tr(a);return(h=[])=>{let _=BT();if(!_||_.injector.get(UT,!1))if(n)n(s.concat(h).concat({provide:c,useValue:!0}));else{const w=s.concat(h).concat({provide:c,useValue:!0},{provide:ic,useValue:"platform"});!function jw(n){if(Rl&&!Rl.destroyed&&!Rl.injector.get(UT,!1))throw new ht("400","");Rl=n.get(HT);const r=n.get(kT,null);r&&r.forEach(s=>s())}(sa.create({providers:w,name:a}))}return function Bw(n){const r=BT();if(!r)throw new ht("401","");return r}()}}function BT(){return Rl&&!Rl.destroyed?Rl:null}let HT=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const w=function Hw(n,r){let s;return s="noop"===n?new Rw:("zone.js"===n?void 0:n)||new Ga({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),b=[{provide:Ga,useValue:w}];return w.run(()=>{const U=sa.create({providers:b,parent:this.injector,name:s.moduleType.name}),$=s.create(U),ie=$.injector.get(ko,null);if(!ie)throw new ht("402","");return w.runOutsideAngular(()=>{const Me=w.onError.subscribe({next:Ke=>{ie.handleError(Ke)}});$.onDestroy(()=>{mD(this._modules,$),Me.unsubscribe()})}),function zw(n,r,s){try{const a=s();return Al(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(ie,w,()=>{const Me=$.injector.get(qf);return Me.runInitializers(),Me.donePromise.then(()=>(function Mf(n){Bt(n,"Expected localeId to be defined"),"string"==typeof n&&(Lm=n.toLowerCase().replace(/_/g,"-"))}($.injector.get(Xv,Ha)||Ha),this._moduleDoBootstrap($),$))})})}bootstrapModule(s,a=[]){const c=zT({},a);return function Yw(n,r,s){const a=new Gf(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(pg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ht("403","");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(gt(sa))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();function zT(n,r){return Array.isArray(r)?r.reduce(zT,n):Object.assign(Object.assign({},n),r)}let pg=(()=>{class n{constructor(s,a,c,h,_){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),b=new G.y(U=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{Ga.assertNotInAngularZone(),dD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{Ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{$.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,De.T)(w,b.pipe((0,he.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new ht("405","");let c;c=s instanceof kv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function Vw(n){return n.isBoundToModule}(c)?void 0:this._injector.get(uh),w=c.create(sa.NULL,[],a||c.selector,h),b=w.location.nativeElement,U=w.injector.get(YT,null),$=U&&w.injector.get(VT);return U&&$&&$.registerApplication(b,U),w.onDestroy(()=>{this.detachView(w.hostView),mD(this.components,w),$&&$.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ht("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;mD(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(OT,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(gt(Ga),gt(sa),gt(ko),gt(ed),gt(qf))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})();function mD(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let GT=!0,KT=!1;function Gw(){return KT=!0,GT}function Kw(){if(KT)throw new Error("Cannot enable prod mode after platform setup.");GT=!1}let Ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=qw,n})();function qw(n){return function Zw(n,r,s){if(So(n)&&!s){const a=R(n.index,r);return new $f(a,a)}return 47&n.type?new $f(r[16],r):null}(Mr(),vt(),16==(16&n))}class XT{constructor(){}supports(r){return Bd(r)}create(r){return new nS(r)}}const tS=(n,r)=>r;class nS{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||tS}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<tw(a,c,h)?s:a,w=tw(_,c,h),b=_.currentIndex;if(_===a)c--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)c++;else{h||(h=[]);const U=w-c,$=b-c;if(U!=$){for(let Me=0;Me<U;Me++){const Ke=Me<h.length?h[Me]:h[Me]=0,mt=Ke+Me;$<=mt&&mt<U&&(h[Me]=Ke+1)}h[_.previousIndex]=$-U}}w!==b&&r(_,w,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Bd(r))throw new Error(`Error trying to diff '${Ie(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],_=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,w),a=!0),s=s._next}else c=0,function gy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[$u()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{_=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,w,_,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,_,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new rS(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class rS{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iS{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class ew{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new iS,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class nw{constructor(){}supports(r){return r instanceof Map||Hd(r)}create(){return new oS}}class oS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Hd(r)))throw new Error(`Error trying to diff '${Ie(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,_=c._next;return h&&(h._next=_),_&&(_._prev=h),c._next=null,c._prev=null,c}const a=new sS(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class sS{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new t_([new XT])}let t_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||rw()),deps:[[n,new _s,new zr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function aS(n){return n.name||typeof n}(s)}'`)}}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:rw}),n})();function iw(){return new n_([new nw])}let n_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||iw()),deps:[[n,new _s,new zr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:iw}),n})();const lS=[new nw],uS=new t_([new XT]),dS=new n_(lS),hS=jT(null,"core",[{provide:MT,useValue:"unknown"},{provide:HT,deps:[sa]},{provide:VT,deps:[]},{provide:NT,deps:[]}]),yS=[{provide:pg,useClass:pg,deps:[Ga,sa,ko,ed,qf]},{provide:GE,deps:[Ga],useFactory:function vS(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:qf,useClass:qf,deps:[[new zr,lD]]},{provide:uD,useClass:uD,deps:[]},Iw,{provide:t_,useFactory:function fS(){return uS},deps:[]},{provide:n_,useFactory:function pS(){return dS},deps:[]},{provide:Xv,useFactory:function mS(n){return n||function gS(){return"undefined"!=typeof $localize&&$localize.locale||Ha}()},deps:[[new hs(Xv),new zr,new _s]]},{provide:RT,useValue:"USD"}];let _S=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(gt(pg))},n.\u0275mod=At({type:n}),n.\u0275inj=Dn({providers:yS}),n})()},2382:(Nt,He,L)=>{L.d(He,{ve:()=>Ze,Fj:()=>Ne,u5:()=>Q,JU:()=>ht,a5:()=>Rn,JJ:()=>Ae,On:()=>jr,wV:()=>Zr});var p=L(5e3),Z=L(9808),G=L(8306),De=L(4742),he=L(8421),Te=L(3269),ke=L(5403),Ie=L(3268),me=L(1810),ae=L(8996),Oe=L(4004);let lt=(()=>{class R{constructor(I,W){this._renderer=I,this._elementRef=W,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(I,W){this._renderer.setProperty(this._elementRef.nativeElement,I,W)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return R.\u0275fac=function(I){return new(I||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),Je=(()=>{class R extends lt{}return R.\u0275fac=function(){let x;return function(W){return(x||(x=p.n5z(R)))(W||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const ht=new p.OlP("NgValueAccessor"),Fe={provide:ht,useExisting:(0,p.Gpc)(()=>Ne),multi:!0},Ze=new p.OlP("CompositionEventMode");let Ne=(()=>{class R extends lt{constructor(I,W,qe){super(I,W),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const R=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(I){this.setProperty("value",null==I?"":I)}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return R.\u0275fac=function(I){return new(I||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ze,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,W){1&I&&p.NdJ("input",function(Rt){return W._handleInput(Rt.target.value)})("blur",function(){return W.onTouched()})("compositionstart",function(){return W._compositionStart()})("compositionend",function(Rt){return W._compositionEnd(Rt.target.value)})},features:[p._Bn([Fe]),p.qOj]}),R})();const Le=new p.OlP("NgValidators"),Ct=new p.OlP("NgAsyncValidators");function Bt(R){return null!=R}function Vt(R){const x=(0,p.QGY)(R)?(0,ae.D)(R):R;return(0,p.CqO)(x),x}function sn(R){let x={};return R.forEach(I=>{x=null!=I?Object.assign(Object.assign({},x),I):x}),0===Object.keys(x).length?null:x}function gr(R,x){return x.map(I=>I(R))}function Jn(R){return R.map(x=>function pr(R){return!R.validate}(x)?x:I=>x.validate(I))}function Dn(R){return null!=R?function Vn(R){if(!R)return null;const x=R.filter(Bt);return 0==x.length?null:function(I){return sn(gr(I,x))}}(Jn(R)):null}function dr(R){return null!=R?function Wn(R){if(!R)return null;const x=R.filter(Bt);return 0==x.length?null:function(I){return function te(...R){const x=(0,Te.jO)(R),{args:I,keys:W}=(0,De.D)(R),qe=new G.y(Rt=>{const{length:vn}=I;if(!vn)return void Rt.complete();const $t=new Array(vn);let Gr=vn,gi=vn;for(let ai=0;ai<vn;ai++){let Oi=!1;(0,he.Xf)(I[ai]).subscribe(new ke.Q(Rt,ao=>{Oi||(Oi=!0,gi--),$t[ai]=ao},()=>Gr--,void 0,()=>{(!Gr||!Oi)&&(gi||Rt.next(W?(0,me.n)(W,$t):$t),Rt.complete())}))}});return x?qe.pipe((0,Ie.Z)(x)):qe}(gr(I,x).map(Vt)).pipe((0,Oe.U)(sn))}}(Jn(R)):null}function Fr(R,x){return null===R?[x]:Array.isArray(R)?[...R,x]:[R,x]}function Pn(R){return R?Array.isArray(R)?R:[R]:[]}function Lr(R,x){return Array.isArray(R)?R.includes(x):R===x}function Ur(R,x){const I=Pn(x);return Pn(R).forEach(qe=>{Lr(I,qe)||I.push(qe)}),I}function ln(R,x){return Pn(x).filter(I=>!Lr(R,I))}class tn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Dn(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,I){return!!this.control&&this.control.hasError(x,I)}getError(x,I){return this.control?this.control.getError(x,I):null}}class Rn extends tn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn extends tn{get formDirective(){return null}get path(){return null}}let Ae=(()=>{class R extends class sr{constructor(x){this._cd=x}is(x){var I,W,qe;return"submitted"===x?!!(null===(I=this._cd)||void 0===I?void 0:I.submitted):!!(null===(qe=null===(W=this._cd)||void 0===W?void 0:W.control)||void 0===qe?void 0:qe[x])}}{constructor(I){super(I)}}return R.\u0275fac=function(I){return new(I||R)(p.Y36(Rn,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,W){2&I&&p.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))},features:[p.qOj]}),R})();function kt(R,x){(function Mt(R,x){const I=function wn(R){return R._rawValidators}(R);null!==x.validator?R.setValidators(Fr(I,x.validator)):"function"==typeof I&&R.setValidators([I]);const W=function br(R){return R._rawAsyncValidators}(R);null!==x.asyncValidator?R.setAsyncValidators(Fr(W,x.asyncValidator)):"function"==typeof W&&R.setAsyncValidators([W]);const qe=()=>R.updateValueAndValidity();Wt(x._rawValidators,qe),Wt(x._rawAsyncValidators,qe)})(R,x),x.valueAccessor.writeValue(R.value),function de(R,x){x.valueAccessor.registerOnChange(I=>{R._pendingValue=I,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&ue(R,x)})}(R,x),function We(R,x){const I=(W,qe)=>{x.valueAccessor.writeValue(W),qe&&x.viewToModelUpdate(W)};R.registerOnChange(I),x._registerOnDestroy(()=>{R._unregisterOnChange(I)})}(R,x),function ee(R,x){x.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&ue(R,x),"submit"!==R.updateOn&&R.markAsTouched()})}(R,x),function Zt(R,x){if(x.valueAccessor.setDisabledState){const I=W=>{x.valueAccessor.setDisabledState(W)};R.registerOnDisabledChange(I),x._registerOnDestroy(()=>{R._unregisterOnDisabledChange(I)})}}(R,x)}function Wt(R,x){R.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(x)})}function ue(R,x){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Xt(R,x){const I=R.indexOf(x);I>-1&&R.splice(I,1)}const yr="VALID",Vi="INVALID",Ei="PENDING",Ui="DISABLED";function Un(R){return(Cn(R)?R.validators:R)||null}function ns(R){return Array.isArray(R)?Dn(R):R||null}function qn(R,x){return(Cn(x)?x.asyncValidators:R)||null}function Ht(R){return Array.isArray(R)?dr(R):R||null}function Cn(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class Zn{constructor(x,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=I,this._composedValidatorFn=ns(this._rawValidators),this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===yr}get invalid(){return this.status===Vi}get pending(){return this.status==Ei}get disabled(){return this.status===Ui}get enabled(){return this.status!==Ui}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=ns(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Ht(x)}addValidators(x){this.setValidators(Ur(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Ur(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(ln(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(ln(x,this._rawAsyncValidators))}hasValidator(x){return Lr(this._rawValidators,x)}hasAsyncValidator(x){return Lr(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=Ei,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const I=this._parentMarkedDirty(x.onlySelf);this.status=Ui,this.errors=null,this._forEachChild(W=>{W.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:I})),this._onDisabledChange.forEach(W=>W(!0))}enable(x={}){const I=this._parentMarkedDirty(x.onlySelf);this.status=yr,this._forEachChild(W=>{W.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:I})),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yr||this.status===Ei)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ui:yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=Ei,this._hasOwnPendingAsyncValidator=!0;const I=Vt(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,I={}){this.errors=x,this._updateControlsErrors(!1!==I.emitEvent)}get(x){return function er(R,x,I){if(null==x||(Array.isArray(x)||(x=x.split(I)),Array.isArray(x)&&0===x.length))return null;let W=R;return x.forEach(qe=>{W=W instanceof Pi?W.controls.hasOwnProperty(qe)?W.controls[qe]:null:W instanceof tr&&W.at(qe)||null}),W}(this,x,".")}getError(x,I){const W=I?this.get(I):this;return W&&W.errors?W.errors[x]:null}hasError(x,I){return!!this.getError(x,I)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ui:this.errors?Vi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ei)?Ei:this._anyControlsHaveStatus(Vi)?Vi:yr}_anyControlsHaveStatus(x){return this._anyControls(I=>I.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Cn(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kr extends Zn{constructor(x=null,I,W){super(Un(I),qn(W,I)),this._onChange=[],this._applyFormState(x),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(x,I={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(x,I={}){this.setValue(x,I)}reset(x=null,I={}){this._applyFormState(x),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Xt(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Xt(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class Pi extends Zn{constructor(x,I,W){super(Un(I),qn(W,I)),this.controls=x,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,I){return this.controls[x]?this.controls[x]:(this.controls[x]=I,I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange),I)}addControl(x,I,W={}){this.registerControl(x,I),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(x,I={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}setControl(x,I,W={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],I&&this.registerControl(x,I),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,I={}){this._checkAllValuesPresent(x),Object.keys(x).forEach(W=>{this._throwIfControlMissing(W),this.controls[W].setValue(x[W],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(x,I={}){null!=x&&(Object.keys(x).forEach(W=>{this.controls[W]&&this.controls[W].patchValue(x[W],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(x={},I={}){this._forEachChild((W,qe)=>{W.reset(x[qe],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this._reduceChildren({},(x,I,W)=>(x[W]=I instanceof kr?I.value:I.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(I,W)=>!!W._syncPendingControls()||I);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[x])throw new Error(`Cannot find form control with name: ${x}.`)}_forEachChild(x){Object.keys(this.controls).forEach(I=>{const W=this.controls[I];W&&x(W,I)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const I of Object.keys(this.controls)){const W=this.controls[I];if(this.contains(I)&&x(W))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,I,W)=>((I.enabled||this.disabled)&&(x[W]=I.value),x))}_reduceChildren(x,I){let W=x;return this._forEachChild((qe,Rt)=>{W=I(W,qe,Rt)}),W}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(x){this._forEachChild((I,W)=>{if(void 0===x[W])throw new Error(`Must supply a value for form control with name: '${W}'.`)})}}class tr extends Zn{constructor(x,I,W){super(Un(I),qn(W,I)),this.controls=x,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,I={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}insert(x,I,W={}){this.controls.splice(x,0,I),this._registerControl(I),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(x,I={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:I.emitEvent})}setControl(x,I,W={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),I&&(this.controls.splice(x,0,I),this._registerControl(I)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,I={}){this._checkAllValuesPresent(x),x.forEach((W,qe)=>{this._throwIfControlMissing(qe),this.at(qe).setValue(W,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(x,I={}){null!=x&&(x.forEach((W,qe)=>{this.at(qe)&&this.at(qe).patchValue(W,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(x=[],I={}){this._forEachChild((W,qe)=>{W.reset(x[qe],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this.controls.map(x=>x instanceof kr?x.value:x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(I=>I._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((I,W)=>!!W._syncPendingControls()||I,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(x))throw new Error(`Cannot find form control at index ${x}`)}_forEachChild(x){this.controls.forEach((I,W)=>{x(I,W)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(I=>I.enabled&&x(I))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_checkAllValuesPresent(x){this._forEachChild((I,W)=>{if(void 0===x[W])throw new Error(`Must supply a value for form control at index: ${W}.`)})}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}const hi={provide:Rn,useExisting:(0,p.Gpc)(()=>jr)},Bi=(()=>Promise.resolve(null))();let jr=(()=>{class R extends Rn{constructor(I,W,qe,Rt){super(),this.control=new kr,this._registered=!1,this.update=new p.vpe,this._parent=I,this._setValidators(W),this._setAsyncValidators(qe),this.valueAccessor=function It(R,x){if(!x)return null;let I,W,qe;return Array.isArray(x),x.forEach(Rt=>{Rt.constructor===Ne?I=Rt:function Ve(R){return Object.getPrototypeOf(R.constructor)===Je}(Rt)?W=Rt:qe=Rt}),qe||W||I||null}(0,Rt)}ngOnChanges(I){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in I&&this._updateDisabled(I),function oe(R,x){if(!R.hasOwnProperty("model"))return!1;const I=R.model;return!!I.isFirstChange()||!Object.is(x,I.currentValue)}(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function gn(R,x){return[...x.path,R]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){Bi.then(()=>{this.control.setValue(I,{emitViewToModelChange:!1})})}_updateDisabled(I){const W=I.isDisabled.currentValue,qe=""===W||W&&"false"!==W;Bi.then(()=>{qe&&!this.control.disabled?this.control.disable():!qe&&this.control.disabled&&this.control.enable()})}}return R.\u0275fac=function(I){return new(I||R)(p.Y36(Xn,9),p.Y36(Le,10),p.Y36(Ct,10),p.Y36(ht,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([hi]),p.qOj,p.TTD]}),R})();const Hi={provide:ht,useExisting:(0,p.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class R extends Je{writeValue(I){this.setProperty("value",null==I?"":I)}registerOnChange(I){this.onChange=W=>{I(""==W?null:parseFloat(W))}}}return R.\u0275fac=function(){let x;return function(W){return(x||(x=p.n5z(R)))(W||R)}}(),R.\u0275dir=p.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(I,W){1&I&&p.NdJ("input",function(Rt){return W.onChange(Rt.target.value)})("blur",function(){return W.onTouched()})},features:[p._Bn([Hi]),p.qOj]}),R})(),Di=(()=>{class R{}return R.\u0275fac=function(I){return new(I||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})(),M=(()=>{class R{}return R.\u0275fac=function(I){return new(I||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[[Di]]}),R})(),Q=(()=>{class R{}return R.\u0275fac=function(I){return new(I||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[M]}),R})()},6360:(Nt,He,L)=>{L.d(He,{Qb:()=>vt,PW:()=>Fs});var p=L(5e3),Z=L(2313),G=L(1777);function De(){return"undefined"!=typeof window&&void 0!==window.document}function he(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Te(B){switch(B.length){case 0:return new G.ZN;case 1:return B[0];default:return new G.ZE(B)}}function ke(B,m,v,P,H={},J={}){const pe=[],ye=[];let Be=-1,ut=null;if(P.forEach(Pt=>{const qt=Pt.offset,bn=qt==Be,un=bn&&ut||{};Object.keys(Pt).forEach(dn=>{let In=dn,Bn=Pt[dn];if("offset"!==dn)switch(In=m.normalizePropertyName(In,pe),Bn){case G.k1:Bn=H[dn];break;case G.l3:Bn=J[dn];break;default:Bn=m.normalizeStyleValue(dn,In,Bn,pe)}un[In]=Bn}),bn||ye.push(un),ut=un,Be=qt}),pe.length){const Pt="\n - ";throw new Error(`Unable to animate due to the following errors:${Pt}${pe.join(Pt)}`)}return ye}function Ie(B,m,v,P){switch(m){case"start":B.onStart(()=>P(v&&me(v,"start",B)));break;case"done":B.onDone(()=>P(v&&me(v,"done",B)));break;case"destroy":B.onDestroy(()=>P(v&&me(v,"destroy",B)))}}function me(B,m,v){const P=v.totalTime,J=te(B.element,B.triggerName,B.fromState,B.toState,m||B.phaseName,null==P?B.totalTime:P,!!v.disabled),pe=B._data;return null!=pe&&(J._data=pe),J}function te(B,m,v,P,H="",J=0,pe){return{element:B,triggerName:m,fromState:v,toState:P,phaseName:H,totalTime:J,disabled:!!pe}}function ae(B,m,v){let P;return B instanceof Map?(P=B.get(m),P||B.set(m,P=v)):(P=B[m],P||(P=B[m]=v)),P}function Oe(B){const m=B.indexOf(":");return[B.substring(1,m),B.substr(m+1)]}let lt=(B,m)=>!1,Je=(B,m)=>!1,ht=(B,m,v)=>[];const pt=he();(pt||"undefined"!=typeof Element)&&(lt=De()?(B,m)=>{for(;m&&m!==document.documentElement;){if(m===B)return!0;m=m.parentNode||m.host}return!1}:(B,m)=>B.contains(m),Je=(()=>{if(pt||Element.prototype.matches)return(B,m)=>B.matches(m);{const B=Element.prototype,m=B.matchesSelector||B.mozMatchesSelector||B.msMatchesSelector||B.oMatchesSelector||B.webkitMatchesSelector;return m?(v,P)=>m.apply(v,[P]):Je}})(),ht=(B,m,v)=>{let P=[];if(v){const H=B.querySelectorAll(m);for(let J=0;J<H.length;J++)P.push(H[J])}else{const H=B.querySelector(m);H&&P.push(H)}return P});let Fe=null,ct=!1;function Ze(B){Fe||(Fe=function Ne(){return"undefined"!=typeof document?document.body:null}()||{},ct=!!Fe.style&&"WebkitAppearance"in Fe.style);let m=!0;return Fe.style&&!function fe(B){return"ebkit"==B.substring(1,6)}(B)&&(m=B in Fe.style,!m&&ct&&(m="Webkit"+B.charAt(0).toUpperCase()+B.substr(1)in Fe.style)),m}const Ye=Je,Ge=lt,Le=ht;function Ct(B){const m={};return Object.keys(B).forEach(v=>{const P=v.replace(/([a-z])([A-Z])/g,"$1-$2");m[P]=B[v]}),m}let Ce=(()=>{class B{validateStyleProperty(v){return Ze(v)}matchesElement(v,P){return Ye(v,P)}containsElement(v,P){return Ge(v,P)}query(v,P,H){return Le(v,P,H)}computeStyle(v,P,H){return H||""}animate(v,P,H,J,pe,ye=[],Be){return new G.ZN(H,J)}}return B.\u0275fac=function(v){return new(v||B)},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac}),B})(),ne=(()=>{class B{}return B.NOOP=new Ce,B})();const je="ng-enter",_e="ng-leave",Jt="ng-trigger",Dt=".ng-trigger",Bt="ng-animating",Vt=".ng-animating";function sn(B){if("number"==typeof B)return B;const m=B.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:gr(parseFloat(m[1]),m[2])}function gr(B,m){return"s"===m?1e3*B:B}function pr(B,m,v){return B.hasOwnProperty("duration")?B:function Jn(B,m,v){let H,J=0,pe="";if("string"==typeof B){const ye=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return m.push(`The provided timing value "${B}" is invalid.`),{duration:0,delay:0,easing:""};H=gr(parseFloat(ye[1]),ye[2]);const Be=ye[3];null!=Be&&(J=gr(parseFloat(Be),ye[4]));const ut=ye[5];ut&&(pe=ut)}else H=B;if(!v){let ye=!1,Be=m.length;H<0&&(m.push("Duration values below 0 are not allowed for this animation step."),ye=!0),J<0&&(m.push("Delay values below 0 are not allowed for this animation step."),ye=!0),ye&&m.splice(Be,0,`The provided timing value "${B}" is invalid.`)}return{duration:H,delay:J,easing:pe}}(B,m,v)}function Vn(B,m={}){return Object.keys(B).forEach(v=>{m[v]=B[v]}),m}function Wn(B,m,v={}){if(m)for(let P in B)v[P]=B[P];else Vn(B,v);return v}function dr(B,m,v){return v?m+":"+v+";":""}function Fr(B){let m="";for(let v=0;v<B.style.length;v++){const P=B.style.item(v);m+=dr(0,P,B.style.getPropertyValue(P))}for(const v in B.style)B.style.hasOwnProperty(v)&&!v.startsWith("_")&&(m+=dr(0,dt(v),B.style[v]));B.setAttribute("style",m)}function wn(B,m,v){B.style&&(Object.keys(m).forEach(P=>{const H=sr(P);v&&!v.hasOwnProperty(P)&&(v[P]=B.style[H]),B.style[H]=m[P]}),he()&&Fr(B))}function br(B,m){B.style&&(Object.keys(m).forEach(v=>{const P=sr(v);B.style[P]=""}),he()&&Fr(B))}function Pn(B){return Array.isArray(B)?1==B.length?B[0]:(0,G.vP)(B):B}const Ur=new RegExp("{{\\s*(.+?)\\s*}}","g");function ln(B){let m=[];if("string"==typeof B){let v;for(;v=Ur.exec(B);)m.push(v[1]);Ur.lastIndex=0}return m}function tn(B,m,v){const P=B.toString(),H=P.replace(Ur,(J,pe)=>{let ye=m[pe];return m.hasOwnProperty(pe)||(v.push(`Please provide a value for the animation param ${pe}`),ye=""),ye.toString()});return H==P?B:H}function Rn(B){const m=[];let v=B.next();for(;!v.done;)m.push(v.value),v=B.next();return m}const Xn=/-+([a-z0-9])/g;function sr(B){return B.replace(Xn,(...m)=>m[1].toUpperCase())}function dt(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pe(B,m){return 0===B||0===m}function Ae(B,m,v){const P=Object.keys(v);if(P.length&&m.length){let J=m[0],pe=[];if(P.forEach(ye=>{J.hasOwnProperty(ye)||pe.push(ye),J[ye]=v[ye]}),pe.length)for(var H=1;H<m.length;H++){let ye=m[H];pe.forEach(function(Be){ye[Be]=ft(B,Be)})}}return m}function et(B,m,v){switch(m.type){case 7:return B.visitTrigger(m,v);case 0:return B.visitState(m,v);case 1:return B.visitTransition(m,v);case 2:return B.visitSequence(m,v);case 3:return B.visitGroup(m,v);case 4:return B.visitAnimate(m,v);case 5:return B.visitKeyframes(m,v);case 6:return B.visitStyle(m,v);case 8:return B.visitReference(m,v);case 9:return B.visitAnimateChild(m,v);case 10:return B.visitAnimateRef(m,v);case 11:return B.visitQuery(m,v);case 12:return B.visitStagger(m,v);default:throw new Error(`Unable to resolve animation metadata node #${m.type}`)}}function ft(B,m){return window.getComputedStyle(B)[m]}function bt(B,m){const v=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(P=>function zt(B,m,v){if(":"==B[0]){const Be=function Kt(B,m){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,P)=>parseFloat(P)>parseFloat(v);case":decrement":return(v,P)=>parseFloat(P)<parseFloat(v);default:return m.push(`The transition alias value "${B}" is not supported`),"* => *"}}(B,v);if("function"==typeof Be)return void m.push(Be);B=Be}const P=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return v.push(`The provided transition expression "${B}" is not supported`),m;const H=P[1],J=P[2],pe=P[3];m.push(Yn(H,pe));"<"==J[0]&&!("*"==H&&"*"==pe)&&m.push(Yn(pe,H))}(P,v,m)):v.push(B),v}const An=new Set(["true","1"]),hr=new Set(["false","0"]);function Yn(B,m){const v=An.has(B)||hr.has(B),P=An.has(m)||hr.has(m);return(H,J)=>{let pe="*"==B||B==H,ye="*"==m||m==J;return!pe&&v&&"boolean"==typeof H&&(pe=H?An.has(B):hr.has(B)),!ye&&P&&"boolean"==typeof J&&(ye=J?An.has(m):hr.has(m)),pe&&ye}}const Tn=new RegExp("s*:selfs*,?","g");function on(B,m,v){return new gn(B).build(m,v)}class gn{constructor(m){this._driver=m}build(m,v){const P=new Wt(v);return this._resetContextStyleTimingState(P),et(this,Pn(m),P)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles={},m.collectedStyles[""]={},m.currentTime=0}visitTrigger(m,v){let P=v.queryCount=0,H=v.depCount=0;const J=[],pe=[];return"@"==m.name.charAt(0)&&v.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),m.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(v),0==ye.type){const Be=ye,ut=Be.name;ut.toString().split(/\s*,\s*/).forEach(Pt=>{Be.name=Pt,J.push(this.visitState(Be,v))}),Be.name=ut}else if(1==ye.type){const Be=this.visitTransition(ye,v);P+=Be.queryCount,H+=Be.depCount,pe.push(Be)}else v.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:m.name,states:J,transitions:pe,queryCount:P,depCount:H,options:null}}visitState(m,v){const P=this.visitStyle(m.styles,v),H=m.options&&m.options.params||null;if(P.containsDynamicStyles){const J=new Set,pe=H||{};if(P.styles.forEach(ye=>{if(Mt(ye)){const Be=ye;Object.keys(Be).forEach(ut=>{ln(Be[ut]).forEach(Pt=>{pe.hasOwnProperty(Pt)||J.add(Pt)})})}}),J.size){const ye=Rn(J.values());v.errors.push(`state("${m.name}", ...) must define default values for all the following style substitutions: ${ye.join(", ")}`)}}return{type:0,name:m.name,style:P,options:H?{params:H}:null}}visitTransition(m,v){v.queryCount=0,v.depCount=0;const P=et(this,Pn(m.animation),v);return{type:1,matchers:bt(m.expr,v.errors),animation:P,queryCount:v.queryCount,depCount:v.depCount,options:de(m.options)}}visitSequence(m,v){return{type:2,steps:m.steps.map(P=>et(this,P,v)),options:de(m.options)}}visitGroup(m,v){const P=v.currentTime;let H=0;const J=m.steps.map(pe=>{v.currentTime=P;const ye=et(this,pe,v);return H=Math.max(H,v.currentTime),ye});return v.currentTime=H,{type:3,steps:J,options:de(m.options)}}visitAnimate(m,v){const P=function En(B,m){let v=null;if(B.hasOwnProperty("duration"))v=B;else if("number"==typeof B)return ee(pr(B,m).duration,0,"");const P=B;if(P.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=ee(0,0,"");return J.dynamic=!0,J.strValue=P,J}return v=v||pr(P,m),ee(v.duration,v.delay,v.easing)}(m.timings,v.errors);v.currentAnimateTimings=P;let H,J=m.styles?m.styles:(0,G.oB)({});if(5==J.type)H=this.visitKeyframes(J,v);else{let pe=m.styles,ye=!1;if(!pe){ye=!0;const ut={};P.easing&&(ut.easing=P.easing),pe=(0,G.oB)(ut)}v.currentTime+=P.duration+P.delay;const Be=this.visitStyle(pe,v);Be.isEmptyStep=ye,H=Be}return v.currentAnimateTimings=null,{type:4,timings:P,style:H,options:null}}visitStyle(m,v){const P=this._makeStyleAst(m,v);return this._validateStyleAst(P,v),P}_makeStyleAst(m,v){const P=[];Array.isArray(m.styles)?m.styles.forEach(pe=>{"string"==typeof pe?pe==G.l3?P.push(pe):v.errors.push(`The provided style string value ${pe} is not allowed.`):P.push(pe)}):P.push(m.styles);let H=!1,J=null;return P.forEach(pe=>{if(Mt(pe)){const ye=pe,Be=ye.easing;if(Be&&(J=Be,delete ye.easing),!H)for(let ut in ye)if(ye[ut].toString().indexOf("{{")>=0){H=!0;break}}}),{type:6,styles:P,easing:J,offset:m.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(m,v){const P=v.currentAnimateTimings;let H=v.currentTime,J=v.currentTime;P&&J>0&&(J-=P.duration+P.delay),m.styles.forEach(pe=>{"string"!=typeof pe&&Object.keys(pe).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return void v.errors.push(`The provided animation property "${ye}" is not a supported CSS property for animations`);const Be=v.collectedStyles[v.currentQuerySelector],ut=Be[ye];let Pt=!0;ut&&(J!=H&&J>=ut.startTime&&H<=ut.endTime&&(v.errors.push(`The CSS property "${ye}" that exists between the times of "${ut.startTime}ms" and "${ut.endTime}ms" is also being animated in a parallel animation between the times of "${J}ms" and "${H}ms"`),Pt=!1),J=ut.startTime),Pt&&(Be[ye]={startTime:J,endTime:H}),v.options&&function Lr(B,m,v){const P=m.params||{},H=ln(B);H.length&&H.forEach(J=>{P.hasOwnProperty(J)||v.push(`Unable to resolve the local animation param ${J} in the given list of values`)})}(pe[ye],v.options,v.errors)})})}visitKeyframes(m,v){const P={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push("keyframes() must be placed inside of a call to animate()"),P;let J=0;const pe=[];let ye=!1,Be=!1,ut=0;const Pt=m.steps.map(Ar=>{const Or=this._makeStyleAst(Ar,v);let Xr=null!=Or.offset?Or.offset:function Zt(B){if("string"==typeof B)return null;let m=null;if(Array.isArray(B))B.forEach(v=>{if(Mt(v)&&v.hasOwnProperty("offset")){const P=v;m=parseFloat(P.offset),delete P.offset}});else if(Mt(B)&&B.hasOwnProperty("offset")){const v=B;m=parseFloat(v.offset),delete v.offset}return m}(Or.styles),ei=0;return null!=Xr&&(J++,ei=Or.offset=Xr),Be=Be||ei<0||ei>1,ye=ye||ei<ut,ut=ei,pe.push(ei),Or});Be&&v.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ye&&v.errors.push("Please ensure that all keyframe offsets are in order");const qt=m.steps.length;let bn=0;J>0&&J<qt?v.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==J&&(bn=1/(qt-1));const un=qt-1,dn=v.currentTime,In=v.currentAnimateTimings,Bn=In.duration;return Pt.forEach((Ar,Or)=>{const Xr=bn>0?Or==un?1:bn*Or:pe[Or],ei=Xr*Bn;v.currentTime=dn+In.delay+ei,In.duration=ei,this._validateStyleAst(Ar,v),Ar.offset=Xr,P.styles.push(Ar)}),P}visitReference(m,v){return{type:8,animation:et(this,Pn(m.animation),v),options:de(m.options)}}visitAnimateChild(m,v){return v.depCount++,{type:9,options:de(m.options)}}visitAnimateRef(m,v){return{type:10,animation:this.visitReference(m.animation,v),options:de(m.options)}}visitQuery(m,v){const P=v.currentQuerySelector,H=m.options||{};v.queryCount++,v.currentQuery=m;const[J,pe]=function kt(B){const m=!!B.split(/\s*,\s*/).find(v=>":self"==v);return m&&(B=B.replace(Tn,"")),B=B.replace(/@\*/g,Dt).replace(/@\w+/g,v=>Dt+"-"+v.substr(1)).replace(/:animating/g,Vt),[B,m]}(m.selector);v.currentQuerySelector=P.length?P+" "+J:J,ae(v.collectedStyles,v.currentQuerySelector,{});const ye=et(this,Pn(m.animation),v);return v.currentQuery=null,v.currentQuerySelector=P,{type:11,selector:J,limit:H.limit||0,optional:!!H.optional,includeSelf:pe,animation:ye,originalSelector:m.selector,options:de(m.options)}}visitStagger(m,v){v.currentQuery||v.errors.push("stagger() can only be used inside of query()");const P="full"===m.timings?{duration:0,delay:0,easing:"full"}:pr(m.timings,v.errors,!0);return{type:12,animation:et(this,Pn(m.animation),v),timings:P,options:null}}}class Wt{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mt(B){return!Array.isArray(B)&&"object"==typeof B}function de(B){return B?(B=Vn(B)).params&&(B.params=function tt(B){return B?Vn(B):null}(B.params)):B={},B}function ee(B,m,v){return{duration:B,delay:m,easing:v}}function ue(B,m,v,P,H,J,pe=null,ye=!1){return{type:1,element:B,keyframes:m,preStyleProps:v,postStyleProps:P,duration:H,delay:J,totalTime:H+J,easing:pe,subTimeline:ye}}class We{constructor(){this._map=new Map}consume(m){let v=this._map.get(m);return v?this._map.delete(m):v=[],v}append(m,v){let P=this._map.get(m);P||this._map.set(m,P=[]),P.push(...v)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const xe=new RegExp(":enter","g"),oe=new RegExp(":leave","g");function Ve(B,m,v,P,H,J={},pe={},ye,Be,ut=[]){return(new rt).buildKeyframes(B,m,v,P,H,J,pe,ye,Be,ut)}class rt{buildKeyframes(m,v,P,H,J,pe,ye,Be,ut,Pt=[]){ut=ut||new We;const qt=new Xt(m,v,ut,H,J,Pt,[]);qt.options=Be,qt.currentTimeline.setStyles([pe],null,qt.errors,Be),et(this,P,qt);const bn=qt.timelines.filter(un=>un.containsAnimation());if(bn.length&&Object.keys(ye).length){const un=bn[bn.length-1];un.allowOnlyTimelineStyles()||un.setStyles([ye],null,qt.errors,Be)}return bn.length?bn.map(un=>un.buildKeyframes()):[ue(v,[],[],[],0,0,"",!1)]}visitTrigger(m,v){}visitState(m,v){}visitTransition(m,v){}visitAnimateChild(m,v){const P=v.subInstructions.consume(v.element);if(P){const H=v.createSubContext(m.options),J=v.currentTimeline.currentTime,pe=this._visitSubInstructions(P,H,H.options);J!=pe&&v.transformIntoNewTimeline(pe)}v.previousNode=m}visitAnimateRef(m,v){const P=v.createSubContext(m.options);P.transformIntoNewTimeline(),this.visitReference(m.animation,P),v.transformIntoNewTimeline(P.currentTimeline.currentTime),v.previousNode=m}_visitSubInstructions(m,v,P){let J=v.currentTimeline.currentTime;const pe=null!=P.duration?sn(P.duration):null,ye=null!=P.delay?sn(P.delay):null;return 0!==pe&&m.forEach(Be=>{const ut=v.appendInstructionToTimeline(Be,pe,ye);J=Math.max(J,ut.duration+ut.delay)}),J}visitReference(m,v){v.updateOptions(m.options,!0),et(this,m.animation,v),v.previousNode=m}visitSequence(m,v){const P=v.subContextCount;let H=v;const J=m.options;if(J&&(J.params||J.delay)&&(H=v.createSubContext(J),H.transformIntoNewTimeline(),null!=J.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=It);const pe=sn(J.delay);H.delayNextStep(pe)}m.steps.length&&(m.steps.forEach(pe=>et(this,pe,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>P&&H.transformIntoNewTimeline()),v.previousNode=m}visitGroup(m,v){const P=[];let H=v.currentTimeline.currentTime;const J=m.options&&m.options.delay?sn(m.options.delay):0;m.steps.forEach(pe=>{const ye=v.createSubContext(m.options);J&&ye.delayNextStep(J),et(this,pe,ye),H=Math.max(H,ye.currentTimeline.currentTime),P.push(ye.currentTimeline)}),P.forEach(pe=>v.currentTimeline.mergeTimelineCollectedStyles(pe)),v.transformIntoNewTimeline(H),v.previousNode=m}_visitTiming(m,v){if(m.dynamic){const P=m.strValue;return pr(v.params?tn(P,v.params,v.errors):P,v.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,v){const P=v.currentAnimateTimings=this._visitTiming(m.timings,v),H=v.currentTimeline;P.delay&&(v.incrementTime(P.delay),H.snapshotCurrentStyles());const J=m.style;5==J.type?this.visitKeyframes(J,v):(v.incrementTime(P.duration),this.visitStyle(J,v),H.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=m}visitStyle(m,v){const P=v.currentTimeline,H=v.currentAnimateTimings;!H&&P.getCurrentStyleProperties().length&&P.forwardFrame();const J=H&&H.easing||m.easing;m.isEmptyStep?P.applyEmptyStep(J):P.setStyles(m.styles,J,v.errors,v.options),v.previousNode=m}visitKeyframes(m,v){const P=v.currentAnimateTimings,H=v.currentTimeline.duration,J=P.duration,ye=v.createSubContext().currentTimeline;ye.easing=P.easing,m.styles.forEach(Be=>{ye.forwardTime((Be.offset||0)*J),ye.setStyles(Be.styles,Be.easing,v.errors,v.options),ye.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(ye),v.transformIntoNewTimeline(H+J),v.previousNode=m}visitQuery(m,v){const P=v.currentTimeline.currentTime,H=m.options||{},J=H.delay?sn(H.delay):0;J&&(6===v.previousNode.type||0==P&&v.currentTimeline.getCurrentStyleProperties().length)&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=It);let pe=P;const ye=v.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!H.optional,v.errors);v.currentQueryTotal=ye.length;let Be=null;ye.forEach((ut,Pt)=>{v.currentQueryIndex=Pt;const qt=v.createSubContext(m.options,ut);J&&qt.delayNextStep(J),ut===v.element&&(Be=qt.currentTimeline),et(this,m.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,qt.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(pe),Be&&(v.currentTimeline.mergeTimelineCollectedStyles(Be),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=m}visitStagger(m,v){const P=v.parentContext,H=v.currentTimeline,J=m.timings,pe=Math.abs(J.duration),ye=pe*(v.currentQueryTotal-1);let Be=pe*v.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":Be=ye-Be;break;case"full":Be=P.currentStaggerTime}const Pt=v.currentTimeline;Be&&Pt.delayNextStep(Be);const qt=Pt.currentTime;et(this,m.animation,v),v.previousNode=m,P.currentStaggerTime=H.currentTime-qt+(H.startTime-P.currentTimeline.startTime)}}const It={};class Xt{constructor(m,v,P,H,J,pe,ye,Be){this._driver=m,this.element=v,this.subInstructions=P,this._enterClassName=H,this._leaveClassName=J,this.errors=pe,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=It,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Be||new Sn(this._driver,v,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,v){if(!m)return;const P=m;let H=this.options;null!=P.duration&&(H.duration=sn(P.duration)),null!=P.delay&&(H.delay=sn(P.delay));const J=P.params;if(J){let pe=H.params;pe||(pe=this.options.params={}),Object.keys(J).forEach(ye=>{(!v||!pe.hasOwnProperty(ye))&&(pe[ye]=tn(J[ye],pe,this.errors))})}}_copyOptions(){const m={};if(this.options){const v=this.options.params;if(v){const P=m.params={};Object.keys(v).forEach(H=>{P[H]=v[H]})}}return m}createSubContext(m=null,v,P){const H=v||this.element,J=new Xt(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,P||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(m),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(m){return this.previousNode=It,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,v,P){const H={duration:null!=v?v:m.duration,delay:this.currentTimeline.currentTime+(null!=P?P:0)+m.delay,easing:""},J=new yr(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,H,m.stretchStartingKeyframe);return this.timelines.push(J),H}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,v,P,H,J,pe){let ye=[];if(H&&ye.push(this.element),m.length>0){m=(m=m.replace(xe,"."+this._enterClassName)).replace(oe,"."+this._leaveClassName);let ut=this._driver.query(this.element,m,1!=P);0!==P&&(ut=P<0?ut.slice(ut.length+P,ut.length):ut.slice(0,P)),ye.push(...ut)}return!J&&0==ye.length&&pe.push(`\`query("${v}")\` returned zero elements. (Use \`query("${v}", { optional: true })\` if you wish to allow this.)`),ye}}class Sn{constructor(m,v,P,H){this._driver=m,this.element=v,this.startTime=P,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const v=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||v?(this.forwardTime(this.currentTime+m),v&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,v){return this.applyStylesToKeyframe(),new Sn(this._driver,m,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,v){this._localTimelineStyles[m]=v,this._globalTimelineStyles[m]=v,this._styleSummary[m]={time:this.currentTime,value:v}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&(this._previousKeyframe.easing=m),Object.keys(this._globalTimelineStyles).forEach(v=>{this._backFill[v]=this._globalTimelineStyles[v]||G.l3,this._currentKeyframe[v]=G.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,v,P,H){v&&(this._previousKeyframe.easing=v);const J=H&&H.params||{},pe=function Ei(B,m){const v={};let P;return B.forEach(H=>{"*"===H?(P=P||Object.keys(m),P.forEach(J=>{v[J]=G.l3})):Wn(H,!1,v)}),v}(m,this._globalTimelineStyles);Object.keys(pe).forEach(ye=>{const Be=tn(pe[ye],J,P);this._pendingStyles[ye]=Be,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:G.l3),this._updateStyle(ye,Be)})}applyStylesToKeyframe(){const m=this._pendingStyles,v=Object.keys(m);0!=v.length&&(this._pendingStyles={},v.forEach(P=>{this._currentKeyframe[P]=m[P]}),Object.keys(this._localTimelineStyles).forEach(P=>{this._currentKeyframe.hasOwnProperty(P)||(this._currentKeyframe[P]=this._localTimelineStyles[P])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(m=>{const v=this._localTimelineStyles[m];this._pendingStyles[m]=v,this._updateStyle(m,v)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let v in this._currentKeyframe)m.push(v);return m}mergeTimelineCollectedStyles(m){Object.keys(m._styleSummary).forEach(v=>{const P=this._styleSummary[v],H=m._styleSummary[v];(!P||H.time>P.time)&&this._updateStyle(v,H.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,v=new Set,P=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((ye,Be)=>{const ut=Wn(ye,!0);Object.keys(ut).forEach(Pt=>{const qt=ut[Pt];qt==G.k1?m.add(Pt):qt==G.l3&&v.add(Pt)}),P||(ut.offset=Be/this.duration),H.push(ut)});const J=m.size?Rn(m.values()):[],pe=v.size?Rn(v.values()):[];if(P){const ye=H[0],Be=Vn(ye);ye.offset=0,Be.offset=1,H=[ye,Be]}return ue(this.element,H,J,pe,this.duration,this.startTime,this.easing,!1)}}class yr extends Sn{constructor(m,v,P,H,J,pe,ye=!1){super(m,v,pe.delay),this.keyframes=P,this.preStyleProps=H,this.postStyleProps=J,this._stretchStartingKeyframe=ye,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:v,duration:P,easing:H}=this.timings;if(this._stretchStartingKeyframe&&v){const J=[],pe=P+v,ye=v/pe,Be=Wn(m[0],!1);Be.offset=0,J.push(Be);const ut=Wn(m[0],!1);ut.offset=Vi(ye),J.push(ut);const Pt=m.length-1;for(let qt=1;qt<=Pt;qt++){let bn=Wn(m[qt],!1);bn.offset=Vi((v+bn.offset*P)/pe),J.push(bn)}P=pe,v=0,H="",m=J}return ue(this.element,m,this.preStyleProps,this.postStyleProps,P,v,H,!0)}}function Vi(B,m=3){const v=Math.pow(10,m-1);return Math.round(B*v)/v}class er{}class ns extends er{normalizePropertyName(m,v){return sr(m)}normalizeStyleValue(m,v,P,H){let J="";const pe=P.toString().trim();if(qn[v]&&0!==P&&"0"!==P)if("number"==typeof P)J="px";else{const ye=P.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&H.push(`Please provide a CSS unit value for ${m}:${P}`)}return pe+J}}const qn=(()=>function Ht(B){const m={};return B.forEach(v=>m[v]=!0),m}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Cn(B,m,v,P,H,J,pe,ye,Be,ut,Pt,qt,bn){return{type:0,element:B,triggerName:m,isRemovalTransition:H,fromState:v,fromStyles:J,toState:P,toStyles:pe,timelines:ye,queriedElements:Be,preStyleProps:ut,postStyleProps:Pt,totalTime:qt,errors:bn}}const Zn={};class kr{constructor(m,v,P){this._triggerName=m,this.ast=v,this._stateStyles=P}match(m,v,P,H){return function Pi(B,m,v,P,H){return B.some(J=>J(m,v,P,H))}(this.ast.matchers,m,v,P,H)}buildStyles(m,v,P){const H=this._stateStyles["*"],J=this._stateStyles[m],pe=H?H.buildStyles(v,P):{};return J?J.buildStyles(v,P):pe}build(m,v,P,H,J,pe,ye,Be,ut,Pt){const qt=[],bn=this.ast.options&&this.ast.options.params||Zn,dn=this.buildStyles(P,ye&&ye.params||Zn,qt),In=Be&&Be.params||Zn,Bn=this.buildStyles(H,In,qt),Ar=new Set,Or=new Map,Xr=new Map,ei="void"===H,Ko={params:Object.assign(Object.assign({},bn),In)},yi=Pt?[]:Ve(m,v,this.ast.animation,J,pe,dn,Bn,Ko,ut,qt);let li=0;if(yi.forEach(vo=>{li=Math.max(vo.duration+vo.delay,li)}),qt.length)return Cn(v,this._triggerName,P,H,ei,dn,Bn,[],[],Or,Xr,li,qt);yi.forEach(vo=>{const Ni=vo.element,ms=ae(Or,Ni,{});vo.preStyleProps.forEach(qo=>ms[qo]=!0);const Wo=ae(Xr,Ni,{});vo.postStyleProps.forEach(qo=>Wo[qo]=!0),Ni!==v&&Ar.add(Ni)});const Kr=Rn(Ar.values());return Cn(v,this._triggerName,P,H,ei,dn,Bn,yi,Kr,Or,Xr,li)}}class tr{constructor(m,v,P){this.styles=m,this.defaultParams=v,this.normalizer=P}buildStyles(m,v){const P={},H=Vn(this.defaultParams);return Object.keys(m).forEach(J=>{const pe=m[J];null!=pe&&(H[J]=pe)}),this.styles.styles.forEach(J=>{if("string"!=typeof J){const pe=J;Object.keys(pe).forEach(ye=>{let Be=pe[ye];Be.length>1&&(Be=tn(Be,H,v));const ut=this.normalizer.normalizePropertyName(ye,v);Be=this.normalizer.normalizeStyleValue(ye,ut,Be,v),P[ut]=Be})}}),P}}class kn{constructor(m,v,P){this.name=m,this.ast=v,this._normalizer=P,this.transitionFactories=[],this.states={},v.states.forEach(H=>{this.states[H.name]=new tr(H.style,H.options&&H.options.params||{},P)}),io(this.states,"true","1"),io(this.states,"false","0"),v.transitions.forEach(H=>{this.transitionFactories.push(new kr(m,H,this.states))}),this.fallbackTransition=function Ai(B,m,v){return new kr(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,ye)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,v,P,H){return this.transitionFactories.find(pe=>pe.match(m,v,P,H))||null}matchStyles(m,v,P){return this.fallbackTransition.buildStyles(m,v,P)}}function io(B,m,v){B.hasOwnProperty(m)?B.hasOwnProperty(v)||(B[v]=B[m]):B.hasOwnProperty(v)&&(B[m]=B[v])}const yn=new We;class co{constructor(m,v,P){this.bodyNode=m,this._driver=v,this._normalizer=P,this._animations={},this._playersById={},this.players=[]}register(m,v){const P=[],H=on(this._driver,v,P);if(P.length)throw new Error(`Unable to build the animation due to the following errors: ${P.join("\n")}`);this._animations[m]=H}_buildPlayer(m,v,P){const H=m.element,J=ke(0,this._normalizer,0,m.keyframes,v,P);return this._driver.animate(H,J,m.duration,m.delay,m.easing,[],!0)}create(m,v,P={}){const H=[],J=this._animations[m];let pe;const ye=new Map;if(J?(pe=Ve(this._driver,v,J,je,_e,{},{},P,yn,H),pe.forEach(Pt=>{const qt=ae(ye,Pt.element,{});Pt.postStyleProps.forEach(bn=>qt[bn]=null)})):(H.push("The requested animation doesn't exist or has already been destroyed"),pe=[]),H.length)throw new Error(`Unable to create the animation due to the following errors: ${H.join("\n")}`);ye.forEach((Pt,qt)=>{Object.keys(Pt).forEach(bn=>{Pt[bn]=this._driver.computeStyle(qt,bn,G.l3)})});const ut=Te(pe.map(Pt=>{const qt=ye.get(Pt.element);return this._buildPlayer(Pt,{},qt)}));return this._playersById[m]=ut,ut.onDestroy(()=>this.destroy(m)),this.players.push(ut),ut}destroy(m){const v=this._getPlayer(m);v.destroy(),delete this._playersById[m];const P=this.players.indexOf(v);P>=0&&this.players.splice(P,1)}_getPlayer(m){const v=this._playersById[m];if(!v)throw new Error(`Unable to find the timeline player referenced by ${m}`);return v}listen(m,v,P,H){const J=te(v,"","","");return Ie(this._getPlayer(m),P,J,H),()=>{}}command(m,v,P,H){if("register"==P)return void this.register(m,H[0]);if("create"==P)return void this.create(m,v,H[0]||{});const J=this._getPlayer(m);switch(P){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(m)}}}const oo="ng-animate-queued",ji="ng-animate-disabled",Pr=".ng-animate-disabled",jr=[],nr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zr="__ng_removed";class fi{constructor(m,v=""){this.namespaceId=v;const P=m&&m.hasOwnProperty("value");if(this.value=function rs(B){return null!=B?B:null}(P?m.value:m),P){const J=Vn(m);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const v=m.params;if(v){const P=this.options.params;Object.keys(v).forEach(H=>{null==P[H]&&(P[H]=v[H])})}}}const Yr="void",Di=new fi(Yr);class So{constructor(m,v,P){this.id=m,this.hostElement=v,this._engine=P,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,vr(v,this._hostClassName)}listen(m,v,P,H){if(!this._triggers.hasOwnProperty(v))throw new Error(`Unable to listen on the animation trigger event "${P}" because the animation trigger "${v}" doesn't exist!`);if(null==P||0==P.length)throw new Error(`Unable to listen on the animation trigger "${v}" because the provided event is undefined!`);if(!function is(B){return"start"==B||"done"==B}(P))throw new Error(`The provided animation trigger event "${P}" for the animation trigger "${v}" is not supported!`);const J=ae(this._elementListeners,m,[]),pe={name:v,phase:P,callback:H};J.push(pe);const ye=ae(this._engine.statesByElement,m,{});return ye.hasOwnProperty(v)||(vr(m,Jt),vr(m,Jt+"-"+v),ye[v]=Di),()=>{this._engine.afterFlush(()=>{const Be=J.indexOf(pe);Be>=0&&J.splice(Be,1),this._triggers[v]||delete ye[v]})}}register(m,v){return!this._triggers[m]&&(this._triggers[m]=v,!0)}_getTrigger(m){const v=this._triggers[m];if(!v)throw new Error(`The provided animation trigger "${m}" has not been registered!`);return v}trigger(m,v,P,H=!0){const J=this._getTrigger(v),pe=new Qr(this.id,v,m);let ye=this._engine.statesByElement.get(m);ye||(vr(m,Jt),vr(m,Jt+"-"+v),this._engine.statesByElement.set(m,ye={}));let Be=ye[v];const ut=new fi(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&Be&&ut.absorbOptions(Be.options),ye[v]=ut,Be||(Be=Di),ut.value!==Yr&&Be.value===ut.value){if(!function os(B,m){const v=Object.keys(B),P=Object.keys(m);if(v.length!=P.length)return!1;for(let H=0;H<v.length;H++){const J=v[H];if(!m.hasOwnProperty(J)||B[J]!==m[J])return!1}return!0}(Be.params,ut.params)){const In=[],Bn=J.matchStyles(Be.value,Be.params,In),Ar=J.matchStyles(ut.value,ut.params,In);In.length?this._engine.reportError(In):this._engine.afterFlush(()=>{br(m,Bn),wn(m,Ar)})}return}const bn=ae(this._engine.playersByElement,m,[]);bn.forEach(In=>{In.namespaceId==this.id&&In.triggerName==v&&In.queued&&In.destroy()});let un=J.matchTransition(Be.value,ut.value,m,ut.params),dn=!1;if(!un){if(!H)return;un=J.fallbackTransition,dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:v,transition:un,fromState:Be,toState:ut,player:pe,isFallbackTransition:dn}),dn||(vr(m,oo),pe.onStart(()=>{Oo(m,oo)})),pe.onDone(()=>{let In=this.players.indexOf(pe);In>=0&&this.players.splice(In,1);const Bn=this._engine.playersByElement.get(m);if(Bn){let Ar=Bn.indexOf(pe);Ar>=0&&Bn.splice(Ar,1)}}),this.players.push(pe),bn.push(pe),pe}deregister(m){delete this._triggers[m],this._engine.statesByElement.forEach((v,P)=>{delete v[m]}),this._elementListeners.forEach((v,P)=>{this._elementListeners.set(P,v.filter(H=>H.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const v=this._engine.playersByElement.get(m);v&&(v.forEach(P=>P.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,v){const P=this._engine.driver.query(m,Dt,!0);P.forEach(H=>{if(H[Zr])return;const J=this._engine.fetchNamespacesByElement(H);J.size?J.forEach(pe=>pe.triggerLeaveAnimation(H,v,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(m,v,P,H){const J=this._engine.statesByElement.get(m);if(J){const pe=[];if(Object.keys(J).forEach(ye=>{if(this._triggers[ye]){const Be=this.trigger(m,ye,Yr,H);Be&&pe.push(Be)}}),pe.length)return this._engine.markElementAsRemoved(this.id,m,!0,v),P&&Te(pe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const v=this._elementListeners.get(m),P=this._engine.statesByElement.get(m);if(v&&P){const H=new Set;v.forEach(J=>{const pe=J.name;if(H.has(pe))return;H.add(pe);const Be=this._triggers[pe].fallbackTransition,ut=P[pe]||Di,Pt=new fi(Yr),qt=new Qr(this.id,pe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:pe,transition:Be,fromState:ut,toState:Pt,player:qt,isFallbackTransition:!0})})}}removeNode(m,v){const P=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,v),this.triggerLeaveAnimation(m,v,!0))return;let H=!1;if(P.totalAnimations){const J=P.players.length?P.playersByQueriedElement.get(m):[];if(J&&J.length)H=!0;else{let pe=m;for(;pe=pe.parentNode;)if(P.statesByElement.get(pe)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(m),H)P.markElementAsRemoved(this.id,m,!1,v);else{const J=m[Zr];(!J||J===nr)&&(P.afterFlush(()=>this.clearElementCache(m)),P.destroyInnerAnimations(m),P._onRemovalComplete(m,v))}}insertNode(m,v){vr(m,this._hostClassName)}drainQueuedTransitions(m){const v=[];return this._queue.forEach(P=>{const H=P.player;if(H.destroyed)return;const J=P.element,pe=this._elementListeners.get(J);pe&&pe.forEach(ye=>{if(ye.name==P.triggerName){const Be=te(J,P.triggerName,P.fromState.value,P.toState.value);Be._data=m,Ie(P.player,ye.phase,Be,ye.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):v.push(P)}),this._queue=[],v.sort((P,H)=>{const J=P.transition.ast.depCount,pe=H.transition.ast.depCount;return 0==J||0==pe?J-pe:this._engine.driver.containsElement(P.element,H.element)?1:-1})}destroy(m){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let v=!1;return this._elementListeners.has(m)&&(v=!0),v=!!this._queue.find(P=>P.element===m)||v,v}}class oi{constructor(m,v,P){this.bodyNode=m,this.driver=v,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,J)=>{}}_onRemovalComplete(m,v){this.onRemovalComplete(m,v)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(v=>{v.players.forEach(P=>{P.queued&&m.push(P)})}),m}createNamespace(m,v){const P=new So(m,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(P,v):(this.newHostElements.set(v,P),this.collectEnterElement(v)),this._namespaceLookup[m]=P}_balanceNamespaceList(m,v){const P=this._namespaceList.length-1;if(P>=0){let H=!1;for(let J=P;J>=0;J--)if(this.driver.containsElement(this._namespaceList[J].hostElement,v)){this._namespaceList.splice(J+1,0,m),H=!0;break}H||this._namespaceList.splice(0,0,m)}else this._namespaceList.push(m);return this.namespacesByHostElement.set(v,m),m}register(m,v){let P=this._namespaceLookup[m];return P||(P=this.createNamespace(m,v)),P}registerTrigger(m,v,P){let H=this._namespaceLookup[m];H&&H.register(v,P)&&this.totalAnimations++}destroy(m,v){if(!m)return;const P=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(P.hostElement),delete this._namespaceLookup[m];const H=this._namespaceList.indexOf(P);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>P.destroy(v))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const v=new Set,P=this.statesByElement.get(m);if(P){const H=Object.keys(P);for(let J=0;J<H.length;J++){const pe=P[H[J]].namespaceId;if(pe){const ye=this._fetchNamespace(pe);ye&&v.add(ye)}}}return v}trigger(m,v,P,H){if(cr(v)){const J=this._fetchNamespace(m);if(J)return J.trigger(v,P,H),!0}return!1}insertNode(m,v,P,H){if(!cr(v))return;const J=v[Zr];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(v);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(m){const pe=this._fetchNamespace(m);pe&&pe.insertNode(v,P)}H&&this.collectEnterElement(v)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,v){v?this.disabledNodes.has(m)||(this.disabledNodes.add(m),vr(m,ji)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Oo(m,ji))}removeNode(m,v,P,H){if(cr(v)){const J=m?this._fetchNamespace(m):null;if(J?J.removeNode(v,H):this.markElementAsRemoved(m,v,!1,H),P){const pe=this.namespacesByHostElement.get(v);pe&&pe.id!==m&&pe.removeNode(v,H)}}else this._onRemovalComplete(v,H)}markElementAsRemoved(m,v,P,H){this.collectedLeaveElements.push(v),v[Zr]={namespaceId:m,setForRemoval:H,hasAnimation:P,removedBeforeQueried:!1}}listen(m,v,P,H,J){return cr(v)?this._fetchNamespace(m).listen(v,P,H,J):()=>{}}_buildInstruction(m,v,P,H,J){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,P,H,m.fromState.options,m.toState.options,v,J)}destroyInnerAnimations(m){let v=this.driver.query(m,Dt,!0);v.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(m,Vt,!0),v.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(m){const v=this.playersByElement.get(m);v&&v.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(m){const v=this.playersByQueriedElement.get(m);v&&v.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Te(this.players).onDone(()=>m());m()})}processLeaveNode(m){const v=m[Zr];if(v&&v.setForRemoval){if(m[Zr]=nr,v.namespaceId){this.destroyInnerAnimations(m);const P=this._fetchNamespace(v.namespaceId);P&&P.clearElementCache(m)}this._onRemovalComplete(m,v.setForRemoval)}this.driver.matchesElement(m,Pr)&&this.markElementAsDisabled(m,!1),this.driver.query(m,Pr,!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(m=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,H)=>this._balanceNamespaceList(P,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)vr(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{v=this._flushAnimations(P,m)}finally{for(let H=0;H<P.length;H++)P[H]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],v.length?Te(v).onDone(()=>{P.forEach(H=>H())}):P.forEach(H=>H())}}reportError(m){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${m.join("\n")}`)}_flushAnimations(m,v){const P=new We,H=[],J=new Map,pe=[],ye=new Map,Be=new Map,ut=new Map,Pt=new Set;this.disabledNodes.forEach(Yt=>{Pt.add(Yt);const mn=this.driver.query(Yt,".ng-animate-queued",!0);for(let cn=0;cn<mn.length;cn++)Pt.add(mn[cn])});const qt=this.bodyNode,bn=Array.from(this.statesByElement.keys()),un=zo(bn,this.collectedEnterElements),dn=new Map;let In=0;un.forEach((Yt,mn)=>{const cn=je+In++;dn.set(mn,cn),Yt.forEach(or=>vr(or,cn))});const Bn=[],Ar=new Set,Or=new Set;for(let Yt=0;Yt<this.collectedLeaveElements.length;Yt++){const mn=this.collectedLeaveElements[Yt],cn=mn[Zr];cn&&cn.setForRemoval&&(Bn.push(mn),Ar.add(mn),cn.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(or=>Ar.add(or)):Or.add(mn))}const Xr=new Map,ei=zo(bn,Array.from(Ar));ei.forEach((Yt,mn)=>{const cn=_e+In++;Xr.set(mn,cn),Yt.forEach(or=>vr(or,cn))}),m.push(()=>{un.forEach((Yt,mn)=>{const cn=dn.get(mn);Yt.forEach(or=>Oo(or,cn))}),ei.forEach((Yt,mn)=>{const cn=Xr.get(mn);Yt.forEach(or=>Oo(or,cn))}),Bn.forEach(Yt=>{this.processLeaveNode(Yt)})});const Ko=[],yi=[];for(let Yt=this._namespaceList.length-1;Yt>=0;Yt--)this._namespaceList[Yt].drainQueuedTransitions(v).forEach(cn=>{const or=cn.player,ti=cn.element;if(Ko.push(or),this.collectedEnterElements.length){const Fi=ti[Zr];if(Fi&&Fi.setForMove)return void or.destroy()}const qi=!qt||!this.driver.containsElement(qt,ti),ci=Xr.get(ti),Ri=dn.get(ti),_r=this._buildInstruction(cn,P,Ri,ci,qi);if(_r.errors&&_r.errors.length)yi.push(_r);else{if(qi)return or.onStart(()=>br(ti,_r.fromStyles)),or.onDestroy(()=>wn(ti,_r.toStyles)),void H.push(or);if(cn.isFallbackTransition)return or.onStart(()=>br(ti,_r.fromStyles)),or.onDestroy(()=>wn(ti,_r.toStyles)),void H.push(or);_r.timelines.forEach(Fi=>Fi.stretchStartingKeyframe=!0),P.append(ti,_r.timelines),pe.push({instruction:_r,player:or,element:ti}),_r.queriedElements.forEach(Fi=>ae(ye,Fi,[]).push(or)),_r.preStyleProps.forEach((Fi,Zo)=>{const Hr=Object.keys(Fi);if(Hr.length){let Ci=Be.get(Zo);Ci||Be.set(Zo,Ci=new Set),Hr.forEach(Zi=>Ci.add(Zi))}}),_r.postStyleProps.forEach((Fi,Zo)=>{const Hr=Object.keys(Fi);let Ci=ut.get(Zo);Ci||ut.set(Zo,Ci=new Set),Hr.forEach(Zi=>Ci.add(Zi))})}});if(yi.length){const Yt=[];yi.forEach(mn=>{Yt.push(`@${mn.triggerName} has failed due to:\n`),mn.errors.forEach(cn=>Yt.push(`- ${cn}\n`))}),Ko.forEach(mn=>mn.destroy()),this.reportError(Yt)}const li=new Map,Kr=new Map;pe.forEach(Yt=>{const mn=Yt.element;P.has(mn)&&(Kr.set(mn,mn),this._beforeAnimationBuild(Yt.player.namespaceId,Yt.instruction,li))}),H.forEach(Yt=>{const mn=Yt.element;this._getPreviousPlayers(mn,!1,Yt.namespaceId,Yt.triggerName,null).forEach(or=>{ae(li,mn,[]).push(or),or.destroy()})});const vo=Bn.filter(Yt=>fo(Yt,Be,ut)),Ni=new Map;Ti(Ni,this.driver,Or,ut,G.l3).forEach(Yt=>{fo(Yt,Be,ut)&&vo.push(Yt)});const Wo=new Map;un.forEach((Yt,mn)=>{Ti(Wo,this.driver,new Set(Yt),Be,G.k1)}),vo.forEach(Yt=>{const mn=Ni.get(Yt),cn=Wo.get(Yt);Ni.set(Yt,Object.assign(Object.assign({},mn),cn))});const qo=[],vi=[],Wi={};pe.forEach(Yt=>{const{element:mn,player:cn,instruction:or}=Yt;if(P.has(mn)){if(Pt.has(mn))return cn.onDestroy(()=>wn(mn,or.toStyles)),cn.disabled=!0,cn.overrideTotalTime(or.totalTime),void H.push(cn);let ti=Wi;if(Kr.size>1){let ci=mn;const Ri=[];for(;ci=ci.parentNode;){const _r=Kr.get(ci);if(_r){ti=_r;break}Ri.push(ci)}Ri.forEach(_r=>Kr.set(_r,ti))}const qi=this._buildAnimation(cn.namespaceId,or,li,J,Wo,Ni);if(cn.setRealPlayer(qi),ti===Wi)qo.push(cn);else{const ci=this.playersByElement.get(ti);ci&&ci.length&&(cn.parentPlayer=Te(ci)),H.push(cn)}}else br(mn,or.fromStyles),cn.onDestroy(()=>wn(mn,or.toStyles)),vi.push(cn),Pt.has(mn)&&H.push(cn)}),vi.forEach(Yt=>{const mn=J.get(Yt.element);if(mn&&mn.length){const cn=Te(mn);Yt.setRealPlayer(cn)}}),H.forEach(Yt=>{Yt.parentPlayer?Yt.syncPlayerEvents(Yt.parentPlayer):Yt.destroy()});for(let Yt=0;Yt<Bn.length;Yt++){const mn=Bn[Yt],cn=mn[Zr];if(Oo(mn,_e),cn&&cn.hasAnimation)continue;let or=[];if(ye.size){let qi=ye.get(mn);qi&&qi.length&&or.push(...qi);let ci=this.driver.query(mn,Vt,!0);for(let Ri=0;Ri<ci.length;Ri++){let _r=ye.get(ci[Ri]);_r&&_r.length&&or.push(..._r)}}const ti=or.filter(qi=>!qi.destroyed);ti.length?ps(this,mn,ti):this.processLeaveNode(mn)}return Bn.length=0,qo.forEach(Yt=>{this.players.push(Yt),Yt.onDone(()=>{Yt.destroy();const mn=this.players.indexOf(Yt);this.players.splice(mn,1)}),Yt.play()}),qo}elementContainsData(m,v){let P=!1;const H=v[Zr];return H&&H.setForRemoval&&(P=!0),this.playersByElement.has(v)&&(P=!0),this.playersByQueriedElement.has(v)&&(P=!0),this.statesByElement.has(v)&&(P=!0),this._fetchNamespace(m).elementContainsData(v)||P}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,v,P,H,J){let pe=[];if(v){const ye=this.playersByQueriedElement.get(m);ye&&(pe=ye)}else{const ye=this.playersByElement.get(m);if(ye){const Be=!J||J==Yr;ye.forEach(ut=>{ut.queued||!Be&&ut.triggerName!=H||pe.push(ut)})}}return(P||H)&&(pe=pe.filter(ye=>!(P&&P!=ye.namespaceId||H&&H!=ye.triggerName))),pe}_beforeAnimationBuild(m,v,P){const J=v.element,pe=v.isRemovalTransition?void 0:m,ye=v.isRemovalTransition?void 0:v.triggerName;for(const Be of v.timelines){const ut=Be.element,Pt=ut!==J,qt=ae(P,ut,[]);this._getPreviousPlayers(ut,Pt,pe,ye,v.toState).forEach(un=>{const dn=un.getRealPlayer();dn.beforeDestroy&&dn.beforeDestroy(),un.destroy(),qt.push(un)})}br(J,v.fromStyles)}_buildAnimation(m,v,P,H,J,pe){const ye=v.triggerName,Be=v.element,ut=[],Pt=new Set,qt=new Set,bn=v.timelines.map(dn=>{const In=dn.element;Pt.add(In);const Bn=In[Zr];if(Bn&&Bn.removedBeforeQueried)return new G.ZN(dn.duration,dn.delay);const Ar=In!==Be,Or=function $o(B){const m=[];return bs(B,m),m}((P.get(In)||jr).map(li=>li.getRealPlayer())).filter(li=>!!li.element&&li.element===In),Xr=J.get(In),ei=pe.get(In),Ko=ke(0,this._normalizer,0,dn.keyframes,Xr,ei),yi=this._buildPlayer(dn,Ko,Or);if(dn.subTimeline&&H&&qt.add(In),Ar){const li=new Qr(m,ye,In);li.setRealPlayer(yi),ut.push(li)}return yi});ut.forEach(dn=>{ae(this.playersByQueriedElement,dn.element,[]).push(dn),dn.onDone(()=>function ho(B,m,v){let P;if(B instanceof Map){if(P=B.get(m),P){if(P.length){const H=P.indexOf(v);P.splice(H,1)}0==P.length&&B.delete(m)}}else if(P=B[m],P){if(P.length){const H=P.indexOf(v);P.splice(H,1)}0==P.length&&delete B[m]}return P}(this.playersByQueriedElement,dn.element,dn))}),Pt.forEach(dn=>vr(dn,Bt));const un=Te(bn);return un.onDestroy(()=>{Pt.forEach(dn=>Oo(dn,Bt)),wn(Be,v.toStyles)}),qt.forEach(dn=>{ae(H,dn,[]).push(un)}),un}_buildPlayer(m,v,P){return v.length>0?this.driver.animate(m.element,v,m.duration,m.delay,m.easing,P):new G.ZN(m.duration,m.delay)}}class Qr{constructor(m,v,P){this.namespaceId=m,this.triggerName=v,this.element=P,this._player=new G.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,Object.keys(this._queuedCallbacks).forEach(v=>{this._queuedCallbacks[v].forEach(P=>Ie(m,v,void 0,P))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const v=this._player;v.triggerCallback&&m.onStart(()=>v.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,v){ae(this._queuedCallbacks,m,[]).push(v)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const v=this._player;v.triggerCallback&&v.triggerCallback(m)}}function cr(B){return B&&1===B.nodeType}function si(B,m){const v=B.style.display;return B.style.display=null!=m?m:"none",v}function Ti(B,m,v,P,H){const J=[];v.forEach(Be=>J.push(si(Be)));const pe=[];P.forEach((Be,ut)=>{const Pt={};Be.forEach(qt=>{const bn=Pt[qt]=m.computeStyle(ut,qt,H);(!bn||0==bn.length)&&(ut[Zr]=Hi,pe.push(ut))}),B.set(ut,Pt)});let ye=0;return v.forEach(Be=>si(Be,J[ye++])),pe}function zo(B,m){const v=new Map;if(B.forEach(ye=>v.set(ye,[])),0==m.length)return v;const H=new Set(m),J=new Map;function pe(ye){if(!ye)return 1;let Be=J.get(ye);if(Be)return Be;const ut=ye.parentNode;return Be=v.has(ut)?ut:H.has(ut)?1:pe(ut),J.set(ye,Be),Be}return m.forEach(ye=>{const Be=pe(ye);1!==Be&&v.get(Be).push(ye)}),v}const wi="$$classes";function vr(B,m){if(B.classList)B.classList.add(m);else{let v=B[wi];v||(v=B[wi]={}),v[m]=!0}}function Oo(B,m){if(B.classList)B.classList.remove(m);else{let v=B[wi];v&&delete v[m]}}function ps(B,m,v){Te(v).onDone(()=>B.processLeaveNode(m))}function bs(B,m){for(let v=0;v<B.length;v++){const P=B[v];P instanceof G.ZE?bs(P.players,m):m.push(P)}}function fo(B,m,v){const P=v.get(B);if(!P)return!1;let H=m.get(B);return H?P.forEach(J=>H.add(J)):m.set(B,P),v.delete(B),!0}class po{constructor(m,v,P){this.bodyNode=m,this._driver=v,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(H,J)=>{},this._transitionEngine=new oi(m,v,P),this._timelineEngine=new co(m,v,P),this._transitionEngine.onRemovalComplete=(H,J)=>this.onRemovalComplete(H,J)}registerTrigger(m,v,P,H,J){const pe=m+"-"+H;let ye=this._triggerCache[pe];if(!ye){const Be=[],ut=on(this._driver,J,Be);if(Be.length)throw new Error(`The animation trigger "${H}" has failed to build due to the following errors:\n - ${Be.join("\n - ")}`);ye=function Ir(B,m,v){return new kn(B,m,v)}(H,ut,this._normalizer),this._triggerCache[pe]=ye}this._transitionEngine.registerTrigger(v,H,ye)}register(m,v){this._transitionEngine.register(m,v)}destroy(m,v){this._transitionEngine.destroy(m,v)}onInsert(m,v,P,H){this._transitionEngine.insertNode(m,v,P,H)}onRemove(m,v,P,H){this._transitionEngine.removeNode(m,v,H||!1,P)}disableAnimations(m,v){this._transitionEngine.markElementAsDisabled(m,v)}process(m,v,P,H){if("@"==P.charAt(0)){const[J,pe]=Oe(P);this._timelineEngine.command(J,v,pe,H)}else this._transitionEngine.trigger(m,v,P,H)}listen(m,v,P,H,J){if("@"==P.charAt(0)){const[pe,ye]=Oe(P);return this._timelineEngine.listen(pe,v,ye,J)}return this._transitionEngine.listen(m,v,P,H,J)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pi(B,m){let v=null,P=null;return Array.isArray(m)&&m.length?(v=Si(m[0]),m.length>1&&(P=Si(m[m.length-1]))):m&&(v=Si(m)),v||P?new No(B,v,P):null}let No=(()=>{class B{constructor(v,P,H){this._element=v,this._startStyles=P,this._endStyles=H,this._state=0;let J=B.initialStylesByElement.get(v);J||B.initialStylesByElement.set(v,J={}),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wn(this._element,this._initialStyles),this._endStyles&&(wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(br(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),wn(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function Si(B){let m=null;const v=Object.keys(B);for(let P=0;P<v.length;P++){const H=v[P];ss(H)&&(m=m||{},m[H]=B[H])}return m}function ss(B){return"display"===B||"position"===B}const $i="animation",mi="animationend";class xi{constructor(m,v,P,H,J,pe,ye){this._element=m,this._name=v,this._duration=P,this._delay=H,this._easing=J,this._fillMode=pe,this._onDoneFn=ye,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Be=>this._handleCallback(Be)}apply(){(function Co(B,m){const v=Fo(B,"").trim();let P=0;v.length&&(P=function ar(B,m){let v=0;for(let P=0;P<B.length;P++)B.charAt(P)===m&&v++;return v}(v,",")+1,m=`${v}, ${m}`),Ki(B,"",m)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),so(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ro(this._element,this._name,"paused")}resume(){Ro(this._element,this._name,"running")}setPosition(m){const v=ki(this._element,this._name);this._position=m*this._duration,Ki(this._element,"Delay",`-${this._position}ms`,v)}getPosition(){return this._position}_handleCallback(m){const v=m._ngTestManualTimestamp||Date.now(),P=1e3*parseFloat(m.elapsedTime.toFixed(3));m.animationName==this._name&&Math.max(v-this._startTime,0)>=this._delay&&P>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),so(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function mo(B,m){const P=Fo(B,"").split(","),H=xr(P,m);H>=0&&(P.splice(H,1),Ki(B,"",P.join(",")))}(this._element,this._name))}}function Ro(B,m,v){Ki(B,"PlayState",v,ki(B,m))}function ki(B,m){const v=Fo(B,"");return v.indexOf(",")>0?xr(v.split(","),m):xr([v],m)}function xr(B,m){for(let v=0;v<B.length;v++)if(B[v].indexOf(m)>=0)return v;return-1}function so(B,m,v){v?B.removeEventListener(mi,m):B.addEventListener(mi,m)}function Ki(B,m,v,P){const H=$i+m;if(null!=P){const J=B.style[H];if(J.length){const pe=J.split(",");pe[P]=v,v=pe.join(",")}}B.style[H]=v}function Fo(B,m){return B.style[$i+m]||""}class Mi{constructor(m,v,P,H,J,pe,ye,Be){this.element=m,this.keyframes=v,this.animationName=P,this._duration=H,this._delay=J,this._finalStyles=ye,this._specialStyles=Be,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=pe||"linear",this.totalTime=H+J,this._buildStyler()}onStart(m){this._onStartFns.push(m)}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(m=>m()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(m){this._styler.setPosition(m)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new xi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(m){const v="start"==m?this._onStartFns:this._onDoneFns;v.forEach(P=>P()),v.length=0}beforeDestroy(){this.init();const m={};if(this.hasStarted()){const v=this._state>=3;Object.keys(this._finalStyles).forEach(P=>{"offset"!=P&&(m[P]=v?this._finalStyles[P]:ft(this.element,P))})}this.currentSnapshot=m}}class go extends G.ZN{constructor(m,v){super(),this.element=m,this._startingStyles={},this.__initialized=!1,this._styles=Ct(v)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(m=>{this._startingStyles[m]=this.element.style[m]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(m=>this.element.style.setProperty(m,this._styles[m])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(m=>{const v=this._startingStyles[m];v?this.element.style.setProperty(m,v):this.element.style.removeProperty(m)}),this._startingStyles=null,super.destroy())}}class Qn{constructor(){this._count=0}validateStyleProperty(m){return Ze(m)}matchesElement(m,v){return Ye(m,v)}containsElement(m,v){return Ge(m,v)}query(m,v,P){return Le(m,v,P)}computeStyle(m,v,P){return window.getComputedStyle(m)[v]}buildKeyframeElement(m,v,P){P=P.map(ye=>Ct(ye));let H=`@keyframes ${v} {\n`,J="";P.forEach(ye=>{J=" ";const Be=parseFloat(ye.offset);H+=`${J}${100*Be}% {\n`,J+=" ",Object.keys(ye).forEach(ut=>{const Pt=ye[ut];switch(ut){case"offset":return;case"easing":return void(Pt&&(H+=`${J}animation-timing-function: ${Pt};\n`));default:return void(H+=`${J}${ut}: ${Pt};\n`)}}),H+=`${J}}\n`}),H+="}\n";const pe=document.createElement("style");return pe.textContent=H,pe}animate(m,v,P,H,J,pe=[],ye){const Be=pe.filter(Bn=>Bn instanceof Mi),ut={};Pe(P,H)&&Be.forEach(Bn=>{let Ar=Bn.currentSnapshot;Object.keys(Ar).forEach(Or=>ut[Or]=Ar[Or])});const Pt=function Go(B){let m={};return B&&(Array.isArray(B)?B:[B]).forEach(P=>{Object.keys(P).forEach(H=>{"offset"==H||"easing"==H||(m[H]=P[H])})}),m}(v=Ae(m,v,ut));if(0==P)return new go(m,Pt);const qt="gen_css_kf_"+this._count++,bn=this.buildKeyframeElement(m,qt,v);(function yo(B){var m;const v=null===(m=B.getRootNode)||void 0===m?void 0:m.call(B);return"undefined"!=typeof ShadowRoot&&v instanceof ShadowRoot?v:document.head})(m).appendChild(bn);const dn=pi(m,v),In=new Mi(m,v,qt,P,H,J,Pt,dn);return In.onDestroy(()=>function k(B){B.parentNode.removeChild(B)}(bn)),In}}class Q{constructor(m,v,P,H){this.element=m,this.keyframes=v,this.options=P,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(m,v,P){return m.animate(v,P)}onStart(m){this._onStartFns.push(m)}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(v=>{"offset"!=v&&(m[v]=this._finished?this._finalKeyframe[v]:ft(this.element,v))}),this.currentSnapshot=m}triggerCallback(m){const v="start"==m?this._onStartFns:this._onDoneFns;v.forEach(P=>P()),v.length=0}}class Ee{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yt().toString()),this._cssKeyframesDriver=new Qn}validateStyleProperty(m){return Ze(m)}matchesElement(m,v){return Ye(m,v)}containsElement(m,v){return Ge(m,v)}query(m,v,P){return Le(m,v,P)}computeStyle(m,v,P){return window.getComputedStyle(m)[v]}overrideWebAnimationsSupport(m){this._isNativeImpl=m}animate(m,v,P,H,J,pe=[],ye){if(!ye&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(m,v,P,H,J,pe);const Pt={duration:P,delay:H,fill:0==H?"both":"forwards"};J&&(Pt.easing=J);const qt={},bn=pe.filter(dn=>dn instanceof Q);Pe(P,H)&&bn.forEach(dn=>{let In=dn.currentSnapshot;Object.keys(In).forEach(Bn=>qt[Bn]=In[Bn])});const un=pi(m,v=Ae(m,v=v.map(dn=>Wn(dn,!1)),qt));return new Q(m,v,Pt,un)}}function yt(){return De()&&Element.prototype.animate||{}}var Ot=L(9808);let R=(()=>{class B extends G._j{constructor(v,P){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(P.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(v){const P=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(v)?(0,G.vP)(v):v;return W(this._renderer,null,P,"register",[H]),new x(P,this._renderer)}}return B.\u0275fac=function(v){return new(v||B)(p.LFG(p.FYo),p.LFG(Ot.K0))},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac}),B})();class x extends G.LC{constructor(m,v){super(),this._id=m,this._renderer=v}create(m,v){return new I(this._id,m,v||{},this._renderer)}}class I{constructor(m,v,P,H){this.id=m,this.element=v,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(m,v){return this._renderer.listen(this.element,`@@${this.id}:${m}`,v)}_command(m,...v){return W(this._renderer,this.element,this.id,m,v)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){var m,v;return null!==(v=null===(m=this._renderer.engine.players[+this.id])||void 0===m?void 0:m.getPosition())&&void 0!==v?v:0}}function W(B,m,v,P,H){return B.setProperty(m,`@@${v}:${P}`,H)}const Rt="@.disabled";let vn=(()=>{class B{constructor(v,P,H){this.delegate=v,this.engine=P,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),P.onRemovalComplete=(J,pe)=>{const ye=null==pe?void 0:pe.parentNode(J);ye&&pe.removeChild(ye,J)}}createRenderer(v,P){const J=this.delegate.createRenderer(v,P);if(!(v&&P&&P.data&&P.data.animation)){let Pt=this._rendererCache.get(J);return Pt||(Pt=new $t("",J,this.engine),this._rendererCache.set(J,Pt)),Pt}const pe=P.id,ye=P.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,v);const Be=Pt=>{Array.isArray(Pt)?Pt.forEach(Be):this.engine.registerTrigger(pe,ye,v,Pt.name,Pt)};return P.data.animation.forEach(Be),new Gr(this,ye,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,P,H){v>=0&&v<this._microtaskId?this._zone.run(()=>P(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[pe,ye]=J;pe(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(v){return new(v||B)(p.LFG(p.FYo),p.LFG(po),p.LFG(p.R0b))},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac}),B})();class $t{constructor(m,v,P){this.namespaceId=m,this.delegate=v,this.engine=P,this.destroyNode=this.delegate.destroyNode?H=>v.destroyNode(H):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,v){return this.delegate.createElement(m,v)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,v){this.delegate.appendChild(m,v),this.engine.onInsert(this.namespaceId,v,m,!1)}insertBefore(m,v,P,H=!0){this.delegate.insertBefore(m,v,P),this.engine.onInsert(this.namespaceId,v,m,H)}removeChild(m,v,P){this.engine.onRemove(this.namespaceId,v,this.delegate,P)}selectRootElement(m,v){return this.delegate.selectRootElement(m,v)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,v,P,H){this.delegate.setAttribute(m,v,P,H)}removeAttribute(m,v,P){this.delegate.removeAttribute(m,v,P)}addClass(m,v){this.delegate.addClass(m,v)}removeClass(m,v){this.delegate.removeClass(m,v)}setStyle(m,v,P,H){this.delegate.setStyle(m,v,P,H)}removeStyle(m,v,P){this.delegate.removeStyle(m,v,P)}setProperty(m,v,P){"@"==v.charAt(0)&&v==Rt?this.disableAnimations(m,!!P):this.delegate.setProperty(m,v,P)}setValue(m,v){this.delegate.setValue(m,v)}listen(m,v,P){return this.delegate.listen(m,v,P)}disableAnimations(m,v){this.engine.disableAnimations(m,v)}}class Gr extends $t{constructor(m,v,P,H){super(v,P,H),this.factory=m,this.namespaceId=v}setProperty(m,v,P){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Rt?this.disableAnimations(m,P=void 0===P||!!P):this.engine.process(this.namespaceId,m,v.substr(1),P):this.delegate.setProperty(m,v,P)}listen(m,v,P){if("@"==v.charAt(0)){const H=function gi(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(m);let J=v.substr(1),pe="";return"@"!=J.charAt(0)&&([J,pe]=function ai(B){const m=B.indexOf(".");return[B.substring(0,m),B.substr(m+1)]}(J)),this.engine.listen(this.namespaceId,H,J,pe,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,P,ye)})}return this.delegate.listen(m,v,P)}}let Oi=(()=>{class B extends po{constructor(v,P,H){super(v.body,P,H)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(v){return new(v||B)(p.LFG(Ot.K0),p.LFG(ne),p.LFG(er))},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac}),B})();const vt=new p.OlP("AnimationModuleType"),Gn=[{provide:G._j,useClass:R},{provide:er,useFactory:function Is(){return new ns}},{provide:po,useClass:Oi},{provide:p.FYo,useFactory:function ua(B,m,v){return new vn(B,m,v)},deps:[Z.se,po,p.R0b]}],Ps=[{provide:ne,useFactory:function ao(){return function nt(){return"function"==typeof yt()}()?new Ee:new Qn}},{provide:vt,useValue:"BrowserAnimations"},...Gn],Mr=[{provide:ne,useClass:Ce},{provide:vt,useValue:"NoopAnimations"},...Gn];let Fs=(()=>{class B{static withConfig(v){return{ngModule:B,providers:v.disableAnimations?Mr:Ps}}}return B.\u0275fac=function(v){return new(v||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({providers:Ps,imports:[Z.b2]}),B})()},2313:(Nt,He,L)=>{L.d(He,{H7:()=>ue,b2:()=>Lr,q6:()=>br,se:()=>je});var p=L(9808),Z=L(5e3);class G extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends G{static makeCurrent(){(0,p.HT)(new De)}onAndCancel(ge,oe,Ve){return ge.addEventListener(oe,Ve,!1),()=>{ge.removeEventListener(oe,Ve,!1)}}dispatchEvent(ge,oe){ge.dispatchEvent(oe)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,oe){return(oe=oe||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,oe){return"window"===oe?window:"document"===oe?ge:"body"===oe?ge.body:null}getBaseHref(ge){const oe=function Te(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==oe?null:function Ie(xe){ke=ke||document.createElement("a"),ke.setAttribute("href",xe);const ge=ke.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(oe)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,p.Mx)(document.cookie,ge)}}let ke,he=null;const me=new Z.OlP("TRANSITION_ID"),ae=[{provide:Z.ip1,useFactory:function te(xe,ge,oe){return()=>{oe.get(Z.CZH).donePromise.then(()=>{const Ve=(0,p.q)(),rt=ge.querySelectorAll(`style[ng-transition="${xe}"]`);for(let It=0;It<rt.length;It++)Ve.remove(rt[It])})}},deps:[me,p.K0,Z.zs3],multi:!0}];class Oe{static init(){(0,Z.VLi)(new Oe)}addToWindow(ge){Z.dqk.getAngularTestability=(Ve,rt=!0)=>{const It=ge.findTestabilityInTree(Ve,rt);if(null==It)throw new Error("Could not find testability for element.");return It},Z.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(Ve=>{const rt=Z.dqk.getAllAngularTestabilities();let It=rt.length,Xt=!1;const Sn=function(yr){Xt=Xt||yr,It--,0==It&&Ve(Xt)};rt.forEach(function(yr){yr.whenStable(Sn)})})}findTestabilityInTree(ge,oe,Ve){if(null==oe)return null;const rt=ge.getTestability(oe);return null!=rt?rt:Ve?(0,p.q)().isShadowRoot(oe)?this.findTestabilityInTree(ge,oe.host,!0):this.findTestabilityInTree(ge,oe.parentElement,!0):null}}let lt=(()=>{class xe{build(){return new XMLHttpRequest}}return xe.\u0275fac=function(oe){return new(oe||xe)},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Je=new Z.OlP("EventManagerPlugins");let ht=(()=>{class xe{constructor(oe,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,oe.forEach(rt=>rt.manager=this),this._plugins=oe.slice().reverse()}addEventListener(oe,Ve,rt){return this._findPluginFor(Ve).addEventListener(oe,Ve,rt)}addGlobalEventListener(oe,Ve,rt){return this._findPluginFor(Ve).addGlobalEventListener(oe,Ve,rt)}getZone(){return this._zone}_findPluginFor(oe){const Ve=this._eventNameToPlugin.get(oe);if(Ve)return Ve;const rt=this._plugins;for(let It=0;It<rt.length;It++){const Xt=rt[It];if(Xt.supports(oe))return this._eventNameToPlugin.set(oe,Xt),Xt}throw new Error(`No event manager plugin found for event ${oe}`)}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(Je),Z.LFG(Z.R0b))},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class pt{constructor(ge){this._doc=ge}addGlobalEventListener(ge,oe,Ve){const rt=(0,p.q)().getGlobalEventTarget(this._doc,ge);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${oe}`);return this.addEventListener(rt,oe,Ve)}}let fe=(()=>{class xe{constructor(){this._stylesSet=new Set}addStyles(oe){const Ve=new Set;oe.forEach(rt=>{this._stylesSet.has(rt)||(this._stylesSet.add(rt),Ve.add(rt))}),this.onStylesAdded(Ve)}onStylesAdded(oe){}getAllStyles(){return Array.from(this._stylesSet)}}return xe.\u0275fac=function(oe){return new(oe||xe)},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),Fe=(()=>{class xe extends fe{constructor(oe){super(),this._doc=oe,this._hostNodes=new Map,this._hostNodes.set(oe.head,[])}_addStylesToHost(oe,Ve,rt){oe.forEach(It=>{const Xt=this._doc.createElement("style");Xt.textContent=It,rt.push(Ve.appendChild(Xt))})}addHost(oe){const Ve=[];this._addStylesToHost(this._stylesSet,oe,Ve),this._hostNodes.set(oe,Ve)}removeHost(oe){const Ve=this._hostNodes.get(oe);Ve&&Ve.forEach(ct),this._hostNodes.delete(oe)}onStylesAdded(oe){this._hostNodes.forEach((Ve,rt)=>{this._addStylesToHost(oe,rt,Ve)})}ngOnDestroy(){this._hostNodes.forEach(oe=>oe.forEach(ct))}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(p.K0))},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();function ct(xe){(0,p.q)().remove(xe)}const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ne=/%COMP%/g;function le(xe,ge,oe){for(let Ve=0;Ve<ge.length;Ve++){let rt=ge[Ve];Array.isArray(rt)?le(xe,rt,oe):(rt=rt.replace(Ne,xe),oe.push(rt))}return oe}function ve(xe){return ge=>{if("__ngUnwrap__"===ge)return xe;!1===xe(ge)&&(ge.preventDefault(),ge.returnValue=!1)}}let je=(()=>{class xe{constructor(oe,Ve,rt){this.eventManager=oe,this.sharedStylesHost=Ve,this.appId=rt,this.rendererByCompId=new Map,this.defaultRenderer=new _e(oe)}createRenderer(oe,Ve){if(!oe||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case Z.ifc.Emulated:{let rt=this.rendererByCompId.get(Ve.id);return rt||(rt=new Jt(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,rt)),rt.applyToHost(oe),rt}case 1:case Z.ifc.ShadowDom:return new Dt(this.eventManager,this.sharedStylesHost,oe,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const rt=le(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(rt),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(ht),Z.LFG(Fe),Z.LFG(Z.AFp))},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class _e{constructor(ge){this.eventManager=ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,oe){return oe?document.createElementNS(Ze[oe]||oe,ge):document.createElement(ge)}createComment(ge){return document.createComment(ge)}createText(ge){return document.createTextNode(ge)}appendChild(ge,oe){ge.appendChild(oe)}insertBefore(ge,oe,Ve){ge&&ge.insertBefore(oe,Ve)}removeChild(ge,oe){ge&&ge.removeChild(oe)}selectRootElement(ge,oe){let Ve="string"==typeof ge?document.querySelector(ge):ge;if(!Ve)throw new Error(`The selector "${ge}" did not match any elements`);return oe||(Ve.textContent=""),Ve}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,oe,Ve,rt){if(rt){oe=rt+":"+oe;const It=Ze[rt];It?ge.setAttributeNS(It,oe,Ve):ge.setAttribute(oe,Ve)}else ge.setAttribute(oe,Ve)}removeAttribute(ge,oe,Ve){if(Ve){const rt=Ze[Ve];rt?ge.removeAttributeNS(rt,oe):ge.removeAttribute(`${Ve}:${oe}`)}else ge.removeAttribute(oe)}addClass(ge,oe){ge.classList.add(oe)}removeClass(ge,oe){ge.classList.remove(oe)}setStyle(ge,oe,Ve,rt){rt&(Z.JOm.DashCase|Z.JOm.Important)?ge.style.setProperty(oe,Ve,rt&Z.JOm.Important?"important":""):ge.style[oe]=Ve}removeStyle(ge,oe,Ve){Ve&Z.JOm.DashCase?ge.style.removeProperty(oe):ge.style[oe]=""}setProperty(ge,oe,Ve){ge[oe]=Ve}setValue(ge,oe){ge.nodeValue=oe}listen(ge,oe,Ve){return"string"==typeof ge?this.eventManager.addGlobalEventListener(ge,oe,ve(Ve)):this.eventManager.addEventListener(ge,oe,ve(Ve))}}class Jt extends _e{constructor(ge,oe,Ve,rt){super(ge),this.component=Ve;const It=le(rt+"-"+Ve.id,Ve.styles,[]);oe.addStyles(It),this.contentAttr=function Ce(xe){return"_ngcontent-%COMP%".replace(Ne,xe)}(rt+"-"+Ve.id),this.hostAttr=function ne(xe){return"_nghost-%COMP%".replace(Ne,xe)}(rt+"-"+Ve.id)}applyToHost(ge){super.setAttribute(ge,this.hostAttr,"")}createElement(ge,oe){const Ve=super.createElement(ge,oe);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class Dt extends _e{constructor(ge,oe,Ve,rt){super(ge),this.sharedStylesHost=oe,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const It=le(rt.id,rt.styles,[]);for(let Xt=0;Xt<It.length;Xt++){const Sn=document.createElement("style");Sn.textContent=It[Xt],this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ge,oe){return super.appendChild(this.nodeOrShadowRoot(ge),oe)}insertBefore(ge,oe,Ve){return super.insertBefore(this.nodeOrShadowRoot(ge),oe,Ve)}removeChild(ge,oe){return super.removeChild(this.nodeOrShadowRoot(ge),oe)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}}let Bt=(()=>{class xe extends pt{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,Ve,rt){return oe.addEventListener(Ve,rt,!1),()=>this.removeEventListener(oe,Ve,rt)}removeEventListener(oe,Ve,rt){return oe.removeEventListener(Ve,rt)}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(p.K0))},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Vt=["alt","control","meta","shift"],gr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jn={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let Vn=(()=>{class xe extends pt{constructor(oe){super(oe)}supports(oe){return null!=xe.parseEventName(oe)}addEventListener(oe,Ve,rt){const It=xe.parseEventName(Ve),Xt=xe.eventCallback(It.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(oe,It.domEventName,Xt))}static parseEventName(oe){const Ve=oe.toLowerCase().split("."),rt=Ve.shift();if(0===Ve.length||"keydown"!==rt&&"keyup"!==rt)return null;const It=xe._normalizeKey(Ve.pop());let Xt="";if(Vt.forEach(yr=>{const Vi=Ve.indexOf(yr);Vi>-1&&(Ve.splice(Vi,1),Xt+=yr+".")}),Xt+=It,0!=Ve.length||0===It.length)return null;const Sn={};return Sn.domEventName=rt,Sn.fullKey=Xt,Sn}static getEventFullKey(oe){let Ve="",rt=function Dn(xe){let ge=xe.key;if(null==ge){if(ge=xe.keyIdentifier,null==ge)return"Unidentified";ge.startsWith("U+")&&(ge=String.fromCharCode(parseInt(ge.substring(2),16)),3===xe.location&&pr.hasOwnProperty(ge)&&(ge=pr[ge]))}return gr[ge]||ge}(oe);return rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),Vt.forEach(It=>{It!=rt&&Jn[It](oe)&&(Ve+=It+".")}),Ve+=rt,Ve}static eventCallback(oe,Ve,rt){return It=>{xe.getEventFullKey(It)===oe&&rt.runGuarded(()=>Ve(It))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(p.K0))},xe.\u0275prov=Z.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const br=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:p.bD},{provide:Z.g9A,useValue:function Wn(){De.makeCurrent(),Oe.init()},multi:!0},{provide:p.K0,useFactory:function Fr(){return(0,Z.RDi)(document),document},deps:[]}]),Pn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function dr(){return new Z.qLn},deps:[]},{provide:Je,useClass:Bt,multi:!0,deps:[p.K0,Z.R0b,Z.Lbi]},{provide:Je,useClass:Vn,multi:!0,deps:[p.K0]},{provide:je,useClass:je,deps:[ht,Fe,Z.AFp]},{provide:Z.FYo,useExisting:je},{provide:fe,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[p.K0]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b]},{provide:ht,useClass:ht,deps:[Je,Z.R0b]},{provide:p.JF,useClass:lt,deps:[]}];let Lr=(()=>{class xe{constructor(oe){if(oe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(oe){return{ngModule:xe,providers:[{provide:Z.AFp,useValue:oe.appId},{provide:me,useExisting:Z.AFp},ae]}}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(xe,12))},xe.\u0275mod=Z.oAB({type:xe}),xe.\u0275inj=Z.cJS({providers:Pn,imports:[p.ez,Z.hGG]}),xe})();"undefined"!=typeof window&&window;let ue=(()=>{class xe{}return xe.\u0275fac=function(oe){return new(oe||xe)},xe.\u0275prov=Z.Yz7({token:xe,factory:function(oe){let Ve=null;return Ve=oe?new(oe||xe):Z.LFG(Ue),Ve},providedIn:"root"}),xe})(),Ue=(()=>{class xe extends ue{constructor(oe){super(),this._doc=oe}sanitize(oe,Ve){if(null==Ve)return null;switch(oe){case Z.q3G.NONE:return Ve;case Z.q3G.HTML:return(0,Z.qzn)(Ve,"HTML")?(0,Z.z3N)(Ve):(0,Z.EiD)(this._doc,String(Ve)).toString();case Z.q3G.STYLE:return(0,Z.qzn)(Ve,"Style")?(0,Z.z3N)(Ve):Ve;case Z.q3G.SCRIPT:if((0,Z.qzn)(Ve,"Script"))return(0,Z.z3N)(Ve);throw new Error("unsafe value used in a script context");case Z.q3G.URL:return(0,Z.yhl)(Ve),(0,Z.qzn)(Ve,"URL")?(0,Z.z3N)(Ve):(0,Z.mCW)(String(Ve));case Z.q3G.RESOURCE_URL:if((0,Z.qzn)(Ve,"ResourceURL"))return(0,Z.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${oe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(oe){return(0,Z.JVY)(oe)}bypassSecurityTrustStyle(oe){return(0,Z.L6k)(oe)}bypassSecurityTrustScript(oe){return(0,Z.eBb)(oe)}bypassSecurityTrustUrl(oe){return(0,Z.LAX)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,Z.pB0)(oe)}}return xe.\u0275fac=function(oe){return new(oe||xe)(Z.LFG(p.K0))},xe.\u0275prov=Z.Yz7({token:xe,factory:function(oe){let Ve=null;return Ve=oe?new oe:function We(xe){return new Ue(xe.get(p.K0))}(Z.LFG(Z.zs3)),Ve},providedIn:"root"}),xe})()},1402:(Nt,He,L)=>{L.d(He,{m2:()=>Vt,F0:()=>cn,rH:()=>qi,yS:()=>ci,Bz:()=>Vo,lC:()=>mo});var p=L(5e3),Z=L(8306),G=L(727),De=L(4482),he=L(5403);function Te(){return(0,De.e)((C,T)=>{let E=null;C._refCount++;const O=new he.Q(T,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const Y=C._connection,j=E;E=null,Y&&(!j||Y===j)&&Y.unsubscribe(),T.unsubscribe()});C.subscribe(O),O.closed||(E=C.connect())})}class ke extends Z.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,null==T||T.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new G.w0;const E=this.getSubject();T.add(this.source.subscribe(new he.Q(E,void 0,()=>{this._teardown(),E.complete()},O=>{this._teardown(),E.error(O)},()=>this._teardown()))),T.closed&&(this._connection=null,T=G.w0.EMPTY)}return T}refCount(){return Te()(this)}}var Ie=L(8996),me=L(9646),te=L(1135),ae=L(9841),Oe=L(6805),lt=L(7272),Je=L(9770),ht=L(515),pt=L(7579),fe=L(9300);function Fe(C){return C<=0?()=>ht.E:(0,De.e)((T,E)=>{let O=[];T.subscribe(new he.Q(E,Y=>{O.push(Y),C<O.length&&O.shift()},()=>{for(const Y of O)E.next(Y);E.complete()},void 0,()=>{O=null}))})}var ct=L(8068),Ze=L(6590),Ne=L(4671),Ge=L(4004),Le=L(3900),Ct=L(5698),Ce=L(8675),ne=L(5026),le=L(262),ve=L(4351),Se=L(590),je=L(5577),_e=L(8505),xt=L(8746),en=L(8189),Jt=L(9808);class Dt{constructor(T,E){this.id=T,this.url=E}}class Bt extends Dt{constructor(T,E,O="imperative",Y=null){super(T,E),this.navigationTrigger=O,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vt extends Dt{constructor(T,E,O){super(T,E),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sn extends Dt{constructor(T,E,O){super(T,E),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gr extends Dt{constructor(T,E,O){super(T,E),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pr extends Dt{constructor(T,E,O,Y){super(T,E),this.urlAfterRedirects=O,this.state=Y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Dt{constructor(T,E,O,Y){super(T,E),this.urlAfterRedirects=O,this.state=Y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends Dt{constructor(T,E,O,Y,j){super(T,E),this.urlAfterRedirects=O,this.state=Y,this.shouldActivate=j}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dn extends Dt{constructor(T,E,O,Y){super(T,E),this.urlAfterRedirects=O,this.state=Y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends Dt{constructor(T,E,O,Y){super(T,E),this.urlAfterRedirects=O,this.state=Y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fr{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wn{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(T,E,O){this.routerEvent=T,this.position=E,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class tn{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Rn(C){return new tn(C)}const Xn="ngNavigationCancelingError";function sr(C){const T=Error("NavigationCancelingError: "+C);return T[Xn]=!0,T}function Pe(C,T,E){const O=E.path.split("/");if(O.length>C.length||"full"===E.pathMatch&&(T.hasChildren()||O.length<C.length))return null;const Y={};for(let j=0;j<O.length;j++){const re=O[j],be=C[j];if(re.startsWith(":"))Y[re.substring(1)]=be;else if(re!==be.path)return null}return{consumed:C.slice(0,O.length),posParams:Y}}function et(C,T){const E=C?Object.keys(C):void 0,O=T?Object.keys(T):void 0;if(!E||!O||E.length!=O.length)return!1;let Y;for(let j=0;j<E.length;j++)if(Y=E[j],!ft(C[Y],T[Y]))return!1;return!0}function ft(C,T){if(Array.isArray(C)&&Array.isArray(T)){if(C.length!==T.length)return!1;const E=[...C].sort(),O=[...T].sort();return E.every((Y,j)=>O[j]===Y)}return C===T}function Lt(C){return Array.prototype.concat.apply([],C)}function bt(C){return C.length>0?C[C.length-1]:null}function Kt(C,T){for(const E in C)C.hasOwnProperty(E)&&T(C[E],E)}function An(C){return(0,p.CqO)(C)?C:(0,p.QGY)(C)?(0,Ie.D)(Promise.resolve(C)):(0,me.of)(C)}const Yn={exact:function pn(C,T,E){if(!ee(C.segments,T.segments)||!Wt(C.segments,T.segments,E)||C.numberOfChildren!==T.numberOfChildren)return!1;for(const O in T.children)if(!C.children[O]||!pn(C.children[O],T.children[O],E))return!1;return!0},subset:kt},fr={exact:function on(C,T){return et(C,T)},subset:function gn(C,T){return Object.keys(T).length<=Object.keys(C).length&&Object.keys(T).every(E=>ft(C[E],T[E]))},ignored:()=>!0};function Tn(C,T,E){return Yn[E.paths](C.root,T.root,E.matrixParams)&&fr[E.queryParams](C.queryParams,T.queryParams)&&!("exact"===E.fragment&&C.fragment!==T.fragment)}function kt(C,T,E){return tt(C,T,T.segments,E)}function tt(C,T,E,O){if(C.segments.length>E.length){const Y=C.segments.slice(0,E.length);return!(!ee(Y,E)||T.hasChildren()||!Wt(Y,E,O))}if(C.segments.length===E.length){if(!ee(C.segments,E)||!Wt(C.segments,E,O))return!1;for(const Y in T.children)if(!C.children[Y]||!kt(C.children[Y],T.children[Y],O))return!1;return!0}{const Y=E.slice(0,C.segments.length),j=E.slice(C.segments.length);return!!(ee(C.segments,Y)&&Wt(C.segments,Y,O)&&C.children[ln])&&tt(C.children[ln],T,j,O)}}function Wt(C,T,E){return T.every((O,Y)=>fr[E](C[Y].parameters,O.parameters))}class Zt{constructor(T,E,O){this.root=T,this.queryParams=E,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class Mt{constructor(T,E){this.segments=T,this.children=E,this.parent=null,Kt(E,(O,Y)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xe(this)}}class En{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return yr(this)}}function ee(C,T){return C.length===T.length&&C.every((E,O)=>E.path===T[O].path)}class We{}class Ue{parse(T){const E=new Cn(T);return new Zt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${ge(T.root,!0)}`,O=function Ei(C){const T=Object.keys(C).map(E=>{const O=C[E];return Array.isArray(O)?O.map(Y=>`${Ve(E)}=${Ve(Y)}`).join("&"):`${Ve(E)}=${Ve(O)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${O}${"string"==typeof T.fragment?`#${function rt(C){return encodeURI(C)}(T.fragment)}`:""}`}}const At=new Ue;function xe(C){return C.segments.map(T=>yr(T)).join("/")}function ge(C,T){if(!C.hasChildren())return xe(C);if(T){const E=C.children[ln]?ge(C.children[ln],!1):"",O=[];return Kt(C.children,(Y,j)=>{j!==ln&&O.push(`${j}:${ge(Y,!1)}`)}),O.length>0?`${E}(${O.join("//")})`:E}{const E=function ue(C,T){let E=[];return Kt(C.children,(O,Y)=>{Y===ln&&(E=E.concat(T(O,Y)))}),Kt(C.children,(O,Y)=>{Y!==ln&&(E=E.concat(T(O,Y)))}),E}(C,(O,Y)=>Y===ln?[ge(C.children[ln],!1)]:[`${Y}:${ge(O,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[ln]?`${xe(C)}/${E[0]}`:`${xe(C)}/(${E.join("//")})`}}function oe(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ve(C){return oe(C).replace(/%3B/gi,";")}function It(C){return oe(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(C){return decodeURIComponent(C)}function Sn(C){return Xt(C.replace(/\+/g,"%20"))}function yr(C){return`${It(C.path)}${function Vi(C){return Object.keys(C).map(T=>`;${It(T)}=${It(C[T])}`).join("")}(C.parameters)}`}const Ui=/^[^\/()?;=#]+/;function er(C){const T=C.match(Ui);return T?T[0]:""}const Un=/^[^=?&#]+/,qn=/^[^&#]+/;class Cn{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(O[ln]=new Mt(T,E)),O}parseSegment(){const T=er(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new En(Xt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=er(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const Y=er(this.remaining);Y&&(O=Y,this.capture(O))}T[Xt(E)]=Xt(O)}parseQueryParam(T){const E=function ns(C){const T=C.match(Un);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const re=function Ht(C){const T=C.match(qn);return T?T[0]:""}(this.remaining);re&&(O=re,this.capture(O))}const Y=Sn(E),j=Sn(O);if(T.hasOwnProperty(Y)){let re=T[Y];Array.isArray(re)||(re=[re],T[Y]=re),re.push(j)}else T[Y]=j}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=er(this.remaining),Y=this.remaining[O.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new Error(`Cannot parse url '${this.url}'`);let j;O.indexOf(":")>-1?(j=O.substr(0,O.indexOf(":")),this.capture(j),this.capture(":")):T&&(j=ln);const re=this.parseChildren();E[j]=1===Object.keys(re).length?re[ln]:new Mt([],re),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class Zn{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=kr(T,this._root);return E?E.children.map(O=>O.value):[]}firstChild(T){const E=kr(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=Pi(T,this._root);return E.length<2?[]:E[E.length-2].children.map(Y=>Y.value).filter(Y=>Y!==T)}pathFromRoot(T){return Pi(T,this._root).map(E=>E.value)}}function kr(C,T){if(C===T.value)return T;for(const E of T.children){const O=kr(C,E);if(O)return O}return null}function Pi(C,T){if(C===T.value)return[T];for(const E of T.children){const O=Pi(C,E);if(O.length)return O.unshift(T),O}return[]}class tr{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Ir(C){const T={};return C&&C.children.forEach(E=>T[E.value.outlet]=E),T}class kn extends Zn{constructor(T,E){super(T),this.snapshot=E,Pr(this,T)}toString(){return this.snapshot.toString()}}function Ai(C,T){const E=function io(C,T){const re=new uo([],{},{},"",{},ln,T,null,C.root,-1,{});return new ji("",new tr(re,[]))}(C,T),O=new te.X([new En("",{})]),Y=new te.X({}),j=new te.X({}),re=new te.X({}),be=new te.X(""),ot=new yn(O,Y,re,be,j,ln,T,E.root);return ot.snapshot=E.root,new kn(new tr(ot,[]),E)}class yn{constructor(T,E,O,Y,j,re,be,ot){this.url=T,this.params=E,this.queryParams=O,this.fragment=Y,this.data=j,this.outlet=re,this.component=be,this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(T=>Rn(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(T=>Rn(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function co(C,T="emptyOnly"){const E=C.pathFromRoot;let O=0;if("always"!==T)for(O=E.length-1;O>=1;){const Y=E[O],j=E[O-1];if(Y.routeConfig&&""===Y.routeConfig.path)O--;else{if(j.component)break;O--}}return function oo(C){return C.reduce((T,E)=>({params:Object.assign(Object.assign({},T.params),E.params),data:Object.assign(Object.assign({},T.data),E.data),resolve:Object.assign(Object.assign({},T.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(O))}class uo{constructor(T,E,O,Y,j,re,be,ot,st,Ft,fn){this.url=T,this.params=E,this.queryParams=O,this.fragment=Y,this.data=j,this.outlet=re,this.component=be,this.routeConfig=ot,this._urlSegment=st,this._lastPathIndex=Ft,this._resolve=fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Zn{constructor(T,E){super(E),this.url=T,Pr(this,E)}toString(){return hi(this._root)}}function Pr(C,T){T.value._routerState=C,T.children.forEach(E=>Pr(C,E))}function hi(C){const T=C.children.length>0?` { ${C.children.map(hi).join(", ")} } `:"";return`${C.value}${T}`}function Bi(C){if(C.snapshot){const T=C.snapshot,E=C._futureSnapshot;C.snapshot=E,et(T.queryParams,E.queryParams)||C.queryParams.next(E.queryParams),T.fragment!==E.fragment&&C.fragment.next(E.fragment),et(T.params,E.params)||C.params.next(E.params),function Ae(C,T){if(C.length!==T.length)return!1;for(let E=0;E<C.length;++E)if(!et(C[E],T[E]))return!1;return!0}(T.url,E.url)||C.url.next(E.url),et(T.data,E.data)||C.data.next(E.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function jr(C,T){const E=et(C.params,T.params)&&function de(C,T){return ee(C,T)&&C.every((E,O)=>et(E.parameters,T[O].parameters))}(C.url,T.url);return E&&!(!C.parent!=!T.parent)&&(!C.parent||jr(C.parent,T.parent))}function Hi(C,T,E){if(E&&C.shouldReuseRoute(T.value,E.value.snapshot)){const O=E.value;O._futureSnapshot=T.value;const Y=function Zr(C,T,E){return T.children.map(O=>{for(const Y of E.children)if(C.shouldReuseRoute(O.value,Y.value.snapshot))return Hi(C,O,Y);return Hi(C,O)})}(C,T,E);return new tr(O,Y)}{if(C.shouldAttach(T.value)){const j=C.retrieve(T.value);if(null!==j){const re=j.route;return re.value._futureSnapshot=T.value,re.children=T.children.map(be=>Hi(C,be)),re}}const O=function fi(C){return new yn(new te.X(C.url),new te.X(C.params),new te.X(C.queryParams),new te.X(C.fragment),new te.X(C.data),C.outlet,C.component,C)}(T.value),Y=T.children.map(j=>Hi(C,j));return new tr(O,Y)}}function Di(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function So(C){return"object"==typeof C&&null!=C&&C.outlets}function oi(C,T,E,O,Y){let j={};return O&&Kt(O,(re,be)=>{j[be]=Array.isArray(re)?re.map(ot=>`${ot}`):`${re}`}),new Zt(E.root===C?T:Qr(E.root,C,T),j,Y)}function Qr(C,T,E){const O={};return Kt(C.children,(Y,j)=>{O[j]=Y===T?E:Qr(Y,T,E)}),new Mt(C.segments,O)}class ho{constructor(T,E,O){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=O,T&&O.length>0&&Di(O[0]))throw new Error("Root segment cannot have matrix parameters");const Y=O.find(So);if(Y&&Y!==bt(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cr{constructor(T,E,O){this.segmentGroup=T,this.processChildren=E,this.index=O}}function zo(C,T,E){if(C||(C=new Mt([],{})),0===C.segments.length&&C.hasChildren())return wi(C,T,E);const O=function Cs(C,T,E){let O=0,Y=T;const j={match:!1,pathIndex:0,commandIndex:0};for(;Y<C.segments.length;){if(O>=E.length)return j;const re=C.segments[Y],be=E[O];if(So(be))break;const ot=`${be}`,st=O<E.length-1?E[O+1]:null;if(Y>0&&void 0===ot)break;if(ot&&st&&"object"==typeof st&&void 0===st.outlets){if(!$o(ot,st,re))return j;O+=2}else{if(!$o(ot,{},re))return j;O++}Y++}return{match:!0,pathIndex:Y,commandIndex:O}}(C,T,E),Y=E.slice(O.commandIndex);if(O.match&&O.pathIndex<C.segments.length){const j=new Mt(C.segments.slice(0,O.pathIndex),{});return j.children[ln]=new Mt(C.segments.slice(O.pathIndex),C.children),wi(j,0,Y)}return O.match&&0===Y.length?new Mt(C.segments,{}):O.match&&!C.hasChildren()?vr(C,T,E):O.match?wi(C,0,Y):vr(C,T,E)}function wi(C,T,E){if(0===E.length)return new Mt(C.segments,{});{const O=function Ti(C){return So(C[0])?C[0].outlets:{[ln]:C}}(E),Y={};return Kt(O,(j,re)=>{"string"==typeof j&&(j=[j]),null!==j&&(Y[re]=zo(C.children[re],T,j))}),Kt(C.children,(j,re)=>{void 0===O[re]&&(Y[re]=j)}),new Mt(C.segments,Y)}}function vr(C,T,E){const O=C.segments.slice(0,T);let Y=0;for(;Y<E.length;){const j=E[Y];if(So(j)){const ot=Oo(j.outlets);return new Mt(O,ot)}if(0===Y&&Di(E[0])){O.push(new En(C.segments[T].path,ps(E[0]))),Y++;continue}const re=So(j)?j.outlets[ln]:`${j}`,be=Y<E.length-1?E[Y+1]:null;re&&be&&Di(be)?(O.push(new En(re,ps(be))),Y+=2):(O.push(new En(re,{})),Y++)}return new Mt(O,{})}function Oo(C){const T={};return Kt(C,(E,O)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[O]=vr(new Mt([],{}),0,E))}),T}function ps(C){const T={};return Kt(C,(E,O)=>T[O]=`${E}`),T}function $o(C,T,E){return C==E.path&&et(T,E.parameters)}class os{constructor(T,E,O,Y){this.routeReuseStrategy=T,this.futureState=E,this.currState=O,this.forwardEvent=Y}activate(T){const E=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,O,T),Bi(this.futureState.root),this.activateChildRoutes(E,O,T)}deactivateChildRoutes(T,E,O){const Y=Ir(E);T.children.forEach(j=>{const re=j.value.outlet;this.deactivateRoutes(j,Y[re],O),delete Y[re]}),Kt(Y,(j,re)=>{this.deactivateRouteAndItsChildren(j,O)})}deactivateRoutes(T,E,O){const Y=T.value,j=E?E.value:null;if(Y===j)if(Y.component){const re=O.getContext(Y.outlet);re&&this.deactivateChildRoutes(T,E,re.children)}else this.deactivateChildRoutes(T,E,O);else j&&this.deactivateRouteAndItsChildren(E,O)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const O=E.getContext(T.value.outlet),Y=O&&T.value.component?O.children:E,j=Ir(T);for(const re of Object.keys(j))this.deactivateRouteAndItsChildren(j[re],Y);if(O&&O.outlet){const re=O.outlet.detach(),be=O.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:re,route:T,contexts:be})}}deactivateRouteAndOutlet(T,E){const O=E.getContext(T.value.outlet),Y=O&&T.value.component?O.children:E,j=Ir(T);for(const re of Object.keys(j))this.deactivateRouteAndItsChildren(j[re],Y);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(T,E,O){const Y=Ir(E);T.children.forEach(j=>{this.activateRoutes(j,Y[j.value.outlet],O),this.forwardEvent(new Lr(j.value.snapshot))}),T.children.length&&this.forwardEvent(new br(T.value.snapshot))}activateRoutes(T,E,O){const Y=T.value,j=E?E.value:null;if(Bi(Y),Y===j)if(Y.component){const re=O.getOrCreateContext(Y.outlet);this.activateChildRoutes(T,E,re.children)}else this.activateChildRoutes(T,E,O);else if(Y.component){const re=O.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const be=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),re.children.onOutletReAttached(be.contexts),re.attachRef=be.componentRef,re.route=be.route.value,re.outlet&&re.outlet.attach(be.componentRef,be.route.value),Bi(be.route.value),this.activateChildRoutes(T,null,re.children)}else{const be=function fo(C){for(let T=C.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(Y.snapshot),ot=be?be.module.componentFactoryResolver:null;re.attachRef=null,re.route=Y,re.resolver=ot,re.outlet&&re.outlet.activateWith(Y,ot),this.activateChildRoutes(T,null,re.children)}}else this.activateChildRoutes(T,null,O)}}class po{constructor(T,E){this.routes=T,this.module=E}}function pi(C){return"function"==typeof C}function Si(C){return C instanceof Zt}const Gi=Symbol("INITIAL_VALUE");function xi(){return(0,Le.w)(C=>(0,ae.a)(C.map(T=>T.pipe((0,Ct.q)(1),(0,Ce.O)(Gi)))).pipe((0,ne.R)((T,E)=>{let O=!1;return E.reduce((Y,j,re)=>Y!==Gi?Y:(j===Gi&&(O=!0),O||!1!==j&&re!==E.length-1&&!Si(j)?Y:j),T)},Gi),(0,fe.h)(T=>T!==Gi),(0,Ge.U)(T=>Si(T)?T:!0===T),(0,Ct.q)(1)))}class Ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Co,this.attachRef=null}}class Co{constructor(){this.contexts=new Map}onChildOutletCreated(T,E){const O=this.getOrCreateContext(T);O.outlet=E,this.contexts.set(T,O)}onChildOutletDestroyed(T){const E=this.getContext(T);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let E=this.getContext(T);return E||(E=new Ro,this.contexts.set(T,E)),E}getContext(T){return this.contexts.get(T)||null}}let mo=(()=>{class C{constructor(E,O,Y,j,re){this.parentContexts=E,this.location=O,this.resolver=Y,this.changeDetector=re,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=j||ln,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,O){this.activated=E,this._activatedRoute=O,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const re=(O=O||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),be=this.parentContexts.getOrCreateContext(this.name).children,ot=new ki(E,be,this.location.injector);this.activated=this.location.createComponent(re,this.location.length,ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(E){return new(E||C)(p.Y36(Co),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},C.\u0275dir=p.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),C})();class ki{constructor(T,E,O){this.route=T,this.childContexts=E,this.parent=O}get(T,E){return T===yn?this.route:T===Co?this.childContexts:this.parent.get(T,E)}}let xr=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=p.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,O){1&E&&p._UZ(0,"router-outlet")},directives:[mo],encapsulation:2}),C})();function so(C,T=""){for(let E=0;E<C.length;E++){const O=C[E];Ki(O,Fo(T,O))}}function Ki(C,T){C.children&&so(C.children,T)}function Fo(C,T){return T?C||T.path?C&&!T.path?`${C}/`:!C&&T.path?T.path:`${C}/${T.path}`:"":C}function ar(C){const T=C.children&&C.children.map(ar),E=T?Object.assign(Object.assign({},C),{children:T}):Object.assign({},C);return!E.component&&(T||E.loadChildren)&&E.outlet&&E.outlet!==ln&&(E.component=xr),E}function Br(C){return C.outlet||ln}function Lo(C,T){const E=C.filter(O=>Br(O)===T);return E.push(...C.filter(O=>Br(O)!==T)),E}const Mi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function go(C,T,E){var O;if(""===T.path)return"full"===T.pathMatch&&(C.hasChildren()||E.length>0)?Object.assign({},Mi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const j=(T.matcher||Pe)(E,C,T);if(!j)return Object.assign({},Mi);const re={};Kt(j.posParams,(ot,st)=>{re[st]=ot.path});const be=j.consumed.length>0?Object.assign(Object.assign({},re),j.consumed[j.consumed.length-1].parameters):re;return{matched:!0,consumedSegments:j.consumed,lastChild:j.consumed.length,parameters:be,positionalParamSegments:null!==(O=j.posParams)&&void 0!==O?O:{}}}function Yo(C,T,E,O,Y="corrected"){if(E.length>0&&function yo(C,T,E){return E.some(O=>k(C,T,O)&&Br(O)!==ln)}(C,E,O)){const re=new Mt(T,function Qn(C,T,E,O){const Y={};Y[ln]=O,O._sourceSegment=C,O._segmentIndexShift=T.length;for(const j of E)if(""===j.path&&Br(j)!==ln){const re=new Mt([],{});re._sourceSegment=C,re._segmentIndexShift=T.length,Y[Br(j)]=re}return Y}(C,T,O,new Mt(E,C.children)));return re._sourceSegment=C,re._segmentIndexShift=T.length,{segmentGroup:re,slicedSegments:[]}}if(0===E.length&&function Go(C,T,E){return E.some(O=>k(C,T,O))}(C,E,O)){const re=new Mt(C.segments,function Jr(C,T,E,O,Y,j){const re={};for(const be of O)if(k(C,E,be)&&!Y[Br(be)]){const ot=new Mt([],{});ot._sourceSegment=C,ot._segmentIndexShift="legacy"===j?C.segments.length:T.length,re[Br(be)]=ot}return Object.assign(Object.assign({},Y),re)}(C,T,E,O,C.children,Y));return re._sourceSegment=C,re._segmentIndexShift=T.length,{segmentGroup:re,slicedSegments:E}}const j=new Mt(C.segments,C.children);return j._sourceSegment=C,j._segmentIndexShift=T.length,{segmentGroup:j,slicedSegments:E}}function k(C,T,E){return(!(C.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function K(C,T,E,O){return!!(Br(C)===O||O!==ln&&k(T,E,C))&&("**"===C.path||go(T,C,E).matched)}function M(C,T,E){return 0===T.length&&!C.children[E]}class Q{constructor(T){this.segmentGroup=T||null}}class Ee{constructor(T){this.urlTree=T}}function nt(C){return new Z.y(T=>T.error(new Q(C)))}function yt(C){return new Z.y(T=>T.error(new Ee(C)))}function Ot(C){return new Z.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class I{constructor(T,E,O,Y,j){this.configLoader=E,this.urlSerializer=O,this.urlTree=Y,this.config=j,this.allowRedirects=!0,this.ngModule=T.get(p.h0i)}apply(){const T=Yo(this.urlTree.root,[],[],this.config).segmentGroup,E=new Mt(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,E,ln).pipe((0,Ge.U)(j=>this.createUrlTree(qe(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,le.K)(j=>{if(j instanceof Ee)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof Q?this.noMatchError(j):j}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,ln).pipe((0,Ge.U)(Y=>this.createUrlTree(qe(Y),T.queryParams,T.fragment))).pipe((0,le.K)(Y=>{throw Y instanceof Q?this.noMatchError(Y):Y}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,E,O){const Y=T.segments.length>0?new Mt([],{[ln]:T}):T;return new Zt(Y,E,O)}expandSegmentGroup(T,E,O,Y){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(T,E,O).pipe((0,Ge.U)(j=>new Mt([],j))):this.expandSegment(T,O,E,O.segments,Y,!0)}expandChildren(T,E,O){const Y=[];for(const j of Object.keys(O.children))"primary"===j?Y.unshift(j):Y.push(j);return(0,Ie.D)(Y).pipe((0,ve.b)(j=>{const re=O.children[j],be=Lo(E,j);return this.expandSegmentGroup(T,be,re,j).pipe((0,Ge.U)(ot=>({segment:ot,outlet:j})))}),(0,ne.R)((j,re)=>(j[re.outlet]=re.segment,j),{}),function Ye(C,T){const E=arguments.length>=2;return O=>O.pipe(C?(0,fe.h)((Y,j)=>C(Y,j,O)):Ne.y,Fe(1),E?(0,Ze.d)(T):(0,ct.T)(()=>new Oe.K))}())}expandSegment(T,E,O,Y,j,re){return(0,Ie.D)(O).pipe((0,ve.b)(be=>this.expandSegmentAgainstRoute(T,E,O,be,Y,j,re).pipe((0,le.K)(st=>{if(st instanceof Q)return(0,me.of)(null);throw st}))),(0,Se.P)(be=>!!be),(0,le.K)((be,ot)=>{if(be instanceof Oe.K||"EmptyError"===be.name){if(M(E,Y,j))return(0,me.of)(new Mt([],{}));throw new Q(E)}throw be}))}expandSegmentAgainstRoute(T,E,O,Y,j,re,be){return K(Y,E,j,re)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(T,E,Y,j,re):be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,O,Y,j,re):nt(E):nt(E)}expandSegmentAgainstRouteUsingRedirect(T,E,O,Y,j,re){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,O,Y,re):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,O,Y,j,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,O,Y){const j=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?yt(j):this.lineralizeSegments(O,j).pipe((0,je.z)(re=>{const be=new Mt(re,{});return this.expandSegment(T,be,E,re,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,O,Y,j,re){const{matched:be,consumedSegments:ot,lastChild:st,positionalParamSegments:Ft}=go(E,Y,j);if(!be)return nt(E);const fn=this.applyRedirectCommands(ot,Y.redirectTo,Ft);return Y.redirectTo.startsWith("/")?yt(fn):this.lineralizeSegments(Y,fn).pipe((0,je.z)(Tt=>this.expandSegment(T,E,O,Tt.concat(j.slice(st)),re,!1)))}matchSegmentAgainstRoute(T,E,O,Y,j){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,me.of)(O._loadedConfig):this.configLoader.load(T.injector,O)).pipe((0,Ge.U)(Tt=>(O._loadedConfig=Tt,new Mt(Y,{})))):(0,me.of)(new Mt(Y,{}));const{matched:re,consumedSegments:be,lastChild:ot}=go(E,O,Y);if(!re)return nt(E);const st=Y.slice(ot);return this.getChildConfig(T,O,Y).pipe((0,je.z)(fn=>{const Tt=fn.module,$e=fn.routes,{segmentGroup:Et,slicedSegments:Sr}=Yo(E,be,st,$e),_o=new Mt(Et.segments,Et.children);if(0===Sr.length&&_o.hasChildren())return this.expandChildren(Tt,$e,_o).pipe((0,Ge.U)(Qo=>new Mt(be,Qo)));if(0===$e.length&&0===Sr.length)return(0,me.of)(new Mt(be,{}));const jo=Br(O)===j;return this.expandSegment(Tt,_o,$e,Sr,jo?ln:j,!0).pipe((0,Ge.U)(Vs=>new Mt(be.concat(Vs.segments),Vs.children)))}))}getChildConfig(T,E,O){return E.children?(0,me.of)(new po(E.children,T)):E.loadChildren?void 0!==E._loadedConfig?(0,me.of)(E._loadedConfig):this.runCanLoadGuards(T.injector,E,O).pipe((0,je.z)(Y=>Y?this.configLoader.load(T.injector,E).pipe((0,Ge.U)(j=>(E._loadedConfig=j,j))):function R(C){return new Z.y(T=>T.error(sr(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`)))}(E))):(0,me.of)(new po([],T))}runCanLoadGuards(T,E,O){const Y=E.canLoad;if(!Y||0===Y.length)return(0,me.of)(!0);const j=Y.map(re=>{const be=T.get(re);let ot;if(function ss(C){return C&&pi(C.canLoad)}(be))ot=be.canLoad(E,O);else{if(!pi(be))throw new Error("Invalid CanLoad guard");ot=be(E,O)}return An(ot)});return(0,me.of)(j).pipe(xi(),(0,_e.b)(re=>{if(!Si(re))return;const be=sr(`Redirecting to "${this.urlSerializer.serialize(re)}"`);throw be.url=re,be}),(0,Ge.U)(re=>!0===re))}lineralizeSegments(T,E){let O=[],Y=E.root;for(;;){if(O=O.concat(Y.segments),0===Y.numberOfChildren)return(0,me.of)(O);if(Y.numberOfChildren>1||!Y.children[ln])return Ot(T.redirectTo);Y=Y.children[ln]}}applyRedirectCommands(T,E,O){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),T,O)}applyRedirectCreatreUrlTree(T,E,O,Y){const j=this.createSegmentGroup(T,E.root,O,Y);return new Zt(j,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const O={};return Kt(T,(Y,j)=>{if("string"==typeof Y&&Y.startsWith(":")){const be=Y.substring(1);O[j]=E[be]}else O[j]=Y}),O}createSegmentGroup(T,E,O,Y){const j=this.createSegments(T,E.segments,O,Y);let re={};return Kt(E.children,(be,ot)=>{re[ot]=this.createSegmentGroup(T,be,O,Y)}),new Mt(j,re)}createSegments(T,E,O,Y){return E.map(j=>j.path.startsWith(":")?this.findPosParam(T,j,Y):this.findOrReturn(j,O))}findPosParam(T,E,O){const Y=O[E.path.substring(1)];if(!Y)throw new Error(`Cannot redirect to '${T}'. Cannot find '${E.path}'.`);return Y}findOrReturn(T,E){let O=0;for(const Y of E){if(Y.path===T.path)return E.splice(O),Y;O++}return T}}function qe(C){const T={};for(const O of Object.keys(C.children)){const j=qe(C.children[O]);(j.segments.length>0||j.hasChildren())&&(T[O]=j)}return function W(C){if(1===C.numberOfChildren&&C.children[ln]){const T=C.children[ln];return new Mt(C.segments.concat(T.segments),T.children)}return C}(new Mt(C.segments,T))}class vn{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class $t{constructor(T,E){this.component=T,this.route=E}}function Gr(C,T,E){const O=C._root;return ao(O,T?T._root:null,E,[O.value])}function ai(C,T,E){const O=function Oi(C){if(!C)return null;for(let T=C.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(T);return(O?O.module.injector:E).get(C)}function ao(C,T,E,O,Y={canDeactivateChecks:[],canActivateChecks:[]}){const j=Ir(T);return C.children.forEach(re=>{(function Is(C,T,E,O,Y={canDeactivateChecks:[],canActivateChecks:[]}){const j=C.value,re=T?T.value:null,be=E?E.getContext(C.value.outlet):null;if(re&&j.routeConfig===re.routeConfig){const ot=function ua(C,T,E){if("function"==typeof E)return E(C,T);switch(E){case"pathParamsChange":return!ee(C.url,T.url);case"pathParamsOrQueryParamsChange":return!ee(C.url,T.url)||!et(C.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jr(C,T)||!et(C.queryParams,T.queryParams);default:return!jr(C,T)}}(re,j,j.routeConfig.runGuardsAndResolvers);ot?Y.canActivateChecks.push(new vn(O)):(j.data=re.data,j._resolvedData=re._resolvedData),ao(C,T,j.component?be?be.children:null:E,O,Y),ot&&be&&be.outlet&&be.outlet.isActivated&&Y.canDeactivateChecks.push(new $t(be.outlet.component,re))}else re&&vt(T,be,Y),Y.canActivateChecks.push(new vn(O)),ao(C,null,j.component?be?be.children:null:E,O,Y)})(re,j[re.value.outlet],E,O.concat([re.value]),Y),delete j[re.value.outlet]}),Kt(j,(re,be)=>vt(re,E.getContext(be),Y)),Y}function vt(C,T,E){const O=Ir(C),Y=C.value;Kt(O,(j,re)=>{vt(j,Y.component?T?T.children.getContext(re):null:T,E)}),E.canDeactivateChecks.push(new $t(Y.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Y))}class P{}function H(C){return new Z.y(T=>T.error(C))}class pe{constructor(T,E,O,Y,j,re){this.rootComponentType=T,this.config=E,this.urlTree=O,this.url=Y,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=re}recognize(){const T=Yo(this.urlTree.root,[],[],this.config.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,T,ln);if(null===E)return null;const O=new uo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new tr(O,E),j=new ji(this.url,Y);return this.inheritParamsAndData(j._root),j}inheritParamsAndData(T){const E=T.value,O=co(E,this.paramsInheritanceStrategy);E.params=Object.freeze(O.params),E.data=Object.freeze(O.data),T.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(T,E,O){return 0===E.segments.length&&E.hasChildren()?this.processChildren(T,E):this.processSegment(T,E,E.segments,O)}processChildren(T,E){const O=[];for(const j of Object.keys(E.children)){const re=E.children[j],be=Lo(T,j),ot=this.processSegmentGroup(be,re,j);if(null===ot)return null;O.push(...ot)}const Y=Pt(O);return function ye(C){C.sort((T,E)=>T.value.outlet===ln?-1:E.value.outlet===ln?1:T.value.outlet.localeCompare(E.value.outlet))}(Y),Y}processSegment(T,E,O,Y){for(const j of T){const re=this.processSegmentAgainstRoute(j,E,O,Y);if(null!==re)return re}return M(E,O,Y)?[]:null}processSegmentAgainstRoute(T,E,O,Y){if(T.redirectTo||!K(T,E,O,Y))return null;let j,re=[],be=[];if("**"===T.path){const $e=O.length>0?bt(O).parameters:{};j=new uo(O,$e,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dn(T),Br(T),T.component,T,bn(E),un(E)+O.length,In(T))}else{const $e=go(E,T,O);if(!$e.matched)return null;re=$e.consumedSegments,be=O.slice($e.lastChild),j=new uo(re,$e.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dn(T),Br(T),T.component,T,bn(E),un(E)+re.length,In(T))}const ot=function Be(C){return C.children?C.children:C.loadChildren?C._loadedConfig.routes:[]}(T),{segmentGroup:st,slicedSegments:Ft}=Yo(E,re,be,ot.filter($e=>void 0===$e.redirectTo),this.relativeLinkResolution);if(0===Ft.length&&st.hasChildren()){const $e=this.processChildren(ot,st);return null===$e?null:[new tr(j,$e)]}if(0===ot.length&&0===Ft.length)return[new tr(j,[])];const fn=Br(T)===Y,Tt=this.processSegment(ot,st,Ft,fn?ln:Y);return null===Tt?null:[new tr(j,Tt)]}}function ut(C){const T=C.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Pt(C){const T=[],E=new Set;for(const O of C){if(!ut(O)){T.push(O);continue}const Y=T.find(j=>O.value.routeConfig===j.value.routeConfig);void 0!==Y?(Y.children.push(...O.children),E.add(Y)):T.push(O)}for(const O of E){const Y=Pt(O.children);T.push(new tr(O.value,Y))}return T.filter(O=>!E.has(O))}function bn(C){let T=C;for(;T._sourceSegment;)T=T._sourceSegment;return T}function un(C){let T=C,E=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift?T._segmentIndexShift:0;return E-1}function dn(C){return C.data||{}}function In(C){return C.resolve||{}}function Ko(C){return(0,Le.w)(T=>{const E=C(T);return E?(0,Ie.D)(E).pipe((0,Ge.U)(()=>T)):(0,me.of)(T)})}class Kr extends class li{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}{}const vo=new p.OlP("ROUTES");class Ni{constructor(T,E,O,Y){this.injector=T,this.compiler=E,this.onLoadStartListener=O,this.onLoadEndListener=Y}load(T,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const Y=this.loadModuleFactory(E.loadChildren).pipe((0,Ge.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(E);const re=j.create(T);return new po(Lt(re.injector.get(vo,void 0,p.XFs.Self|p.XFs.Optional)).map(ar),re)}),(0,le.K)(j=>{throw E._loader$=void 0,j}));return E._loader$=new ke(Y,()=>new pt.x).pipe(Te()),E._loader$}loadModuleFactory(T){return An(T()).pipe((0,je.z)(E=>E instanceof p.YKP?(0,me.of)(E):(0,Ie.D)(this.compiler.compileModuleAsync(E))))}}class Wo{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,E){return T}}function qo(C){throw C}function vi(C,T,E){return T.parse("/")}function Wi(C,T){return(0,me.of)(null)}const Yt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class C{constructor(E,O,Y,j,re,be,ot){this.rootComponentType=E,this.urlSerializer=O,this.rootContexts=Y,this.location=j,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pt.x,this.errorHandler=qo,this.malformedUriErrorHandler=vi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wi,afterPreactivation:Wi},this.urlHandlingStrategy=new Wo,this.routeReuseStrategy=new Kr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=re.get(p.h0i),this.console=re.get(p.c2e);const fn=re.get(p.R0b);this.isNgZoneEnabled=fn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=function hr(){return new Zt(new Mt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ni(re,be,Tt=>this.triggerEvent(new dr(Tt)),Tt=>this.triggerEvent(new Fr(Tt))),this.routerState=Ai(this.currentUrlTree,this.rootComponentType),this.transitions=new te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const O=this.events;return E.pipe((0,fe.h)(Y=>0!==Y.id),(0,Ge.U)(Y=>Object.assign(Object.assign({},Y),{extractedUrl:this.urlHandlingStrategy.extract(Y.rawUrl)})),(0,Le.w)(Y=>{let j=!1,re=!1;return(0,me.of)(Y).pipe((0,_e.b)(be=>{this.currentNavigation={id:be.id,initialUrl:be.currentRawUrl,extractedUrl:be.extractedUrl,trigger:be.source,extras:be.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Le.w)(be=>{const ot=this.browserUrlTree.toString(),st=!this.navigated||be.extractedUrl.toString()!==ot||ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||st)&&this.urlHandlingStrategy.shouldProcessUrl(be.rawUrl))return ti(be.source)&&(this.browserUrlTree=be.extractedUrl),(0,me.of)(be).pipe((0,Le.w)(fn=>{const Tt=this.transitions.getValue();return O.next(new Bt(fn.id,this.serializeUrl(fn.extractedUrl),fn.source,fn.restoredState)),Tt!==this.transitions.getValue()?ht.E:Promise.resolve(fn)}),function Rt(C,T,E,O){return(0,Le.w)(Y=>function x(C,T,E,O,Y){return new I(C,T,E,O,Y).apply()}(C,T,E,Y.extractedUrl,O).pipe((0,Ge.U)(j=>Object.assign(Object.assign({},Y),{urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_e.b)(fn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:fn.urlAfterRedirects})}),function Bn(C,T,E,O,Y){return(0,je.z)(j=>function J(C,T,E,O,Y="emptyOnly",j="legacy"){try{const re=new pe(C,T,E,O,Y,j).recognize();return null===re?H(new P):(0,me.of)(re)}catch(re){return H(re)}}(C,T,j.urlAfterRedirects,E(j.urlAfterRedirects),O,Y).pipe((0,Ge.U)(re=>Object.assign(Object.assign({},j),{targetSnapshot:re}))))}(this.rootComponentType,this.config,fn=>this.serializeUrl(fn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_e.b)(fn=>{if("eager"===this.urlUpdateStrategy){if(!fn.extras.skipLocationChange){const $e=this.urlHandlingStrategy.merge(fn.urlAfterRedirects,fn.rawUrl);this.setBrowserUrl($e,fn)}this.browserUrlTree=fn.urlAfterRedirects}const Tt=new pr(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);O.next(Tt)}));if(st&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Tt,extractedUrl:$e,source:Et,restoredState:Sr,extras:_o}=be,jo=new Bt(Tt,this.serializeUrl($e),Et,Sr);O.next(jo);const Ks=Ai($e,this.rootComponentType).snapshot;return(0,me.of)(Object.assign(Object.assign({},be),{targetSnapshot:Ks,urlAfterRedirects:$e,extras:Object.assign(Object.assign({},_o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=be.rawUrl,be.resolve(null),ht.E}),Ko(be=>{const{targetSnapshot:ot,id:st,extractedUrl:Ft,rawUrl:fn,extras:{skipLocationChange:Tt,replaceUrl:$e}}=be;return this.hooks.beforePreactivation(ot,{navigationId:st,appliedUrlTree:Ft,rawUrlTree:fn,skipLocationChange:!!Tt,replaceUrl:!!$e})}),(0,_e.b)(be=>{const ot=new Jn(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);this.triggerEvent(ot)}),(0,Ge.U)(be=>Object.assign(Object.assign({},be),{guards:Gr(be.targetSnapshot,be.currentSnapshot,this.rootContexts)})),function Gn(C,T){return(0,je.z)(E=>{const{targetSnapshot:O,currentSnapshot:Y,guards:{canActivateChecks:j,canDeactivateChecks:re}}=E;return 0===re.length&&0===j.length?(0,me.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function Ps(C,T,E,O){return(0,Ie.D)(C).pipe((0,je.z)(Y=>function v(C,T,E,O,Y){const j=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,me.of)(!0);const re=j.map(be=>{const ot=ai(be,T,Y);let st;if(function mi(C){return C&&pi(C.canDeactivate)}(ot))st=An(ot.canDeactivate(C,T,E,O));else{if(!pi(ot))throw new Error("Invalid CanDeactivate guard");st=An(ot(C,T,E,O))}return st.pipe((0,Se.P)())});return(0,me.of)(re).pipe(xi())}(Y.component,Y.route,E,T,O)),(0,Se.P)(Y=>!0!==Y,!0))}(re,O,Y,C).pipe((0,je.z)(be=>be&&function No(C){return"boolean"==typeof C}(be)?function Mr(C,T,E,O){return(0,Ie.D)(T).pipe((0,ve.b)(Y=>(0,lt.z)(function As(C,T){return null!==C&&T&&T(new wn(C)),(0,me.of)(!0)}(Y.route.parent,O),function Fs(C,T){return null!==C&&T&&T(new Pn(C)),(0,me.of)(!0)}(Y.route,O),function m(C,T,E){const O=T[T.length-1],j=T.slice(0,T.length-1).reverse().map(re=>function gi(C){const T=C.routeConfig?C.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:C,guards:T}:null}(re)).filter(re=>null!==re).map(re=>(0,Je.P)(()=>{const be=re.guards.map(ot=>{const st=ai(ot,re.node,E);let Ft;if(function $i(C){return C&&pi(C.canActivateChild)}(st))Ft=An(st.canActivateChild(O,C));else{if(!pi(st))throw new Error("Invalid CanActivateChild guard");Ft=An(st(O,C))}return Ft.pipe((0,Se.P)())});return(0,me.of)(be).pipe(xi())}));return(0,me.of)(j).pipe(xi())}(C,Y.path,E),function B(C,T,E){const O=T.routeConfig?T.routeConfig.canActivate:null;if(!O||0===O.length)return(0,me.of)(!0);const Y=O.map(j=>(0,Je.P)(()=>{const re=ai(j,T,E);let be;if(function zi(C){return C&&pi(C.canActivate)}(re))be=An(re.canActivate(T,C));else{if(!pi(re))throw new Error("Invalid CanActivate guard");be=An(re(T,C))}return be.pipe((0,Se.P)())}));return(0,me.of)(Y).pipe(xi())}(C,Y.route,E))),(0,Se.P)(Y=>!0!==Y,!0))}(O,j,C,T):(0,me.of)(be)),(0,Ge.U)(be=>Object.assign(Object.assign({},E),{guardsResult:be})))})}(this.ngModule.injector,be=>this.triggerEvent(be)),(0,_e.b)(be=>{if(Si(be.guardsResult)){const st=sr(`Redirecting to "${this.serializeUrl(be.guardsResult)}"`);throw st.url=be.guardsResult,st}const ot=new Vn(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot,!!be.guardsResult);this.triggerEvent(ot)}),(0,fe.h)(be=>!!be.guardsResult||(this.restoreHistory(be),this.cancelNavigationTransition(be,""),!1)),Ko(be=>{if(be.guards.canActivateChecks.length)return(0,me.of)(be).pipe((0,_e.b)(ot=>{const st=new Dn(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(st)}),(0,Le.w)(ot=>{let st=!1;return(0,me.of)(ot).pipe(function Ar(C,T){return(0,je.z)(E=>{const{targetSnapshot:O,guards:{canActivateChecks:Y}}=E;if(!Y.length)return(0,me.of)(E);let j=0;return(0,Ie.D)(Y).pipe((0,ve.b)(re=>function Or(C,T,E,O){return function Xr(C,T,E,O){const Y=Object.keys(C);if(0===Y.length)return(0,me.of)({});const j={};return(0,Ie.D)(Y).pipe((0,je.z)(re=>function ei(C,T,E,O){const Y=ai(C,T,O);return An(Y.resolve?Y.resolve(T,E):Y(T,E))}(C[re],T,E,O).pipe((0,_e.b)(be=>{j[re]=be}))),Fe(1),(0,je.z)(()=>Object.keys(j).length===Y.length?(0,me.of)(j):ht.E))}(C._resolve,C,T,O).pipe((0,Ge.U)(j=>(C._resolvedData=j,C.data=Object.assign(Object.assign({},C.data),co(C,E).resolve),null)))}(re.route,O,C,T)),(0,_e.b)(()=>j++),Fe(1),(0,je.z)(re=>j===Y.length?(0,me.of)(E):ht.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_e.b)({next:()=>st=!0,complete:()=>{st||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"At least one route resolver didn't emit any value."))}}))}),(0,_e.b)(ot=>{const st=new Wn(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(st)}))}),Ko(be=>{const{targetSnapshot:ot,id:st,extractedUrl:Ft,rawUrl:fn,extras:{skipLocationChange:Tt,replaceUrl:$e}}=be;return this.hooks.afterPreactivation(ot,{navigationId:st,appliedUrlTree:Ft,rawUrlTree:fn,skipLocationChange:!!Tt,replaceUrl:!!$e})}),(0,Ge.U)(be=>{const ot=function nr(C,T,E){const O=Hi(C,T._root,E?E._root:void 0);return new kn(O,T)}(this.routeReuseStrategy,be.targetSnapshot,be.currentRouterState);return Object.assign(Object.assign({},be),{targetRouterState:ot})}),(0,_e.b)(be=>{this.currentUrlTree=be.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(be.urlAfterRedirects,be.rawUrl),this.routerState=be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,be),this.browserUrlTree=be.urlAfterRedirects)}),((C,T,E)=>(0,Ge.U)(O=>(new os(T,O.targetRouterState,O.currentRouterState,E).activate(C),O)))(this.rootContexts,this.routeReuseStrategy,be=>this.triggerEvent(be)),(0,_e.b)({next(){j=!0},complete(){j=!0}}),(0,xt.x)(()=>{var be;j||re||this.cancelNavigationTransition(Y,`Navigation ID ${Y.id} is not equal to the current navigation id ${this.navigationId}`),(null===(be=this.currentNavigation)||void 0===be?void 0:be.id)===Y.id&&(this.currentNavigation=null)}),(0,le.K)(be=>{if(re=!0,function dt(C){return C&&C[Xn]}(be)){const ot=Si(be.url);ot||(this.navigated=!0,this.restoreHistory(Y,!0));const st=new sn(Y.id,this.serializeUrl(Y.extractedUrl),be.message);O.next(st),ot?setTimeout(()=>{const Ft=this.urlHandlingStrategy.merge(be.url,this.rawUrlTree),fn={skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ti(Y.source)};this.scheduleNavigation(Ft,"imperative",null,fn,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})},0):Y.resolve(!1)}else{this.restoreHistory(Y,!0);const ot=new gr(Y.id,this.serializeUrl(Y.extractedUrl),be);O.next(ot);try{Y.resolve(this.errorHandler(be))}catch(st){Y.reject(st)}}return ht.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const O="popstate"===E.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{var Y;const j={replaceUrl:!0},re=(null===(Y=E.state)||void 0===Y?void 0:Y.navigationId)?E.state:null;if(re){const ot=Object.assign({},re);delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(j.state=ot)}const be=this.parseUrl(E.url);this.scheduleNavigation(be,O,re,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){so(E),this.config=E.map(ar),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,O={}){const{relativeTo:Y,queryParams:j,fragment:re,queryParamsHandling:be,preserveFragment:ot}=O,st=Y||this.routerState.root,Ft=ot?this.currentUrlTree.fragment:re;let fn=null;switch(be){case"merge":fn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),j);break;case"preserve":fn=this.currentUrlTree.queryParams;break;default:fn=j||null}return null!==fn&&(fn=this.removeEmptyProps(fn)),function Yr(C,T,E,O,Y){if(0===E.length)return oi(T.root,T.root,T,O,Y);const j=function rs(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new ho(!0,0,C);let T=0,E=!1;const O=C.reduce((Y,j,re)=>{if("object"==typeof j&&null!=j){if(j.outlets){const be={};return Kt(j.outlets,(ot,st)=>{be[st]="string"==typeof ot?ot.split("/"):ot}),[...Y,{outlets:be}]}if(j.segmentPath)return[...Y,j.segmentPath]}return"string"!=typeof j?[...Y,j]:0===re?(j.split("/").forEach((be,ot)=>{0==ot&&"."===be||(0==ot&&""===be?E=!0:".."===be?T++:""!=be&&Y.push(be))}),Y):[...Y,j]},[]);return new ho(E,T,O)}(E);if(j.toRoot())return oi(T.root,new Mt([],{}),T,O,Y);const re=function is(C,T,E){if(C.isAbsolute)return new cr(T.root,!0,0);if(-1===E.snapshot._lastPathIndex){const j=E.snapshot._urlSegment;return new cr(j,j===T.root,0)}const O=Di(C.commands[0])?0:1;return function si(C,T,E){let O=C,Y=T,j=E;for(;j>Y;){if(j-=Y,O=O.parent,!O)throw new Error("Invalid number of '../'");Y=O.segments.length}return new cr(O,!1,Y-j)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+O,C.numberOfDoubleDots)}(j,T,C),be=re.processChildren?wi(re.segmentGroup,re.index,j.commands):zo(re.segmentGroup,re.index,j.commands);return oi(re.segmentGroup,be,T,O,Y)}(st,this.currentUrlTree,E,fn,null!=Ft?Ft:null)}navigateByUrl(E,O={skipLocationChange:!1}){const Y=Si(E)?E:this.parseUrl(E),j=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,O)}navigate(E,O={skipLocationChange:!1}){return function or(C){for(let T=0;T<C.length;T++){const E=C[T];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${T}`)}}(E),this.navigateByUrl(this.createUrlTree(E,O),O)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let O;try{O=this.urlSerializer.parse(E)}catch(Y){O=this.malformedUriErrorHandler(Y,this.urlSerializer,E)}return O}isActive(E,O){let Y;if(Y=!0===O?Object.assign({},Yt):!1===O?Object.assign({},mn):O,Si(E))return Tn(this.currentUrlTree,E,Y);const j=this.parseUrl(E);return Tn(this.currentUrlTree,j,Y)}removeEmptyProps(E){return Object.keys(E).reduce((O,Y)=>{const j=E[Y];return null!=j&&(O[Y]=j),O},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Vt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,O,Y,j,re){var be,ot,st;if(this.disposed)return Promise.resolve(!1);const Ft=this.transitions.value,fn=ti(O)&&Ft&&!ti(Ft.source),Tt=Ft.rawUrl.toString()===E.toString(),$e=Ft.id===(null===(be=this.currentNavigation)||void 0===be?void 0:be.id);if(fn&&Tt&&$e)return Promise.resolve(!0);let Sr,_o,jo;re?(Sr=re.resolve,_o=re.reject,jo=re.promise):jo=new Promise((Qo,Yl)=>{Sr=Qo,_o=Yl});const Ks=++this.navigationId;let Vs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Y=this.location.getState()),Vs=Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?null!==(ot=this.browserPageId)&&void 0!==ot?ot:0:(null!==(st=this.browserPageId)&&void 0!==st?st:0)+1):Vs=0,this.setTransition({id:Ks,targetPageId:Vs,source:O,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:j,resolve:Sr,reject:_o,promise:jo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jo.catch(Qo=>Promise.reject(Qo))}setBrowserUrl(E,O){const Y=this.urlSerializer.serialize(E),j=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(Y)||O.extras.replaceUrl?this.location.replaceState(Y,"",j):this.location.go(Y,"",j)}restoreHistory(E,O=!1){var Y,j;if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)||0===re?this.currentUrlTree===(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)&&0===re&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(re)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,O){const Y=new sn(E.id,this.serializeUrl(E.extractedUrl),O);this.triggerEvent(Y),E.resolve(!1)}generateNgRouterState(E,O){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:O}:{navigationId:E}}}return C.\u0275fac=function(E){p.$Z()},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C})();function ti(C){return"imperative"!==C}let qi=(()=>{class C{constructor(E,O,Y,j,re){this.router=E,this.route=O,this.tabIndexAttribute=Y,this.renderer=j,this.el=re,this.commands=null,this.onChanges=new pt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const O=this.renderer,Y=this.el.nativeElement;null!==E?O.setAttribute(Y,"tabindex",E):O.removeAttribute(Y,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return C.\u0275fac=function(E){return new(E||C)(p.Y36(cn),p.Y36(yn),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},C.\u0275dir=p.lG2({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,O){1&E&&p.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),C})(),ci=(()=>{class C{constructor(E,O,Y){this.router=E,this.route=O,this.locationStrategy=Y,this.commands=null,this.href=null,this.onChanges=new pt.x,this.subscription=E.events.subscribe(j=>{j instanceof Vt&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,O,Y,j,re){if(0!==E||O||Y||j||re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const be={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,be),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return C.\u0275fac=function(E){return new(E||C)(p.Y36(cn),p.Y36(yn),p.Y36(Jt.S$))},C.\u0275dir=p.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,O){1&E&&p.NdJ("click",function(j){return O.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&E&&p.uIk("target",O.target)("href",O.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),C})();function Ri(C){return""===C||!!C}class Fi{}class Hr{preload(T,E){return(0,me.of)(null)}}let Ci=(()=>{class C{constructor(E,O,Y,j){this.router=E,this.injector=Y,this.preloadingStrategy=j,this.loader=new Ni(Y,O,ot=>E.triggerEvent(new dr(ot)),ot=>E.triggerEvent(new Fr(ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,fe.h)(E=>E instanceof Vt),(0,ve.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(p.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,O){const Y=[];for(const j of O)if(j.loadChildren&&!j.canLoad&&j._loadedConfig){const re=j._loadedConfig;Y.push(this.processRoutes(re.module,re.routes))}else j.loadChildren&&!j.canLoad?Y.push(this.preloadConfig(E,j)):j.children&&Y.push(this.processRoutes(E,j.children));return(0,Ie.D)(Y).pipe((0,en.J)(),(0,Ge.U)(j=>{}))}preloadConfig(E,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,me.of)(O._loadedConfig):this.loader.load(E.injector,O)).pipe((0,je.z)(j=>(O._loadedConfig=j,this.processRoutes(j.module,j.routes)))))}}return C.\u0275fac=function(E){return new(E||C)(p.LFG(cn),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Fi))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C})(),Zi=(()=>{class C{constructor(E,O,Y={}){this.router=E,this.viewportScroller=O,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Vt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ur&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,O){this.router.triggerEvent(new Ur(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(E){p.$Z()},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C})();const gs=new p.OlP("ROUTER_CONFIGURATION"),xs=new p.OlP("ROUTER_FORROOT_GUARD"),$s=[Jt.Ye,{provide:We,useClass:Ue},{provide:cn,useFactory:function Fl(C,T,E,O,Y,j,re={},be,ot){const st=new cn(null,C,T,E,O,Y,Lt(j));return be&&(st.urlHandlingStrategy=be),ot&&(st.routeReuseStrategy=ot),function Uo(C,T){C.errorHandler&&(T.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(T.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(T.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(T.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(T.urlUpdateStrategy=C.urlUpdateStrategy),C.canceledNavigationResolution&&(T.canceledNavigationResolution=C.canceledNavigationResolution)}(re,st),re.enableTracing&&st.events.subscribe(Ft=>{var fn,Tt;null===(fn=console.group)||void 0===fn||fn.call(console,`Router Event: ${Ft.constructor.name}`),console.log(Ft.toString()),console.log(Ft),null===(Tt=console.groupEnd)||void 0===Tt||Tt.call(console)}),st},deps:[We,Co,Jt.Ye,p.zs3,p.Sil,vo,gs,[class ms{},new p.FiY],[class yi{},new p.FiY]]},Co,{provide:yn,useFactory:function Ll(C){return C.routerState.root},deps:[cn]},Ci,Hr,class Zo{preload(T,E){return E().pipe((0,le.K)(()=>(0,me.of)(null)))}},{provide:gs,useValue:{enableTracing:!1}}];function Gs(){return new p.PXZ("Router",cn)}let Vo=(()=>{class C{constructor(E,O){}static forRoot(E,O){return{ngModule:C,providers:[$s,Li(E),{provide:xs,useFactory:Ls,deps:[[cn,new p.FiY,new p.tp0]]},{provide:gs,useValue:O||{}},{provide:Jt.S$,useFactory:vc,deps:[Jt.lw,[new p.tBr(Jt.mr),new p.FiY],gs]},{provide:Zi,useFactory:yc,deps:[cn,Jt.EM,gs]},{provide:Fi,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Hr},{provide:p.PXZ,multi:!0,useFactory:Gs},[wa,{provide:p.ip1,multi:!0,useFactory:as,deps:[wa]},{provide:Dr,useFactory:_c,deps:[wa]},{provide:p.tb,multi:!0,useExisting:Dr}]]}}static forChild(E){return{ngModule:C,providers:[Li(E)]}}}return C.\u0275fac=function(E){return new(E||C)(p.LFG(xs,8),p.LFG(cn,8))},C.\u0275mod=p.oAB({type:C}),C.\u0275inj=p.cJS({}),C})();function yc(C,T,E){return E.scrollOffset&&T.setOffset(E.scrollOffset),new Zi(C,T,E)}function vc(C,T,E={}){return E.useHash?new Jt.Do(C,T):new Jt.b0(C,T)}function Ls(C){return"guarded"}function Li(C){return[{provide:p.deG,multi:!0,useValue:C},{provide:vo,multi:!0,useValue:C}]}let wa=(()=>{class C{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pt.x}appInitializer(){return this.injector.get(Jt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const Y=new Promise(be=>O=be),j=this.injector.get(cn),re=this.injector.get(gs);return"disabled"===re.initialNavigation?(j.setUpLocationChangeListener(),O(!0)):"enabled"===re.initialNavigation||"enabledBlocking"===re.initialNavigation?(j.hooks.afterPreactivation=()=>this.initNavigation?(0,me.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),j.initialNavigation()):O(!0),Y})}bootstrapListener(E){const O=this.injector.get(gs),Y=this.injector.get(Ci),j=this.injector.get(Zi),re=this.injector.get(cn),be=this.injector.get(p.z2F);E===be.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&re.initialNavigation(),Y.setUpPreloading(),j.init(),re.resetRootComponentType(be.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(E){return new(E||C)(p.LFG(p.zs3))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C})();function as(C){return C.appInitializer.bind(C)}function _c(C){return C.bootstrapListener.bind(C)}const Dr=new p.OlP("Router Initializer")},3942:(Nt,He,L)=>{L.d(He,{Z:()=>ht});var p=L(2090),Z=L(4859),G=L(9681),De=L(1877);class he{constructor(fe,Fe){this._delegate=fe,this.firebase=Fe,(0,G._addComponent)(fe,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(fe,Fe=G._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(fe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(ct=Ze.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Fe})}_removeServiceInstance(fe,Fe=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Fe)}_addComponent(fe){(0,G._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,G._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function me(){const pt=function Ie(pt){const fe={},Fe={__esModule:!0,initializeApp:function Ne(Ct,Ce={}){const ne=G.initializeApp(Ct,Ce);if((0,p.r3)(fe,ne.name))return fe[ne.name];const le=new pt(ne,Fe);return fe[ne.name]=le,le},app:Ze,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ge(Ct){const Ce=Ct.name,ne=Ce.replace("-compat","");if(G._registerComponent(Ct)&&"PUBLIC"===Ct.type){const le=(ve=Ze())=>{if("function"!=typeof ve[ne])throw ke.create("invalid-app-argument",{appName:Ce});return ve[ne]()};void 0!==Ct.serviceProps&&(0,p.ZB)(le,Ct.serviceProps),Fe[ne]=le,pt.prototype[ne]=function(...ve){return this._getService.bind(this,Ce).apply(this,Ct.multipleInstances?ve:[])}}return"PUBLIC"===Ct.type?Fe[ne]:null},removeApp:function ct(Ct){delete fe[Ct]},useAsService:function Le(Ct,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:G}};function Ze(Ct){if(!(0,p.r3)(fe,Ct=Ct||G._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Ct});return fe[Ct]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Ye(){return Object.keys(fe).map(Ct=>fe[Ct])}}),Ze.App=pt,Fe}(he);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function fe(Fe){(0,p.ZB)(pt,Fe)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),pt}(),ae=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=te;!function Je(pt){(0,G.registerVersion)("@firebase/app-compat","0.1.21",pt)}()},9681:(Nt,He,L)=>{L.r(He),L.d(He,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>gr,_apps:()=>Bt,_clearComponents:()=>Dn,_components:()=>Vt,_getProvider:()=>Jn,_registerComponent:()=>pr,_removeServiceInstance:()=>Vn,deleteApp:()=>Ur,getApp:()=>Pn,getApps:()=>Lr,initializeApp:()=>br,onLog:()=>Rn,registerVersion:()=>tn,setLogLevel:()=>Xn});var p=L(5861),Z=L(4859),G=L(1877),De=L(2090);class he{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function Te(kt){const tt=kt.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(Wt)){const Zt=Wt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Wt=>Wt).join(" ")}}const ke="@firebase/app",me=new G.Yd("@firebase/app"),Jt="[DEFAULT]",Dt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,Vt=new Map;function sn(kt,tt){try{kt.container.addComponent(tt)}catch(Wt){me.debug(`Component ${tt.name} failed to register with FirebaseApp ${kt.name}`,Wt)}}function gr(kt,tt){kt.container.addOrOverwriteComponent(tt)}function pr(kt){const tt=kt.name;if(Vt.has(tt))return me.debug(`There were multiple attempts to register component ${tt}.`),!1;Vt.set(tt,kt);for(const Wt of Bt.values())sn(Wt,kt);return!0}function Jn(kt,tt){const Wt=kt.container.getProvider("heartbeat").getImmediate({optional:!0});return Wt&&Wt.triggerHeartbeat(),kt.container.getProvider(tt)}function Vn(kt,tt,Wt=Jt){Jn(kt,tt).clearInstance(Wt)}function Dn(){Vt.clear()}const dr=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Fr{constructor(tt,Wt,Zt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const wn="9.6.10";function br(kt,tt={}){"object"!=typeof tt&&(tt={name:tt});const Wt=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},tt),Zt=Wt.name;if("string"!=typeof Zt||!Zt)throw dr.create("bad-app-name",{appName:String(Zt)});const Mt=Bt.get(Zt);if(Mt){if((0,De.vZ)(kt,Mt.options)&&(0,De.vZ)(Wt,Mt.config))return Mt;throw dr.create("duplicate-app",{appName:Zt})}const En=new Z.H0(Zt);for(const ee of Vt.values())En.addComponent(ee);const de=new Fr(kt,Wt,En);return Bt.set(Zt,de),de}function Pn(kt=Jt){const tt=Bt.get(kt);if(!tt)throw dr.create("no-app",{appName:kt});return tt}function Lr(){return Array.from(Bt.values())}function Ur(kt){return ln.apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(kt){const tt=kt.name;Bt.has(tt)&&(Bt.delete(tt),yield Promise.all(kt.container.getProviders().map(Wt=>Wt.delete())),kt.isDeleted=!0)})).apply(this,arguments)}function tn(kt,tt,Wt){var Zt;let Mt=null!==(Zt=Dt[kt])&&void 0!==Zt?Zt:kt;Wt&&(Mt+=`-${Wt}`);const En=Mt.match(/\s|\//),de=tt.match(/\s|\//);if(En||de){const ee=[`Unable to register library "${Mt}" with version "${tt}":`];return En&&ee.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),En&&de&&ee.push("and"),de&&ee.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void me.warn(ee.join(" "))}pr(new Z.wA(`${Mt}-version`,()=>({library:Mt,version:tt}),"VERSION"))}function Rn(kt,tt){if(null!==kt&&"function"!=typeof kt)throw dr.create("invalid-log-argument");(0,G.Am)(kt,tt)}function Xn(kt){(0,G.Ub)(kt)}const Pe="firebase-heartbeat-store";let Ae=null;function et(){return Ae||(Ae=(0,De.X3)("firebase-heartbeat-database",1,(kt,tt)=>{0===tt&&kt.createObjectStore(Pe)}).catch(kt=>{throw dr.create("storage-open",{originalErrorMessage:kt.message})})),Ae}function Lt(){return(Lt=(0,p.Z)(function*(kt){try{return(yield et()).transaction(Pe).objectStore(Pe).get(Kt(kt))}catch(tt){throw dr.create("storage-get",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function bt(kt,tt){return zt.apply(this,arguments)}function zt(){return(zt=(0,p.Z)(function*(kt,tt){try{const Zt=(yield et()).transaction(Pe,"readwrite");return yield Zt.objectStore(Pe).put(tt,Kt(kt)),Zt.complete}catch(Wt){throw dr.create("storage-set",{originalErrorMessage:Wt.message})}})).apply(this,arguments)}function Kt(kt){return`${kt.name}!${kt.options.appId}`}class Yn{constructor(tt){this.container=tt,this._heartbeatsCache=null;const Wt=this.container.getProvider("app").getImmediate();this._storage=new on(Wt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var tt=this;return(0,p.Z)(function*(){const Zt=tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=fr();if(null===tt._heartbeatsCache&&(tt._heartbeatsCache=yield tt._heartbeatsCachePromise),tt._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!tt._heartbeatsCache.heartbeats.some(En=>En.date===Mt))return tt._heartbeatsCache.heartbeats.push({date:Mt,agent:Zt}),tt._heartbeatsCache.heartbeats=tt._heartbeatsCache.heartbeats.filter(En=>{const de=new Date(En.date).valueOf();return Date.now()-de<=2592e6}),tt._storage.overwrite(tt._heartbeatsCache)})()}getHeartbeatsHeader(){var tt=this;return(0,p.Z)(function*(){if(null===tt._heartbeatsCache&&(yield tt._heartbeatsCachePromise),null===tt._heartbeatsCache||0===tt._heartbeatsCache.heartbeats.length)return"";const Wt=fr(),{heartbeatsToSend:Zt,unsentEntries:Mt}=function Tn(kt,tt=1024){const Wt=[];let Zt=kt.slice();for(const Mt of kt){const En=Wt.find(de=>de.agent===Mt.agent);if(En){if(En.dates.push(Mt.date),pn(Wt)>tt){En.dates.pop();break}}else if(Wt.push({agent:Mt.agent,dates:[Mt.date]}),pn(Wt)>tt){Wt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Wt,unsentEntries:Zt}}(tt._heartbeatsCache.heartbeats),En=(0,De.L)(JSON.stringify({version:2,heartbeats:Zt}));return tt._heartbeatsCache.lastSentHeartbeatDate=Wt,Mt.length>0?(tt._heartbeatsCache.heartbeats=Mt,yield tt._storage.overwrite(tt._heartbeatsCache)):(tt._heartbeatsCache.heartbeats=[],tt._storage.overwrite(tt._heartbeatsCache)),En})()}}function fr(){return(new Date).toISOString().substring(0,10)}class on{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var tt=this;return(0,p.Z)(function*(){return(yield tt._canUseIndexedDBPromise)&&(yield function ft(kt){return Lt.apply(this,arguments)}(tt.app))||{heartbeats:[]}})()}overwrite(tt){var Wt=this;return(0,p.Z)(function*(){var Zt;if(yield Wt._canUseIndexedDBPromise){const En=yield Wt.read();return bt(Wt.app,{lastSentHeartbeatDate:null!==(Zt=tt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:En.lastSentHeartbeatDate,heartbeats:tt.heartbeats})}})()}add(tt){var Wt=this;return(0,p.Z)(function*(){var Zt;if(yield Wt._canUseIndexedDBPromise){const En=yield Wt.read();return bt(Wt.app,{lastSentHeartbeatDate:null!==(Zt=tt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...tt.heartbeats]})}})()}}function pn(kt){return(0,De.L)(JSON.stringify({version:2,heartbeats:kt})).length}!function gn(kt){pr(new Z.wA("platform-logger",tt=>new he(tt),"PRIVATE")),pr(new Z.wA("heartbeat",tt=>new Yn(tt),"PRIVATE")),tn(ke,"0.7.20",kt),tn(ke,"0.7.20","esm2017"),tn("fire-js","")}("")},4859:(Nt,He,L)=>{L.d(He,{H0:()=>Ie,wA:()=>G});var p=L(5861),Z=L(2090);class G{constructor(te,ae,Oe){this.name=te,this.instanceFactory=ae,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const De="[DEFAULT]";class he{constructor(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){const Oe=new Z.BH;if(this.instancesDeferred.set(ae,Oe),this.isInitialized(ae)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:ae});lt&&Oe.resolve(lt)}catch(lt){}}return this.instancesDeferred.get(ae).promise}getImmediate(te){var ae;const Oe=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),lt=null!==(ae=null==te?void 0:te.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Je){if(lt)return null;throw Je}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function ke(me){return"EAGER"===me.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:De})}catch(ae){}for(const[ae,Oe]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(ae);try{const Je=this.getOrInitializeService({instanceIdentifier:lt});Oe.resolve(Je)}catch(Je){}}}}clearInstance(te=De){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,p.Z)(function*(){const ae=Array.from(te.instances.values());yield Promise.all([...ae.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ae.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=De){return this.instances.has(te)}getOptions(te=De){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ae={}}=te,Oe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:Oe,options:ae});for(const[Je,ht]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Je)&&ht.resolve(lt);return lt}onInit(te,ae){var Oe;const lt=this.normalizeInstanceIdentifier(ae),Je=null!==(Oe=this.onInitCallbacks.get(lt))&&void 0!==Oe?Oe:new Set;Je.add(te),this.onInitCallbacks.set(lt,Je);const ht=this.instances.get(lt);return ht&&te(ht,lt),()=>{Je.delete(te)}}invokeOnInitCallbacks(te,ae){const Oe=this.onInitCallbacks.get(ae);if(Oe)for(const lt of Oe)try{lt(te,ae)}catch(Je){}}getOrInitializeService({instanceIdentifier:te,options:ae={}}){let Oe=this.instances.get(te);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(me=te,me===De?void 0:me),options:ae}),this.instances.set(te,Oe),this.instancesOptions.set(te,ae),this.invokeOnInitCallbacks(Oe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Oe)}catch(lt){}var me;return Oe||null}normalizeInstanceIdentifier(te=De){return this.component?this.component.multipleInstances?te:De:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ae.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ae=new he(te,this);return this.providers.set(te,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(Nt,He,L)=>{L.d(He,{Am:()=>me,Ub:()=>Ie,Yd:()=>ke,in:()=>Z});const p=[];var Z=(()=>{return(te=Z||(Z={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",Z;var te})();const G={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},De=Z.INFO,he={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Te=(te,ae,...Oe)=>{if(ae<te.logLevel)return;const lt=(new Date).toISOString(),Je=he[ae];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Je](`[${lt}]  ${te.name}:`,...Oe)};class ke{constructor(ae){this.name=ae,this._logLevel=De,this._logHandler=Te,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Z))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?G[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ae),this._logHandler(this,Z.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ae),this._logHandler(this,Z.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ae),this._logHandler(this,Z.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ae),this._logHandler(this,Z.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ae),this._logHandler(this,Z.ERROR,...ae)}}function Ie(te){p.forEach(ae=>{ae.setLogLevel(te)})}function me(te,ae){for(const Oe of p){let lt=null;ae&&ae.level&&(lt=G[ae.level]),Oe.userLogHandler=null===te?null:(Je,ht,...pt)=>{const fe=pt.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch(ct){return null}}).filter(Fe=>Fe).join(" ");ht>=(null!=lt?lt:Je.logLevel)&&te({level:Z[ht].toLowerCase(),message:fe,args:pt,type:Je.name})}}}},585:(Nt,He,L)=>{L.d(He,{N:()=>p});const p={isTestMode:!1}},6947:(Nt,He,L)=>{L.d(He,{ZK:()=>ke});var p=L(5e3),Z=L(585);const G={};const ke=(...te)=>function Te(te,...ae){(Z.N.isTestMode||(0,p.X6Q)()&&function he(...te){const ae=te.reduce((Oe,lt)=>Oe+lt.toString(),"");return!G[ae]&&(G[ae]=!0,!0)}(...ae))&&te(...ae)}((...ae)=>console.warn("[NG-ZORRO]:",...ae),...te)},4170:(Nt,He,L)=>{L.d(He,{YI:()=>te,iF:()=>De,u7:()=>Te,wi:()=>Ie});var p=L(5e3),Z=L(1135),G=L(6947),De={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"}},he={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"}};const Te=new p.OlP("nz-i18n"),ke=new p.OlP("nz-date-locale");let Ie=(()=>{class de{constructor(ue,We){this._change=new Z.X(this._locale),this.setLocale(ue||he),this.setDateLocale(We||null)}get localeChange(){return this._change.asObservable()}translate(ue,We){let Ue=this._getObjectPath(this._locale,ue);return"string"==typeof Ue?(We&&Object.keys(We).forEach(At=>Ue=Ue.replace(new RegExp(`%${At}%`,"g"),We[At])),Ue):ue}setLocale(ue){this._locale&&this._locale.locale===ue.locale||(this._locale=ue,this._change.next(ue))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(ue){this.dateLocale=ue}getDateLocale(){return this.dateLocale}getLocaleData(ue,We){const Ue=ue?this._getObjectPath(this._locale,ue):this._locale;return!Ue&&!We&&(0,G.ZK)(`Missing translations for "${ue}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),Ue||We||this._getObjectPath(De,ue)||{}}_getObjectPath(ue,We){let Ue=ue;const At=We.split("."),xe=At.length;let ge=0;for(;Ue&&ge<xe;)Ue=Ue[At[ge++]];return ge===xe?Ue:null}}return de.\u0275fac=function(ue){return new(ue||de)(p.LFG(Te,8),p.LFG(ke,8))},de.\u0275prov=p.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),te=(()=>{class de{}return de.\u0275fac=function(ue){return new(ue||de)},de.\u0275mod=p.oAB({type:de}),de.\u0275inj=p.cJS({}),de})();new p.OlP("date-config")},5861:(Nt,He,L)=>{function p(G,De,he,Te,ke,Ie,me){try{var te=G[Ie](me),ae=te.value}catch(Oe){return void he(Oe)}te.done?De(ae):Promise.resolve(ae).then(Te,ke)}function Z(G){return function(){var De=this,he=arguments;return new Promise(function(Te,ke){var Ie=G.apply(De,he);function me(ae){p(Ie,Te,ke,me,te,"next",ae)}function te(ae){p(Ie,Te,ke,me,te,"throw",ae)}me(void 0)})}}L.d(He,{Z:()=>Z})}},Nt=>{Nt(Nt.s=5730)}]);